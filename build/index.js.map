{"version":3,"file":"index.js","mappings":"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AAEA;;AAEA,CAAC;;;;;;;;;;;AC/GD;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,OAAO,IAAyC;AAChD;AACA,IAAI,iCAAQ;AACZ,MAAM,qIAA4C;AAClD,KAAK,mCAAE;AACP;AACA,KAAK;AAAA,kGAAC;AACN,IAAI,KAAK,EAYN;;AAEH,CAAC;;AAED;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,uBAAuB;AAC1C;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL,GAAG;AACH;;AAEA;;AAEA;;AAEA,CAAC;;;;;;;;;;;AChPD;AACA;AACA;AACA,OAAO,IAAyC;AAChD;AACA,IAAI,iCAAQ;AACZ,MAAM,+EAAY;AAClB,MAAM,yFAAsB;AAC5B,KAAK,mCAAE;AACP;AACA,KAAK;AAAA,kGAAE;AACP,IAAI,KAAK,EAcN;;AAEH,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,WAAW,4BAA4B;AACvC,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAAW,4BAA4B;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,EAAE;;;;;;;;;;;AChKF;AACA;AACA;AACA,OAAO,IAAyC;AAChD;AACA,IAAI,iCAAQ;AACZ,MAAM,yFAAsB;AAC5B,KAAK,mCAAE;AACP;AACA,KAAK;AAAA,kGAAE;AACP,IAAI,KAAK,EAaN;;AAEH,CAAC;;AAED;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,EAAE;;;;;;;;;;;ACzMF;AACA;AACA;AACA,OAAO,IAAyC;AAChD;AACA,IAAI,iCAAQ;AACZ,MAAM,mFAAmB;AACzB,KAAK,mCAAE;AACP;AACA,KAAK;AAAA,kGAAE;AACP,IAAI,KAAK,EAaN;;AAEH,CAAC;;AAED;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,EAAE;;;;;;;;;;;AC7GF;AACA;AACA;AACA,OAAO,IAAyC;AAChD;AACA,IAAI,iCAAQ;AACZ,MAAM,+EAAY;AAClB,MAAM,2FAAuB;AAC7B,MAAM,yFAAsB;AAC5B,KAAK,mCAAE;AACP;AACA,KAAK;AAAA,kGAAE;AACP,IAAI,KAAK,EAgBN;;AAEH,CAAC;;AAED;;AAEA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,aAAa,QAAQ,IAAI,WAAW,OAAO,UAAU;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,EAAE;;;;;;;;;;;ACnYF;AACA;AACA;AACA;AACA,OAAO,IAAyC;AAChD;AACA,IAAI,iCAAQ;AACZ,MAAM,2FAAuB;AAC7B,MAAM,mFAAmB;AACzB,MAAM,yFAAsB;AAC5B,MAAM,uEAAQ;AACd,MAAM,yEAAS;AACf,MAAM,6EAAW;AACjB,KAAK,mCAAE;AACP;AACA,KAAK;AAAA,kGAAE;AACP,IAAI,KAAK,kBAwBN;;AAEH,CAAC;AACD;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,kCAAkC;AAClC,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,IAAI;AACJ;AACA;;AAEA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,gCAAgC;AAC3C,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,mBAAmB;AAC9B,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,wBAAwB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,eAAe;AAC5B;AACA;AACA;AACA,mBAAmB,uBAAuB;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,4BAA4B;AACvC,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,kCAAkC,uBAAuB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,2BAA2B;AACtC,aAAa,eAAe;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,uBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,WAAW,mBAAmB;AAC9B,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,EAAE;;;;;;;;;;;ACv6BF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO,IAAyC;AAChD;AACA,IAAI,iCAAQ;AACZ,MAAM,+EAAY;AAClB,MAAM,uEAAQ;AACd,MAAM,+FAAoB;AAC1B,MAAM,iFAAa;AACnB,MAAM,2EAAU;AAChB,MAAM,6FAAmB;AACzB,MAAM,+EAAY;AAClB,KAAK,oCAAE,OAAO;AAAA;AAAA;AAAA,kGAAE;AAChB,IAAI,KAAK,EAWN;;AAEH,EAAE;AACF;AACA,EAAE;;;;;;;;;;;ACvCF;AACA;AACA;AACA,OAAO,IAAyC;AAChD;AACA,IAAI,iCAAQ;AACZ,MAAM,+EAAY;AAClB,MAAM,yFAAsB;AAC5B,KAAK,mCAAE;AACP;AACA,KAAK;AAAA,kGAAE;AACP,IAAI,KAAK,EAcN;;AAEH,CAAC;AACD;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,EAAE;;;;;;;;;;;ACtIF;AACA;AACA;AACA,OAAO,IAAyC;AAChD;AACA,IAAI,iCAAQ;AACZ,MAAM,+EAAY;AAClB,MAAM,2FAAuB;AAC7B,MAAM,yFAAsB;AAC5B,KAAK,mCAAE;AACP;AACA,KAAK;AAAA,kGAAE;AACP,IAAI,KAAK,EAgBN;;AAEH,CAAC;;AAED;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,wBAAwB,SAAS;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,EAAE;;AAEF;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,EAAE;;;;;;;;;;;AC1LF;AACA;AACA;AACA,OAAO,IAAyC;AAChD;AACA,IAAI,iCAAQ;AACZ,MAAM,2FAAuB;AAC7B,MAAM,yFAAsB;AAC5B,MAAM,+EAAY;AAClB,KAAK,mCAAE;AACP;AACA,KAAK;AAAA,kGAAE;AACP,IAAI,KAAK,EAcN;;AAEH,CAAC;;AAED;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,EAAE;;;;;;;;;;;AC7LF;AACA;AACA;AACA,OAAO,IAAyC;AAChD;AACA,IAAI,iCAAQ;AACZ,MAAM,+EAAY;AAClB,MAAM,2FAAuB;AAC7B,MAAM,yFAAsB;AAC5B,KAAK,mCAAE;AACP;AACA,KAAK;AAAA,kGAAE;AACP,IAAI,KAAK,EAgBN;;AAEH,CAAC;AACD;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,EAAE;;;;;;;;;;;ACjNF;AACA;AACA;AACA,OAAO,IAAyC;AAChD;AACA,IAAI,oCAAQ,OAAO;AAAA;AAAA;AAAA;AAAA,kGAAE;AACrB,IAAI,KAAK,EAON;;AAEH,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;;AAEA,EAAE;;;;;;;;;;;ACxEF;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO,IAAyC;AAChD;AACA,IAAI,oCAAQ,OAAO;AAAA;AAAA;AAAA;AAAA,kGAAE;AACrB,IAAI,KAAK,EAMN;;AAEH,CAAC;AACD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,CAAC;;;;;;;;;;;AC9MD;AACA;AACA;AACA;AACA;;AAEA,gCAAgC;AAChC;;AAEA;;AAEA,OAAO,IAAyC;AAChD;AACA,IAAI,iCAAQ;AACZ,MAAM,2FAAuB;AAC7B,KAAK,mCAAE;AACP;AACA,KAAK;AAAA,kGAAC;AACN,IAAI,KAAK,EAYN;;AAEH,CAAC;;AAED;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,WAAW,kCAAkC;AAC7C,WAAW,oBAAoB;AAC/B,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,qBAAqB;AACpC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,CAAC;;;;;;;;;;;;;ACxXD;;;;;;;;;;;;;ACAA;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,QAAQ;AAC1B;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,kCAAkC;AAClC;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;ACzFA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;;AAEA,IAAI,IAAqC;AACzC,6BAA6B,mBAAO,CAAC,yFAA4B;AACjE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,WAAW;AACtB;AACA;AACA;AACA,MAAM,IAAqC;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6GAA6G;AAC7G;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,4DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,IAAqC;AAC3C;AACA;AACA;;AAEA;;;;;;;;;;;;ACrGA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb,cAAc,mBAAO,CAAC,kDAAU;AAChC,aAAa,mBAAO,CAAC,4DAAe;;AAEpC,2BAA2B,mBAAO,CAAC,yFAA4B;AAC/D,qBAAqB,mBAAO,CAAC,qEAAkB;;AAE/C;AACA;;AAEA,IAAI,IAAqC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,2CAA2C;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,8BAA8B;AAC9B,QAAQ;AACR;AACA;AACA;AACA;AACA,+BAA+B,KAAK;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,4BAA4B;AAC5B,OAAO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAQ,IAAqC;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,SAAS,KAAqC;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,sBAAsB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,IAAqC;AAC/C;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,2BAA2B;AACjD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM,KAAqC,4FAA4F,CAAM;AAC7I;AACA;;AAEA,oBAAoB,gCAAgC;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,gCAAgC;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;AC9kBA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI,IAAqC;AACzC,gBAAgB,mBAAO,CAAC,kDAAU;;AAElC;AACA;AACA;AACA,mBAAmB,mBAAO,CAAC,uFAA2B;AACtD,EAAE,KAAK,EAIN;;;;;;;;;;;;AClBD;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;;AAEA;;;;;;;;;;;;ACXa;;AAEb,wBAAwB,2BAA2B,2EAA2E,kCAAkC,wBAAwB,OAAO,kCAAkC,mIAAmI;;AAEpW,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAkB;;AAElB,qCAAqC,mBAAO,CAAC,oBAAO;;AAEpD,gBAAgB,mBAAO,CAAC,4BAAW;;AAEnC,2CAA2C,mBAAO,CAAC,iEAAc;;AAEjE,wCAAwC,mBAAO,CAAC,sDAAY;;AAE5D,uCAAuC,uCAAuC;;AAE9E,iDAAiD,gDAAgD,uCAAuC,sCAAsC,oFAAoF,4DAA4D;;AAE9T,qDAAqD,6CAA6C,cAAc,8EAA8E,SAAS,oBAAoB,mDAAmD,+BAA+B,yBAAyB,iBAAiB,sFAAsF,uBAAuB,2EAA2E,qFAAqF,sCAAsC,4CAA4C,OAAO,8BAA8B,yBAAyB,aAAa,0BAA0B;;AAE3xB,kDAAkD,0CAA0C;;AAE5F,4CAA4C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD;;AAE/P,8DAA8D,sEAAsE,8DAA8D;;AAElM,2CAA2C,+DAA+D,6EAA6E,yEAAyE,eAAe,uDAAuD,GAAG;;AAEzU,iCAAiC,4EAA4E,iBAAiB,aAAa;;AAE3I,iCAAiC,6DAA6D,yCAAyC,8CAA8C,iCAAiC,mDAAmD,2DAA2D,OAAO,yCAAyC;;AAEpX,kDAAkD,0EAA0E,eAAe,4BAA4B,mFAAmF;;AAE1P,wCAAwC,uBAAuB,yFAAyF;;AAExJ,uCAAuC,wEAAwE,0CAA0C,8CAA8C,MAAM,4EAA4E,IAAI,eAAe,YAAY;;AAExT,8BAA8B,gGAAgG,mDAAmD;;AAEjL;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA,QAAQ;AACR;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA,qBAAqB,mBAAO,CAAC,qDAAU;;AAEvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA,SAAS;AACT;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;AACT;;AAEA,+DAA+D;AAC/D;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;;;;;;;;;;;ACrMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;;;AAIb,IAAI,IAAqC;AACzC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA2E;AAC3E;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;;AAEjD;AACA;AACA;AACA,kDAAkD;;AAElD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB;AACjB,sBAAsB;AACtB,uBAAuB;AACvB,uBAAuB;AACvB,eAAe;AACf,kBAAkB;AAClB,gBAAgB;AAChB,YAAY;AACZ,YAAY;AACZ,cAAc;AACd,gBAAgB;AAChB,kBAAkB;AAClB,gBAAgB;AAChB,mBAAmB;AACnB,wBAAwB;AACxB,yBAAyB;AACzB,yBAAyB;AACzB,iBAAiB;AACjB,oBAAoB;AACpB,kBAAkB;AAClB,cAAc;AACd,cAAc;AACd,gBAAgB;AAChB,kBAAkB;AAClB,oBAAoB;AACpB,kBAAkB;AAClB,0BAA0B;AAC1B,cAAc;AACd,GAAG;AACH;;;;;;;;;;;;ACpLa;;AAEb,IAAI,KAAqC,EAAE,EAE1C,CAAC;AACF,EAAE,gIAAyD;AAC3D;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,OAAO,IAAyC;AAChD;AACA,IAAI,iCAAQ;AACZ,MAAM,2FAAuB;AAC7B,KAAK,mCAAE;AACP;AACA,KAAK;AAAA,kGAAC;AACN,IAAI,KAAK,EAYN;;AAEH,CAAC;;AAED;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,yBAAyB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,gBAAgB;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,gBAAgB;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,gBAAgB;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,CAAC;;;;;;;;;;;AC1RD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO,IAAyC;AAChD;AACA,IAAI,iCAAQ;AACZ,MAAM,2FAAuB;AAC7B,KAAK,mCAAE;AACP;AACA,KAAK;AAAA,kGAAC;AACN,IAAI,KAAK,EAYN;;AAEH,CAAC;;AAED;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,gBAAgB;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,gBAAgB;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,gBAAgB;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,gBAAgB;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,CAAC;;;;;;;;;;;;AC7SD;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA;WACA;WACA,kBAAkB,qBAAqB;WACvC,oHAAoH,iDAAiD;WACrK;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC7BA;WACA;WACA;WACA,eAAe,4BAA4B;WAC3C,eAAe;WACf,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA,8CAA8C;;;;;WCA9C;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA,8CAA8C;;WAE9C;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,iCAAiC,mCAAmC;WACpE;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UEnDA;UACA;UACA;UACA,yFAAyF,+CAA+C;UACxI","sources":["webpack://image-list/./assets/flickity/flickity.pkgd.js","webpack://image-list/./src/edit.js","webpack://image-list/./src/index.js","webpack://image-list/./src/save.js","webpack://image-list/./src/view.js","webpack://image-list/./node_modules/desandro-matches-selector/matches-selector.js","webpack://image-list/./node_modules/ev-emitter/ev-emitter.js","webpack://image-list/./node_modules/fizzy-ui-utils/utils.js","webpack://image-list/./node_modules/flickity/js/add-remove-cell.js","webpack://image-list/./node_modules/flickity/js/animate.js","webpack://image-list/./node_modules/flickity/js/cell.js","webpack://image-list/./node_modules/flickity/js/drag.js","webpack://image-list/./node_modules/flickity/js/flickity.js","webpack://image-list/./node_modules/flickity/js/index.js","webpack://image-list/./node_modules/flickity/js/lazyload.js","webpack://image-list/./node_modules/flickity/js/page-dots.js","webpack://image-list/./node_modules/flickity/js/player.js","webpack://image-list/./node_modules/flickity/js/prev-next-button.js","webpack://image-list/./node_modules/flickity/js/slide.js","webpack://image-list/./node_modules/get-size/get-size.js","webpack://image-list/./node_modules/imagesloaded/imagesloaded.js","webpack://image-list/./src/editor.scss?d4ae","webpack://image-list/./src/style.scss?5612","webpack://image-list/./node_modules/object-assign/index.js","webpack://image-list/./node_modules/prop-types/checkPropTypes.js","webpack://image-list/./node_modules/prop-types/factoryWithTypeCheckers.js","webpack://image-list/./node_modules/prop-types/index.js","webpack://image-list/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://image-list/./node_modules/react-flickity-component/lib/index.js","webpack://image-list/./node_modules/react-is/cjs/react-is.development.js","webpack://image-list/./node_modules/react-is/index.js","webpack://image-list/./node_modules/unidragger/unidragger.js","webpack://image-list/./node_modules/unipointer/unipointer.js","webpack://image-list/external window \"React\"","webpack://image-list/external window \"ReactDOM\"","webpack://image-list/external window \"jQuery\"","webpack://image-list/external window [\"wp\",\"blob\"]","webpack://image-list/external window [\"wp\",\"blockEditor\"]","webpack://image-list/external window [\"wp\",\"blocks\"]","webpack://image-list/external window [\"wp\",\"components\"]","webpack://image-list/external window [\"wp\",\"element\"]","webpack://image-list/external window [\"wp\",\"i18n\"]","webpack://image-list/webpack/bootstrap","webpack://image-list/webpack/runtime/chunk loaded","webpack://image-list/webpack/runtime/compat get default export","webpack://image-list/webpack/runtime/define property getters","webpack://image-list/webpack/runtime/hasOwnProperty shorthand","webpack://image-list/webpack/runtime/make namespace object","webpack://image-list/webpack/runtime/jsonp chunk loading","webpack://image-list/webpack/before-startup","webpack://image-list/webpack/startup","webpack://image-list/webpack/after-startup"],"sourcesContent":["/*!\n * Flickity PACKAGED v2.3.0\n * Touch, responsive, flickable carousels\n *\n * Licensed GPLv3 for open source use\n * or Flickity Commercial License for commercial use\n *\n * https://flickity.metafizzy.co\n * Copyright 2015-2021 Metafizzy\n */\n\n/**\n * Bridget makes jQuery widgets\n * v2.0.1\n * MIT license\n */\n\n/* jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n    // universal module definition\n    /*jshint strict: false */ /* globals define, module, require */\n    if ( typeof define == 'function' && define.amd ) {\n      // AMD\n      define( 'jquery-bridget/jquery-bridget',[ 'jquery' ], function( jQuery ) {\n        return factory( window, jQuery );\n      });\n    } else if ( typeof module == 'object' && module.exports ) {\n      // CommonJS\n      module.exports = factory(\n        window,\n        require('jquery')\n      );\n    } else {\n      // browser global\n      window.jQueryBridget = factory(\n        window,\n        window.jQuery\n      );\n    }\n\n  }( window, function factory( window, jQuery ) {\n  'use strict';\n\n  // ----- utils ----- //\n\n  var arraySlice = Array.prototype.slice;\n\n  // helper function for logging errors\n  // $.error breaks jQuery chaining\n  var console = window.console;\n  var logError = typeof console == 'undefined' ? function() {} :\n    function( message ) {\n      console.error( message );\n    };\n\n  // ----- jQueryBridget ----- //\n\n  function jQueryBridget( namespace, PluginClass, $ ) {\n    $ = $ || jQuery || window.jQuery;\n    if ( !$ ) {\n      return;\n    }\n\n    // add option method -> $().plugin('option', {...})\n    if ( !PluginClass.prototype.option ) {\n      // option setter\n      PluginClass.prototype.option = function( opts ) {\n        // bail out if not an object\n        if ( !$.isPlainObject( opts ) ){\n          return;\n        }\n        this.options = $.extend( true, this.options, opts );\n      };\n    }\n\n    // make jQuery plugin\n    $.fn[ namespace ] = function( arg0 /*, arg1 */ ) {\n      if ( typeof arg0 == 'string' ) {\n        // method call $().plugin( 'methodName', { options } )\n        // shift arguments by 1\n        var args = arraySlice.call( arguments, 1 );\n        return methodCall( this, arg0, args );\n      }\n      // just $().plugin({ options })\n      plainCall( this, arg0 );\n      return this;\n    };\n\n    // $().plugin('methodName')\n    function methodCall( $elems, methodName, args ) {\n      var returnValue;\n      var pluginMethodStr = '$().' + namespace + '(\"' + methodName + '\")';\n\n      $elems.each( function( i, elem ) {\n        // get instance\n        var instance = $.data( elem, namespace );\n        if ( !instance ) {\n          logError( namespace + ' not initialized. Cannot call methods, i.e. ' +\n            pluginMethodStr );\n          return;\n        }\n\n        var method = instance[ methodName ];\n        if ( !method || methodName.charAt(0) == '_' ) {\n          logError( pluginMethodStr + ' is not a valid method' );\n          return;\n        }\n\n        // apply method, get return value\n        var value = method.apply( instance, args );\n        // set return value if value is returned, use only first value\n        returnValue = returnValue === undefined ? value : returnValue;\n      });\n\n      return returnValue !== undefined ? returnValue : $elems;\n    }\n\n    function plainCall( $elems, options ) {\n      $elems.each( function( i, elem ) {\n        var instance = $.data( elem, namespace );\n        if ( instance ) {\n          // set options & init\n          instance.option( options );\n          instance._init();\n        } else {\n          // initialize new instance\n          instance = new PluginClass( elem, options );\n          $.data( elem, namespace, instance );\n        }\n      });\n    }\n\n    updateJQuery( $ );\n\n  }\n\n  // ----- updateJQuery ----- //\n\n  // set $.bridget for v1 backwards compatibility\n  function updateJQuery( $ ) {\n    if ( !$ || ( $ && $.bridget ) ) {\n      return;\n    }\n    $.bridget = jQueryBridget;\n  }\n\n  updateJQuery( jQuery || window.jQuery );\n\n  // -----  ----- //\n\n  return jQueryBridget;\n\n  }));\n\n  /**\n   * EvEmitter v1.1.0\n   * Lil' event emitter\n   * MIT License\n   */\n\n  /* jshint unused: true, undef: true, strict: true */\n\n  ( function( global, factory ) {\n    // universal module definition\n    /* jshint strict: false */ /* globals define, module, window */\n    if ( typeof define == 'function' && define.amd ) {\n      // AMD - RequireJS\n      define( 'ev-emitter/ev-emitter',factory );\n    } else if ( typeof module == 'object' && module.exports ) {\n      // CommonJS - Browserify, Webpack\n      module.exports = factory();\n    } else {\n      // Browser globals\n      global.EvEmitter = factory();\n    }\n\n  }( typeof window != 'undefined' ? window : this, function() {\n\n\n\n  function EvEmitter() {}\n\n  var proto = EvEmitter.prototype;\n\n  proto.on = function( eventName, listener ) {\n    if ( !eventName || !listener ) {\n      return;\n    }\n    // set events hash\n    var events = this._events = this._events || {};\n    // set listeners array\n    var listeners = events[ eventName ] = events[ eventName ] || [];\n    // only add once\n    if ( listeners.indexOf( listener ) == -1 ) {\n      listeners.push( listener );\n    }\n\n    return this;\n  };\n\n  proto.once = function( eventName, listener ) {\n    if ( !eventName || !listener ) {\n      return;\n    }\n    // add event\n    this.on( eventName, listener );\n    // set once flag\n    // set onceEvents hash\n    var onceEvents = this._onceEvents = this._onceEvents || {};\n    // set onceListeners object\n    var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\n    // set flag\n    onceListeners[ listener ] = true;\n\n    return this;\n  };\n\n  proto.off = function( eventName, listener ) {\n    var listeners = this._events && this._events[ eventName ];\n    if ( !listeners || !listeners.length ) {\n      return;\n    }\n    var index = listeners.indexOf( listener );\n    if ( index != -1 ) {\n      listeners.splice( index, 1 );\n    }\n\n    return this;\n  };\n\n  proto.emitEvent = function( eventName, args ) {\n    var listeners = this._events && this._events[ eventName ];\n    if ( !listeners || !listeners.length ) {\n      return;\n    }\n    // copy over to avoid interference if .off() in listener\n    listeners = listeners.slice(0);\n    args = args || [];\n    // once stuff\n    var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n    for ( var i=0; i < listeners.length; i++ ) {\n      var listener = listeners[i]\n      var isOnce = onceListeners && onceListeners[ listener ];\n      if ( isOnce ) {\n        // remove listener\n        // remove before trigger to prevent recursion\n        this.off( eventName, listener );\n        // unset once flag\n        delete onceListeners[ listener ];\n      }\n      // trigger listener\n      listener.apply( this, args );\n    }\n\n    return this;\n  };\n\n  proto.allOff = function() {\n    delete this._events;\n    delete this._onceEvents;\n  };\n\n  return EvEmitter;\n\n  }));\n\n  /*!\n   * getSize v2.0.3\n   * measure size of elements\n   * MIT license\n   */\n\n  /* jshint browser: true, strict: true, undef: true, unused: true */\n  /* globals console: false */\n\n  ( function( window, factory ) {\n    /* jshint strict: false */ /* globals define, module */\n    if ( typeof define == 'function' && define.amd ) {\n      // AMD\n      define( 'get-size/get-size',factory );\n    } else if ( typeof module == 'object' && module.exports ) {\n      // CommonJS\n      module.exports = factory();\n    } else {\n      // browser global\n      window.getSize = factory();\n    }\n\n  })( window, function factory() {\n  'use strict';\n\n  // -------------------------- helpers -------------------------- //\n\n  // get a number from a string, not a percentage\n  function getStyleSize( value ) {\n    var num = parseFloat( value );\n    // not a percent like '100%', and a number\n    var isValid = value.indexOf('%') == -1 && !isNaN( num );\n    return isValid && num;\n  }\n\n  function noop() {}\n\n  var logError = typeof console == 'undefined' ? noop :\n    function( message ) {\n      console.error( message );\n    };\n\n  // -------------------------- measurements -------------------------- //\n\n  var measurements = [\n    'paddingLeft',\n    'paddingRight',\n    'paddingTop',\n    'paddingBottom',\n    'marginLeft',\n    'marginRight',\n    'marginTop',\n    'marginBottom',\n    'borderLeftWidth',\n    'borderRightWidth',\n    'borderTopWidth',\n    'borderBottomWidth'\n  ];\n\n  var measurementsLength = measurements.length;\n\n  function getZeroSize() {\n    var size = {\n      width: 0,\n      height: 0,\n      innerWidth: 0,\n      innerHeight: 0,\n      outerWidth: 0,\n      outerHeight: 0\n    };\n    for ( var i=0; i < measurementsLength; i++ ) {\n      var measurement = measurements[i];\n      size[ measurement ] = 0;\n    }\n    return size;\n  }\n\n  // -------------------------- getStyle -------------------------- //\n\n  /**\n   * getStyle, get style of element, check for Firefox bug\n   * https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n   */\n  function getStyle( elem ) {\n    var style = getComputedStyle( elem );\n    if ( !style ) {\n      logError( 'Style returned ' + style +\n        '. Are you running this code in a hidden iframe on Firefox? ' +\n        'See https://bit.ly/getsizebug1' );\n    }\n    return style;\n  }\n\n  // -------------------------- setup -------------------------- //\n\n  var isSetup = false;\n\n  var isBoxSizeOuter;\n\n  /**\n   * setup\n   * check isBoxSizerOuter\n   * do on first getSize() rather than on page load for Firefox bug\n   */\n  function setup() {\n    // setup once\n    if ( isSetup ) {\n      return;\n    }\n    isSetup = true;\n\n    // -------------------------- box sizing -------------------------- //\n\n    /**\n     * Chrome & Safari measure the outer-width on style.width on border-box elems\n     * IE11 & Firefox<29 measures the inner-width\n     */\n    var div = document.createElement('div');\n    div.style.width = '200px';\n    div.style.padding = '1px 2px 3px 4px';\n    div.style.borderStyle = 'solid';\n    div.style.borderWidth = '1px 2px 3px 4px';\n    div.style.boxSizing = 'border-box';\n\n    var body = document.body || document.documentElement;\n    body.appendChild( div );\n    var style = getStyle( div );\n    // round value for browser zoom. desandro/masonry#928\n    isBoxSizeOuter = Math.round( getStyleSize( style.width ) ) == 200;\n    getSize.isBoxSizeOuter = isBoxSizeOuter;\n\n    body.removeChild( div );\n  }\n\n  // -------------------------- getSize -------------------------- //\n\n  function getSize( elem ) {\n    setup();\n\n    // use querySeletor if elem is string\n    if ( typeof elem == 'string' ) {\n      elem = document.querySelector( elem );\n    }\n\n    // do not proceed on non-objects\n    if ( !elem || typeof elem != 'object' || !elem.nodeType ) {\n      return;\n    }\n\n    var style = getStyle( elem );\n\n    // if hidden, everything is 0\n    if ( style.display == 'none' ) {\n      return getZeroSize();\n    }\n\n    var size = {};\n    size.width = elem.offsetWidth;\n    size.height = elem.offsetHeight;\n\n    var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box';\n\n    // get all measurements\n    for ( var i=0; i < measurementsLength; i++ ) {\n      var measurement = measurements[i];\n      var value = style[ measurement ];\n      var num = parseFloat( value );\n      // any 'auto', 'medium' value will be 0\n      size[ measurement ] = !isNaN( num ) ? num : 0;\n    }\n\n    var paddingWidth = size.paddingLeft + size.paddingRight;\n    var paddingHeight = size.paddingTop + size.paddingBottom;\n    var marginWidth = size.marginLeft + size.marginRight;\n    var marginHeight = size.marginTop + size.marginBottom;\n    var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n    var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n\n    var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;\n\n    // overwrite width and height if we can get it from style\n    var styleWidth = getStyleSize( style.width );\n    if ( styleWidth !== false ) {\n      size.width = styleWidth +\n        // add padding and border unless it's already including it\n        ( isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth );\n    }\n\n    var styleHeight = getStyleSize( style.height );\n    if ( styleHeight !== false ) {\n      size.height = styleHeight +\n        // add padding and border unless it's already including it\n        ( isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight );\n    }\n\n    size.innerWidth = size.width - ( paddingWidth + borderWidth );\n    size.innerHeight = size.height - ( paddingHeight + borderHeight );\n\n    size.outerWidth = size.width + marginWidth;\n    size.outerHeight = size.height + marginHeight;\n\n    return size;\n  }\n\n  return getSize;\n\n  });\n\n  /**\n   * matchesSelector v2.0.2\n   * matchesSelector( element, '.selector' )\n   * MIT license\n   */\n\n  /*jshint browser: true, strict: true, undef: true, unused: true */\n\n  ( function( window, factory ) {\n    /*global define: false, module: false */\n    'use strict';\n    // universal module definition\n    if ( typeof define == 'function' && define.amd ) {\n      // AMD\n      define( 'desandro-matches-selector/matches-selector',factory );\n    } else if ( typeof module == 'object' && module.exports ) {\n      // CommonJS\n      module.exports = factory();\n    } else {\n      // browser global\n      window.matchesSelector = factory();\n    }\n\n  }( window, function factory() {\n    'use strict';\n\n    var matchesMethod = ( function() {\n      var ElemProto = window.Element.prototype;\n      // check for the standard method name first\n      if ( ElemProto.matches ) {\n        return 'matches';\n      }\n      // check un-prefixed\n      if ( ElemProto.matchesSelector ) {\n        return 'matchesSelector';\n      }\n      // check vendor prefixes\n      var prefixes = [ 'webkit', 'moz', 'ms', 'o' ];\n\n      for ( var i=0; i < prefixes.length; i++ ) {\n        var prefix = prefixes[i];\n        var method = prefix + 'MatchesSelector';\n        if ( ElemProto[ method ] ) {\n          return method;\n        }\n      }\n    })();\n\n    return function matchesSelector( elem, selector ) {\n      return elem[ matchesMethod ]( selector );\n    };\n\n  }));\n\n  /**\n   * Fizzy UI utils v2.0.7\n   * MIT license\n   */\n\n  /*jshint browser: true, undef: true, unused: true, strict: true */\n\n  ( function( window, factory ) {\n    // universal module definition\n    /*jshint strict: false */ /*globals define, module, require */\n\n    if ( typeof define == 'function' && define.amd ) {\n      // AMD\n      define( 'fizzy-ui-utils/utils',[\n        'desandro-matches-selector/matches-selector'\n      ], function( matchesSelector ) {\n        return factory( window, matchesSelector );\n      });\n    } else if ( typeof module == 'object' && module.exports ) {\n      // CommonJS\n      module.exports = factory(\n        window,\n        require('desandro-matches-selector')\n      );\n    } else {\n      // browser global\n      window.fizzyUIUtils = factory(\n        window,\n        window.matchesSelector\n      );\n    }\n\n  }( window, function factory( window, matchesSelector ) {\n\n\n\n  var utils = {};\n\n  // ----- extend ----- //\n\n  // extends objects\n  utils.extend = function( a, b ) {\n    for ( var prop in b ) {\n      a[ prop ] = b[ prop ];\n    }\n    return a;\n  };\n\n  // ----- modulo ----- //\n\n  utils.modulo = function( num, div ) {\n    return ( ( num % div ) + div ) % div;\n  };\n\n  // ----- makeArray ----- //\n\n  var arraySlice = Array.prototype.slice;\n\n  // turn element or nodeList into an array\n  utils.makeArray = function( obj ) {\n    if ( Array.isArray( obj ) ) {\n      // use object if already an array\n      return obj;\n    }\n    // return empty array if undefined or null. #6\n    if ( obj === null || obj === undefined ) {\n      return [];\n    }\n\n    var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n    if ( isArrayLike ) {\n      // convert nodeList to array\n      return arraySlice.call( obj );\n    }\n\n    // array of single index\n    return [ obj ];\n  };\n\n  // ----- removeFrom ----- //\n\n  utils.removeFrom = function( ary, obj ) {\n    var index = ary.indexOf( obj );\n    if ( index != -1 ) {\n      ary.splice( index, 1 );\n    }\n  };\n\n  // ----- getParent ----- //\n\n  utils.getParent = function( elem, selector ) {\n    while ( elem.parentNode && elem != document.body ) {\n      elem = elem.parentNode;\n      if ( matchesSelector( elem, selector ) ) {\n        return elem;\n      }\n    }\n  };\n\n  // ----- getQueryElement ----- //\n\n  // use element as selector string\n  utils.getQueryElement = function( elem ) {\n    if ( typeof elem == 'string' ) {\n      return document.querySelector( elem );\n    }\n    return elem;\n  };\n\n  // ----- handleEvent ----- //\n\n  // enable .ontype to trigger from .addEventListener( elem, 'type' )\n  utils.handleEvent = function( event ) {\n    var method = 'on' + event.type;\n    if ( this[ method ] ) {\n      this[ method ]( event );\n    }\n  };\n\n  // ----- filterFindElements ----- //\n\n  utils.filterFindElements = function( elems, selector ) {\n    // make array of elems\n    elems = utils.makeArray( elems );\n    var ffElems = [];\n\n    elems.forEach( function( elem ) {\n      // check that elem is an actual element\n      if ( !( elem instanceof HTMLElement ) ) {\n        return;\n      }\n      // add elem if no selector\n      if ( !selector ) {\n        ffElems.push( elem );\n        return;\n      }\n      // filter & find items if we have a selector\n      // filter\n      if ( matchesSelector( elem, selector ) ) {\n        ffElems.push( elem );\n      }\n      // find children\n      var childElems = elem.querySelectorAll( selector );\n      // concat childElems to filterFound array\n      for ( var i=0; i < childElems.length; i++ ) {\n        ffElems.push( childElems[i] );\n      }\n    });\n\n    return ffElems;\n  };\n\n  // ----- debounceMethod ----- //\n\n  utils.debounceMethod = function( _class, methodName, threshold ) {\n    threshold = threshold || 100;\n    // original method\n    var method = _class.prototype[ methodName ];\n    var timeoutName = methodName + 'Timeout';\n\n    _class.prototype[ methodName ] = function() {\n      var timeout = this[ timeoutName ];\n      clearTimeout( timeout );\n\n      var args = arguments;\n      var _this = this;\n      this[ timeoutName ] = setTimeout( function() {\n        method.apply( _this, args );\n        delete _this[ timeoutName ];\n      }, threshold );\n    };\n  };\n\n  // ----- docReady ----- //\n\n  utils.docReady = function( callback ) {\n    var readyState = document.readyState;\n    if ( readyState == 'complete' || readyState == 'interactive' ) {\n      // do async to allow for other scripts to run. metafizzy/flickity#441\n      setTimeout( callback );\n    } else {\n      document.addEventListener( 'DOMContentLoaded', callback );\n    }\n  };\n\n  // ----- htmlInit ----- //\n\n  // http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\n  utils.toDashed = function( str ) {\n    return str.replace( /(.)([A-Z])/g, function( match, $1, $2 ) {\n      return $1 + '-' + $2;\n    }).toLowerCase();\n  };\n\n  var console = window.console;\n  /**\n   * allow user to initialize classes via [data-namespace] or .js-namespace class\n   * htmlInit( Widget, 'widgetName' )\n   * options are parsed from data-namespace-options\n   */\n  utils.htmlInit = function( WidgetClass, namespace ) {\n    utils.docReady( function() {\n      var dashedNamespace = utils.toDashed( namespace );\n      var dataAttr = 'data-' + dashedNamespace;\n      var dataAttrElems = document.querySelectorAll( '[' + dataAttr + ']' );\n      var jsDashElems = document.querySelectorAll( '.js-' + dashedNamespace );\n      var elems = utils.makeArray( dataAttrElems )\n        .concat( utils.makeArray( jsDashElems ) );\n      var dataOptionsAttr = dataAttr + '-options';\n      var jQuery = window.jQuery;\n\n      elems.forEach( function( elem ) {\n        var attr = elem.getAttribute( dataAttr ) ||\n          elem.getAttribute( dataOptionsAttr );\n        var options;\n        try {\n          options = attr && JSON.parse( attr );\n        } catch ( error ) {\n          // log error, do not initialize\n          if ( console ) {\n            console.error( 'Error parsing ' + dataAttr + ' on ' + elem.className +\n            ': ' + error );\n          }\n          return;\n        }\n        // initialize\n        var instance = new WidgetClass( elem, options );\n        // make available via $().data('namespace')\n        if ( jQuery ) {\n          jQuery.data( elem, namespace, instance );\n        }\n      });\n\n    });\n  };\n\n  // -----  ----- //\n\n  return utils;\n\n  }));\n\n  // Flickity.Cell\n  ( function( window, factory ) {\n    // universal module definition\n    if ( typeof define == 'function' && define.amd ) {\n      // AMD\n      define( 'flickity/js/cell',[\n        'get-size/get-size',\n      ], function( getSize ) {\n        return factory( window, getSize );\n      } );\n    } else if ( typeof module == 'object' && module.exports ) {\n      // CommonJS\n      module.exports = factory(\n          window,\n          require('get-size')\n      );\n    } else {\n      // browser global\n      window.Flickity = window.Flickity || {};\n      window.Flickity.Cell = factory(\n          window,\n          window.getSize\n      );\n    }\n\n  }( window, function factory( window, getSize ) {\n\n\n\n  function Cell( elem, parent ) {\n    this.element = elem;\n    this.parent = parent;\n\n    this.create();\n  }\n\n  var proto = Cell.prototype;\n\n  proto.create = function() {\n    this.element.style.position = 'absolute';\n    this.element.setAttribute( 'aria-hidden', 'true' );\n    this.x = 0;\n    this.shift = 0;\n    this.element.style[ this.parent.originSide ] = 0;\n  };\n\n  proto.destroy = function() {\n    // reset style\n    this.unselect();\n    this.element.style.position = '';\n    var side = this.parent.originSide;\n    this.element.style[ side ] = '';\n    this.element.style.transform = '';\n    this.element.removeAttribute('aria-hidden');\n  };\n\n  proto.getSize = function() {\n    this.size = getSize( this.element );\n  };\n\n  proto.setPosition = function( x ) {\n    this.x = x;\n    this.updateTarget();\n    this.renderPosition( x );\n  };\n\n  // setDefaultTarget v1 method, backwards compatibility, remove in v3\n  proto.updateTarget = proto.setDefaultTarget = function() {\n    var marginProperty = this.parent.originSide == 'left' ? 'marginLeft' : 'marginRight';\n    this.target = this.x + this.size[ marginProperty ] +\n      this.size.width * this.parent.cellAlign;\n  };\n\n  proto.renderPosition = function( x ) {\n    // render position of cell with in slider\n    var sideOffset = this.parent.originSide === 'left' ? 1 : -1;\n\n    var adjustedX = this.parent.options.percentPosition ?\n      x * sideOffset * ( this.parent.size.innerWidth / this.size.width ) :\n      x * sideOffset;\n\n    this.element.style.transform = 'translateX(' +\n      this.parent.getPositionValue( adjustedX ) + ')';\n  };\n\n  proto.select = function() {\n    this.element.classList.add('is-selected');\n    this.element.removeAttribute('aria-hidden');\n  };\n\n  proto.unselect = function() {\n    this.element.classList.remove('is-selected');\n    this.element.setAttribute( 'aria-hidden', 'true' );\n  };\n\n  /**\n   * @param {Integer} shift - 0, 1, or -1\n   */\n  proto.wrapShift = function( shift ) {\n    this.shift = shift;\n    this.renderPosition( this.x + this.parent.slideableWidth * shift );\n  };\n\n  proto.remove = function() {\n    this.element.parentNode.removeChild( this.element );\n  };\n\n  return Cell;\n\n  } ) );\n\n  // slide\n  ( function( window, factory ) {\n    // universal module definition\n    if ( typeof define == 'function' && define.amd ) {\n      // AMD\n      define( 'flickity/js/slide',factory );\n    } else if ( typeof module == 'object' && module.exports ) {\n      // CommonJS\n      module.exports = factory();\n    } else {\n      // browser global\n      window.Flickity = window.Flickity || {};\n      window.Flickity.Slide = factory();\n    }\n\n  }( window, function factory() {\n  'use strict';\n\n  function Slide( parent ) {\n    this.parent = parent;\n    this.isOriginLeft = parent.originSide == 'left';\n    this.cells = [];\n    this.outerWidth = 0;\n    this.height = 0;\n  }\n\n  var proto = Slide.prototype;\n\n  proto.addCell = function( cell ) {\n    this.cells.push( cell );\n    this.outerWidth += cell.size.outerWidth;\n    this.height = Math.max( cell.size.outerHeight, this.height );\n    // first cell stuff\n    if ( this.cells.length == 1 ) {\n      this.x = cell.x; // x comes from first cell\n      var beginMargin = this.isOriginLeft ? 'marginLeft' : 'marginRight';\n      this.firstMargin = cell.size[ beginMargin ];\n    }\n  };\n\n  proto.updateTarget = function() {\n    var endMargin = this.isOriginLeft ? 'marginRight' : 'marginLeft';\n    var lastCell = this.getLastCell();\n    var lastMargin = lastCell ? lastCell.size[ endMargin ] : 0;\n    var slideWidth = this.outerWidth - ( this.firstMargin + lastMargin );\n    this.target = this.x + this.firstMargin + slideWidth * this.parent.cellAlign;\n  };\n\n  proto.getLastCell = function() {\n    return this.cells[ this.cells.length - 1 ];\n  };\n\n  proto.select = function() {\n    this.cells.forEach( function( cell ) {\n      cell.select();\n    } );\n  };\n\n  proto.unselect = function() {\n    this.cells.forEach( function( cell ) {\n      cell.unselect();\n    } );\n  };\n\n  proto.getCellElements = function() {\n    return this.cells.map( function( cell ) {\n      return cell.element;\n    } );\n  };\n\n  return Slide;\n\n  } ) );\n\n  // animate\n  ( function( window, factory ) {\n    // universal module definition\n    if ( typeof define == 'function' && define.amd ) {\n      // AMD\n      define( 'flickity/js/animate',[\n        'fizzy-ui-utils/utils',\n      ], function( utils ) {\n        return factory( window, utils );\n      } );\n    } else if ( typeof module == 'object' && module.exports ) {\n      // CommonJS\n      module.exports = factory(\n          window,\n          require('fizzy-ui-utils')\n      );\n    } else {\n      // browser global\n      window.Flickity = window.Flickity || {};\n      window.Flickity.animatePrototype = factory(\n          window,\n          window.fizzyUIUtils\n      );\n    }\n\n  }( window, function factory( window, utils ) {\n\n\n\n  // -------------------------- animate -------------------------- //\n\n  var proto = {};\n\n  proto.startAnimation = function() {\n    if ( this.isAnimating ) {\n      return;\n    }\n\n    this.isAnimating = true;\n    this.restingFrames = 0;\n    this.animate();\n  };\n\n  proto.animate = function() {\n    this.applyDragForce();\n    this.applySelectedAttraction();\n\n    var previousX = this.x;\n\n    this.integratePhysics();\n    this.positionSlider();\n    this.settle( previousX );\n    // animate next frame\n    if ( this.isAnimating ) {\n      var _this = this;\n      requestAnimationFrame( function animateFrame() {\n        _this.animate();\n      } );\n    }\n  };\n\n  proto.positionSlider = function() {\n    var x = this.x;\n    // wrap position around\n    if ( this.options.wrapAround && this.cells.length > 1 ) {\n      x = utils.modulo( x, this.slideableWidth );\n      x -= this.slideableWidth;\n      this.shiftWrapCells( x );\n    }\n\n    this.setTranslateX( x, this.isAnimating );\n    this.dispatchScrollEvent();\n  };\n\n  proto.setTranslateX = function( x, is3d ) {\n    x += this.cursorPosition;\n    // reverse if right-to-left and using transform\n    x = this.options.rightToLeft ? -x : x;\n    var translateX = this.getPositionValue( x );\n    // use 3D transforms for hardware acceleration on iOS\n    // but use 2D when settled, for better font-rendering\n    this.slider.style.transform = is3d ?\n      'translate3d(' + translateX + ',0,0)' : 'translateX(' + translateX + ')';\n  };\n\n  proto.dispatchScrollEvent = function() {\n    var firstSlide = this.slides[0];\n    if ( !firstSlide ) {\n      return;\n    }\n    var positionX = -this.x - firstSlide.target;\n    var progress = positionX / this.slidesWidth;\n    this.dispatchEvent( 'scroll', null, [ progress, positionX ] );\n  };\n\n  proto.positionSliderAtSelected = function() {\n    if ( !this.cells.length ) {\n      return;\n    }\n    this.x = -this.selectedSlide.target;\n    this.velocity = 0; // stop wobble\n    this.positionSlider();\n  };\n\n  proto.getPositionValue = function( position ) {\n    if ( this.options.percentPosition ) {\n      // percent position, round to 2 digits, like 12.34%\n      return ( Math.round( ( position / this.size.innerWidth ) * 10000 ) * 0.01 ) + '%';\n    } else {\n      // pixel positioning\n      return Math.round( position ) + 'px';\n    }\n  };\n\n  proto.settle = function( previousX ) {\n    // keep track of frames where x hasn't moved\n    var isResting = !this.isPointerDown &&\n        Math.round( this.x * 100 ) == Math.round( previousX * 100 );\n    if ( isResting ) {\n      this.restingFrames++;\n    }\n    // stop animating if resting for 3 or more frames\n    if ( this.restingFrames > 2 ) {\n      this.isAnimating = false;\n      delete this.isFreeScrolling;\n      // render position with translateX when settled\n      this.positionSlider();\n      this.dispatchEvent( 'settle', null, [ this.selectedIndex ] );\n    }\n  };\n\n  proto.shiftWrapCells = function( x ) {\n    // shift before cells\n    var beforeGap = this.cursorPosition + x;\n    this._shiftCells( this.beforeShiftCells, beforeGap, -1 );\n    // shift after cells\n    var afterGap = this.size.innerWidth - ( x + this.slideableWidth + this.cursorPosition );\n    this._shiftCells( this.afterShiftCells, afterGap, 1 );\n  };\n\n  proto._shiftCells = function( cells, gap, shift ) {\n    for ( var i = 0; i < cells.length; i++ ) {\n      var cell = cells[i];\n      var cellShift = gap > 0 ? shift : 0;\n      cell.wrapShift( cellShift );\n      gap -= cell.size.outerWidth;\n    }\n  };\n\n  proto._unshiftCells = function( cells ) {\n    if ( !cells || !cells.length ) {\n      return;\n    }\n    for ( var i = 0; i < cells.length; i++ ) {\n      cells[i].wrapShift( 0 );\n    }\n  };\n\n  // -------------------------- physics -------------------------- //\n\n  proto.integratePhysics = function() {\n    this.x += this.velocity;\n    this.velocity *= this.getFrictionFactor();\n  };\n\n  proto.applyForce = function( force ) {\n    this.velocity += force;\n  };\n\n  proto.getFrictionFactor = function() {\n    return 1 - this.options[ this.isFreeScrolling ? 'freeScrollFriction' : 'friction' ];\n  };\n\n  proto.getRestingPosition = function() {\n    // my thanks to Steven Wittens, who simplified this math greatly\n    return this.x + this.velocity / ( 1 - this.getFrictionFactor() );\n  };\n\n  proto.applyDragForce = function() {\n    if ( !this.isDraggable || !this.isPointerDown ) {\n      return;\n    }\n    // change the position to drag position by applying force\n    var dragVelocity = this.dragX - this.x;\n    var dragForce = dragVelocity - this.velocity;\n    this.applyForce( dragForce );\n  };\n\n  proto.applySelectedAttraction = function() {\n    // do not attract if pointer down or no slides\n    var dragDown = this.isDraggable && this.isPointerDown;\n    if ( dragDown || this.isFreeScrolling || !this.slides.length ) {\n      return;\n    }\n    var distance = this.selectedSlide.target * -1 - this.x;\n    var force = distance * this.options.selectedAttraction;\n    this.applyForce( force );\n  };\n\n  return proto;\n\n  } ) );\n\n  // Flickity main\n  /* eslint-disable max-params */\n  ( function( window, factory ) {\n    // universal module definition\n    if ( typeof define == 'function' && define.amd ) {\n      // AMD\n      define( 'flickity/js/flickity',[\n        'ev-emitter/ev-emitter',\n        'get-size/get-size',\n        'fizzy-ui-utils/utils',\n        './cell',\n        './slide',\n        './animate',\n      ], function( EvEmitter, getSize, utils, Cell, Slide, animatePrototype ) {\n        return factory( window, EvEmitter, getSize, utils, Cell, Slide, animatePrototype );\n      } );\n    } else if ( typeof module == 'object' && module.exports ) {\n      // CommonJS\n      module.exports = factory(\n          window,\n          require('ev-emitter'),\n          require('get-size'),\n          require('fizzy-ui-utils'),\n          require('./cell'),\n          require('./slide'),\n          require('./animate')\n      );\n    } else {\n      // browser global\n      var _Flickity = window.Flickity;\n\n      window.Flickity = factory(\n          window,\n          window.EvEmitter,\n          window.getSize,\n          window.fizzyUIUtils,\n          _Flickity.Cell,\n          _Flickity.Slide,\n          _Flickity.animatePrototype\n      );\n    }\n\n  }( window, function factory( window, EvEmitter, getSize,\n      utils, Cell, Slide, animatePrototype ) {\n\n  /* eslint-enable max-params */\n\n\n  // vars\n  var jQuery = window.jQuery;\n  var getComputedStyle = window.getComputedStyle;\n  var console = window.console;\n\n  function moveElements( elems, toElem ) {\n    elems = utils.makeArray( elems );\n    while ( elems.length ) {\n      toElem.appendChild( elems.shift() );\n    }\n  }\n\n  // -------------------------- Flickity -------------------------- //\n\n  // globally unique identifiers\n  var GUID = 0;\n  // internal store of all Flickity intances\n  var instances = {};\n\n  function Flickity( element, options ) {\n    var queryElement = utils.getQueryElement( element );\n    if ( !queryElement ) {\n      if ( console ) {\n        console.error( 'Bad element for Flickity: ' + ( queryElement || element ) );\n      }\n      return;\n    }\n    this.element = queryElement;\n    // do not initialize twice on same element\n    if ( this.element.flickityGUID ) {\n      var instance = instances[ this.element.flickityGUID ];\n      if ( instance ) instance.option( options );\n      return instance;\n    }\n\n    // add jQuery\n    if ( jQuery ) {\n      this.$element = jQuery( this.element );\n    }\n    // options\n    this.options = utils.extend( {}, this.constructor.defaults );\n    this.option( options );\n\n    // kick things off\n    this._create();\n  }\n\n  Flickity.defaults = {\n    accessibility: true,\n    // adaptiveHeight: false,\n    cellAlign: 'center',\n    // cellSelector: undefined,\n    // contain: false,\n    freeScrollFriction: 0.075, // friction when free-scrolling\n    friction: 0.28, // friction when selecting\n    namespaceJQueryEvents: true,\n    // initialIndex: 0,\n    percentPosition: true,\n    resize: true,\n    selectedAttraction: 0.025,\n    setGallerySize: true,\n    // watchCSS: false,\n    // wrapAround: false\n  };\n\n  // hash of methods triggered on _create()\n  Flickity.createMethods = [];\n\n  var proto = Flickity.prototype;\n  // inherit EventEmitter\n  utils.extend( proto, EvEmitter.prototype );\n\n  proto._create = function() {\n    // add id for Flickity.data\n    var id = this.guid = ++GUID;\n    this.element.flickityGUID = id; // expando\n    instances[ id ] = this; // associate via id\n    // initial properties\n    this.selectedIndex = 0;\n    // how many frames slider has been in same position\n    this.restingFrames = 0;\n    // initial physics properties\n    this.x = 0;\n    this.velocity = 0;\n    this.originSide = this.options.rightToLeft ? 'right' : 'left';\n    // create viewport & slider\n    this.viewport = document.createElement('div');\n    this.viewport.className = 'flickity-viewport';\n    this._createSlider();\n\n    if ( this.options.resize || this.options.watchCSS ) {\n      window.addEventListener( 'resize', this );\n    }\n\n    // add listeners from on option\n    for ( var eventName in this.options.on ) {\n      var listener = this.options.on[ eventName ];\n      this.on( eventName, listener );\n    }\n\n    Flickity.createMethods.forEach( function( method ) {\n      this[ method ]();\n    }, this );\n\n    if ( this.options.watchCSS ) {\n      this.watchCSS();\n    } else {\n      this.activate();\n    }\n\n  };\n\n  /**\n   * set options\n   * @param {Object} opts - options to extend\n   */\n  proto.option = function( opts ) {\n    utils.extend( this.options, opts );\n  };\n\n  proto.activate = function() {\n    if ( this.isActive ) {\n      return;\n    }\n    this.isActive = true;\n    this.element.classList.add('flickity-enabled');\n    if ( this.options.rightToLeft ) {\n      this.element.classList.add('flickity-rtl');\n    }\n\n    this.getSize();\n    // move initial cell elements so they can be loaded as cells\n    var cellElems = this._filterFindCellElements( this.element.children );\n    moveElements( cellElems, this.slider );\n    this.viewport.appendChild( this.slider );\n    this.element.appendChild( this.viewport );\n    // get cells from children\n    this.reloadCells();\n\n    if ( this.options.accessibility ) {\n      // allow element to focusable\n      this.element.tabIndex = 0;\n      // listen for key presses\n      this.element.addEventListener( 'keydown', this );\n    }\n\n    this.emitEvent('activate');\n    this.selectInitialIndex();\n    // flag for initial activation, for using initialIndex\n    this.isInitActivated = true;\n    // ready event. #493\n    this.dispatchEvent('ready');\n  };\n\n  // slider positions the cells\n  proto._createSlider = function() {\n    // slider element does all the positioning\n    var slider = document.createElement('div');\n    slider.className = 'flickity-slider';\n    slider.style[ this.originSide ] = 0;\n    this.slider = slider;\n  };\n\n  proto._filterFindCellElements = function( elems ) {\n    return utils.filterFindElements( elems, this.options.cellSelector );\n  };\n\n  // goes through all children\n  proto.reloadCells = function() {\n    // collection of item elements\n    this.cells = this._makeCells( this.slider.children );\n    this.positionCells();\n    this._getWrapShiftCells();\n    this.setGallerySize();\n  };\n\n  /**\n   * turn elements into Flickity.Cells\n   * @param {[Array, NodeList, HTMLElement]} elems - elements to make into cells\n   * @returns {Array} items - collection of new Flickity Cells\n   */\n  proto._makeCells = function( elems ) {\n    var cellElems = this._filterFindCellElements( elems );\n\n    // create new Flickity for collection\n    var cells = cellElems.map( function( cellElem ) {\n      return new Cell( cellElem, this );\n    }, this );\n\n    return cells;\n  };\n\n  proto.getLastCell = function() {\n    return this.cells[ this.cells.length - 1 ];\n  };\n\n  proto.getLastSlide = function() {\n    return this.slides[ this.slides.length - 1 ];\n  };\n\n  // positions all cells\n  proto.positionCells = function() {\n    // size all cells\n    this._sizeCells( this.cells );\n    // position all cells\n    this._positionCells( 0 );\n  };\n\n  /**\n   * position certain cells\n   * @param {Integer} index - which cell to start with\n   */\n  proto._positionCells = function( index ) {\n    index = index || 0;\n    // also measure maxCellHeight\n    // start 0 if positioning all cells\n    this.maxCellHeight = index ? this.maxCellHeight || 0 : 0;\n    var cellX = 0;\n    // get cellX\n    if ( index > 0 ) {\n      var startCell = this.cells[ index - 1 ];\n      cellX = startCell.x + startCell.size.outerWidth;\n    }\n    var len = this.cells.length;\n    for ( var i = index; i < len; i++ ) {\n      var cell = this.cells[i];\n      cell.setPosition( cellX );\n      cellX += cell.size.outerWidth;\n      this.maxCellHeight = Math.max( cell.size.outerHeight, this.maxCellHeight );\n    }\n    // keep track of cellX for wrap-around\n    this.slideableWidth = cellX;\n    // slides\n    this.updateSlides();\n    // contain slides target\n    this._containSlides();\n    // update slidesWidth\n    this.slidesWidth = len ? this.getLastSlide().target - this.slides[0].target : 0;\n  };\n\n  /**\n   * cell.getSize() on multiple cells\n   * @param {Array} cells - cells to size\n   */\n  proto._sizeCells = function( cells ) {\n    cells.forEach( function( cell ) {\n      cell.getSize();\n    } );\n  };\n\n  // --------------------------  -------------------------- //\n\n  proto.updateSlides = function() {\n    this.slides = [];\n    if ( !this.cells.length ) {\n      return;\n    }\n\n    var slide = new Slide( this );\n    this.slides.push( slide );\n    var isOriginLeft = this.originSide == 'left';\n    var nextMargin = isOriginLeft ? 'marginRight' : 'marginLeft';\n\n    var canCellFit = this._getCanCellFit();\n\n    this.cells.forEach( function( cell, i ) {\n      // just add cell if first cell in slide\n      if ( !slide.cells.length ) {\n        slide.addCell( cell );\n        return;\n      }\n\n      var slideWidth = ( slide.outerWidth - slide.firstMargin ) +\n        ( cell.size.outerWidth - cell.size[ nextMargin ] );\n\n      if ( canCellFit.call( this, i, slideWidth ) ) {\n        slide.addCell( cell );\n      } else {\n        // doesn't fit, new slide\n        slide.updateTarget();\n\n        slide = new Slide( this );\n        this.slides.push( slide );\n        slide.addCell( cell );\n      }\n    }, this );\n    // last slide\n    slide.updateTarget();\n    // update .selectedSlide\n    this.updateSelectedSlide();\n  };\n\n  proto._getCanCellFit = function() {\n    var groupCells = this.options.groupCells;\n    if ( !groupCells ) {\n      return function() {\n        return false;\n      };\n    } else if ( typeof groupCells == 'number' ) {\n      // group by number. 3 -> [0,1,2], [3,4,5], ...\n      var number = parseInt( groupCells, 10 );\n      return function( i ) {\n        return ( i % number ) !== 0;\n      };\n    }\n    // default, group by width of slide\n    // parse '75%\n    var percentMatch = typeof groupCells == 'string' &&\n      groupCells.match( /^(\\d+)%$/ );\n    var percent = percentMatch ? parseInt( percentMatch[1], 10 ) / 100 : 1;\n    return function( i, slideWidth ) {\n      /* eslint-disable-next-line no-invalid-this */\n      return slideWidth <= ( this.size.innerWidth + 1 ) * percent;\n    };\n  };\n\n  // alias _init for jQuery plugin .flickity()\n  proto._init =\n  proto.reposition = function() {\n    this.positionCells();\n    this.positionSliderAtSelected();\n  };\n\n  proto.getSize = function() {\n    this.size = getSize( this.element );\n    this.setCellAlign();\n    this.cursorPosition = this.size.innerWidth * this.cellAlign;\n  };\n\n  var cellAlignShorthands = {\n    // cell align, then based on origin side\n    center: {\n      left: 0.5,\n      right: 0.5,\n    },\n    left: {\n      left: 0,\n      right: 1,\n    },\n    right: {\n      right: 0,\n      left: 1,\n    },\n  };\n\n  proto.setCellAlign = function() {\n    var shorthand = cellAlignShorthands[ this.options.cellAlign ];\n    this.cellAlign = shorthand ? shorthand[ this.originSide ] : this.options.cellAlign;\n  };\n\n  proto.setGallerySize = function() {\n    if ( this.options.setGallerySize ) {\n      var height = this.options.adaptiveHeight && this.selectedSlide ?\n        this.selectedSlide.height : this.maxCellHeight;\n      this.viewport.style.height = height + 'px';\n    }\n  };\n\n  proto._getWrapShiftCells = function() {\n    // only for wrap-around\n    if ( !this.options.wrapAround ) {\n      return;\n    }\n    // unshift previous cells\n    this._unshiftCells( this.beforeShiftCells );\n    this._unshiftCells( this.afterShiftCells );\n    // get before cells\n    // initial gap\n    var gapX = this.cursorPosition;\n    var cellIndex = this.cells.length - 1;\n    this.beforeShiftCells = this._getGapCells( gapX, cellIndex, -1 );\n    // get after cells\n    // ending gap between last cell and end of gallery viewport\n    gapX = this.size.innerWidth - this.cursorPosition;\n    // start cloning at first cell, working forwards\n    this.afterShiftCells = this._getGapCells( gapX, 0, 1 );\n  };\n\n  proto._getGapCells = function( gapX, cellIndex, increment ) {\n    // keep adding cells until the cover the initial gap\n    var cells = [];\n    while ( gapX > 0 ) {\n      var cell = this.cells[ cellIndex ];\n      if ( !cell ) {\n        break;\n      }\n      cells.push( cell );\n      cellIndex += increment;\n      gapX -= cell.size.outerWidth;\n    }\n    return cells;\n  };\n\n  // ----- contain ----- //\n\n  // contain cell targets so no excess sliding\n  proto._containSlides = function() {\n    if ( !this.options.contain || this.options.wrapAround || !this.cells.length ) {\n      return;\n    }\n    var isRightToLeft = this.options.rightToLeft;\n    var beginMargin = isRightToLeft ? 'marginRight' : 'marginLeft';\n    var endMargin = isRightToLeft ? 'marginLeft' : 'marginRight';\n    var contentWidth = this.slideableWidth - this.getLastCell().size[ endMargin ];\n    // content is less than gallery size\n    var isContentSmaller = contentWidth < this.size.innerWidth;\n    // bounds\n    var beginBound = this.cursorPosition + this.cells[0].size[ beginMargin ];\n    var endBound = contentWidth - this.size.innerWidth * ( 1 - this.cellAlign );\n    // contain each cell target\n    this.slides.forEach( function( slide ) {\n      if ( isContentSmaller ) {\n        // all cells fit inside gallery\n        slide.target = contentWidth * this.cellAlign;\n      } else {\n        // contain to bounds\n        slide.target = Math.max( slide.target, beginBound );\n        slide.target = Math.min( slide.target, endBound );\n      }\n    }, this );\n  };\n\n  // -----  ----- //\n\n  /**\n   * emits events via eventEmitter and jQuery events\n   * @param {String} type - name of event\n   * @param {Event} event - original event\n   * @param {Array} args - extra arguments\n   */\n  proto.dispatchEvent = function( type, event, args ) {\n    var emitArgs = event ? [ event ].concat( args ) : args;\n    this.emitEvent( type, emitArgs );\n\n    if ( jQuery && this.$element ) {\n      // default trigger with type if no event\n      type += this.options.namespaceJQueryEvents ? '.flickity' : '';\n      var $event = type;\n      if ( event ) {\n        // create jQuery event\n        var jQEvent = new jQuery.Event( event );\n        jQEvent.type = type;\n        $event = jQEvent;\n      }\n      this.$element.trigger( $event, args );\n    }\n  };\n\n  // -------------------------- select -------------------------- //\n\n  /**\n   * @param {Integer} index - index of the slide\n   * @param {Boolean} isWrap - will wrap-around to last/first if at the end\n   * @param {Boolean} isInstant - will immediately set position at selected cell\n   */\n  proto.select = function( index, isWrap, isInstant ) {\n    if ( !this.isActive ) {\n      return;\n    }\n    index = parseInt( index, 10 );\n    this._wrapSelect( index );\n\n    if ( this.options.wrapAround || isWrap ) {\n      index = utils.modulo( index, this.slides.length );\n    }\n    // bail if invalid index\n    if ( !this.slides[ index ] ) {\n      return;\n    }\n    var prevIndex = this.selectedIndex;\n    this.selectedIndex = index;\n    this.updateSelectedSlide();\n    if ( isInstant ) {\n      this.positionSliderAtSelected();\n    } else {\n      this.startAnimation();\n    }\n    if ( this.options.adaptiveHeight ) {\n      this.setGallerySize();\n    }\n    // events\n    this.dispatchEvent( 'select', null, [ index ] );\n    // change event if new index\n    if ( index != prevIndex ) {\n      this.dispatchEvent( 'change', null, [ index ] );\n    }\n    // old v1 event name, remove in v3\n    this.dispatchEvent('cellSelect');\n  };\n\n  // wraps position for wrapAround, to move to closest slide. #113\n  proto._wrapSelect = function( index ) {\n    var len = this.slides.length;\n    var isWrapping = this.options.wrapAround && len > 1;\n    if ( !isWrapping ) {\n      return index;\n    }\n    var wrapIndex = utils.modulo( index, len );\n    // go to shortest\n    var delta = Math.abs( wrapIndex - this.selectedIndex );\n    var backWrapDelta = Math.abs( ( wrapIndex + len ) - this.selectedIndex );\n    var forewardWrapDelta = Math.abs( ( wrapIndex - len ) - this.selectedIndex );\n    if ( !this.isDragSelect && backWrapDelta < delta ) {\n      index += len;\n    } else if ( !this.isDragSelect && forewardWrapDelta < delta ) {\n      index -= len;\n    }\n    // wrap position so slider is within normal area\n    if ( index < 0 ) {\n      this.x -= this.slideableWidth;\n    } else if ( index >= len ) {\n      this.x += this.slideableWidth;\n    }\n  };\n\n  proto.previous = function( isWrap, isInstant ) {\n    this.select( this.selectedIndex - 1, isWrap, isInstant );\n  };\n\n  proto.next = function( isWrap, isInstant ) {\n    this.select( this.selectedIndex + 1, isWrap, isInstant );\n  };\n\n  proto.updateSelectedSlide = function() {\n    var slide = this.slides[ this.selectedIndex ];\n    // selectedIndex could be outside of slides, if triggered before resize()\n    if ( !slide ) {\n      return;\n    }\n    // unselect previous selected slide\n    this.unselectSelectedSlide();\n    // update new selected slide\n    this.selectedSlide = slide;\n    slide.select();\n    this.selectedCells = slide.cells;\n    this.selectedElements = slide.getCellElements();\n    // HACK: selectedCell & selectedElement is first cell in slide, backwards compatibility\n    // Remove in v3?\n    this.selectedCell = slide.cells[0];\n    this.selectedElement = this.selectedElements[0];\n  };\n\n  proto.unselectSelectedSlide = function() {\n    if ( this.selectedSlide ) {\n      this.selectedSlide.unselect();\n    }\n  };\n\n  proto.selectInitialIndex = function() {\n    var initialIndex = this.options.initialIndex;\n    // already activated, select previous selectedIndex\n    if ( this.isInitActivated ) {\n      this.select( this.selectedIndex, false, true );\n      return;\n    }\n    // select with selector string\n    if ( initialIndex && typeof initialIndex == 'string' ) {\n      var cell = this.queryCell( initialIndex );\n      if ( cell ) {\n        this.selectCell( initialIndex, false, true );\n        return;\n      }\n    }\n\n    var index = 0;\n    // select with number\n    if ( initialIndex && this.slides[ initialIndex ] ) {\n      index = initialIndex;\n    }\n    // select instantly\n    this.select( index, false, true );\n  };\n\n  /**\n   * select slide from number or cell element\n   * @param {[Element, Number]} value - zero-based index or element to select\n   * @param {Boolean} isWrap - enables wrapping around for extra index\n   * @param {Boolean} isInstant - disables slide animation\n   */\n  proto.selectCell = function( value, isWrap, isInstant ) {\n    // get cell\n    var cell = this.queryCell( value );\n    if ( !cell ) {\n      return;\n    }\n\n    var index = this.getCellSlideIndex( cell );\n    this.select( index, isWrap, isInstant );\n  };\n\n  proto.getCellSlideIndex = function( cell ) {\n    // get index of slides that has cell\n    for ( var i = 0; i < this.slides.length; i++ ) {\n      var slide = this.slides[i];\n      var index = slide.cells.indexOf( cell );\n      if ( index != -1 ) {\n        return i;\n      }\n    }\n  };\n\n  // -------------------------- get cells -------------------------- //\n\n  /**\n   * get Flickity.Cell, given an Element\n   * @param {Element} elem - matching cell element\n   * @returns {Flickity.Cell} cell - matching cell\n   */\n  proto.getCell = function( elem ) {\n    // loop through cells to get the one that matches\n    for ( var i = 0; i < this.cells.length; i++ ) {\n      var cell = this.cells[i];\n      if ( cell.element == elem ) {\n        return cell;\n      }\n    }\n  };\n\n  /**\n   * get collection of Flickity.Cells, given Elements\n   * @param {[Element, Array, NodeList]} elems - multiple elements\n   * @returns {Array} cells - Flickity.Cells\n   */\n  proto.getCells = function( elems ) {\n    elems = utils.makeArray( elems );\n    var cells = [];\n    elems.forEach( function( elem ) {\n      var cell = this.getCell( elem );\n      if ( cell ) {\n        cells.push( cell );\n      }\n    }, this );\n    return cells;\n  };\n\n  /**\n   * get cell elements\n   * @returns {Array} cellElems\n   */\n  proto.getCellElements = function() {\n    return this.cells.map( function( cell ) {\n      return cell.element;\n    } );\n  };\n\n  /**\n   * get parent cell from an element\n   * @param {Element} elem - child element\n   * @returns {Flickit.Cell} cell - parent cell\n   */\n  proto.getParentCell = function( elem ) {\n    // first check if elem is cell\n    var cell = this.getCell( elem );\n    if ( cell ) {\n      return cell;\n    }\n    // try to get parent cell elem\n    elem = utils.getParent( elem, '.flickity-slider > *' );\n    return this.getCell( elem );\n  };\n\n  /**\n   * get cells adjacent to a slide\n   * @param {Integer} adjCount - number of adjacent slides\n   * @param {Integer} index - index of slide to start\n   * @returns {Array} cells - array of Flickity.Cells\n   */\n  proto.getAdjacentCellElements = function( adjCount, index ) {\n    if ( !adjCount ) {\n      return this.selectedSlide.getCellElements();\n    }\n    index = index === undefined ? this.selectedIndex : index;\n\n    var len = this.slides.length;\n    if ( 1 + ( adjCount * 2 ) >= len ) {\n      return this.getCellElements();\n    }\n\n    var cellElems = [];\n    for ( var i = index - adjCount; i <= index + adjCount; i++ ) {\n      var slideIndex = this.options.wrapAround ? utils.modulo( i, len ) : i;\n      var slide = this.slides[ slideIndex ];\n      if ( slide ) {\n        cellElems = cellElems.concat( slide.getCellElements() );\n      }\n    }\n    return cellElems;\n  };\n\n  /**\n   * select slide from number or cell element\n   * @param {[Element, String, Number]} selector - element, selector string, or index\n   * @returns {Flickity.Cell} - matching cell\n   */\n  proto.queryCell = function( selector ) {\n    if ( typeof selector == 'number' ) {\n      // use number as index\n      return this.cells[ selector ];\n    }\n    if ( typeof selector == 'string' ) {\n      // do not select invalid selectors from hash: #123, #/. #791\n      if ( selector.match( /^[#.]?[\\d/]/ ) ) {\n        return;\n      }\n      // use string as selector, get element\n      selector = this.element.querySelector( selector );\n    }\n    // get cell from element\n    return this.getCell( selector );\n  };\n\n  // -------------------------- events -------------------------- //\n\n  proto.uiChange = function() {\n    this.emitEvent('uiChange');\n  };\n\n  // keep focus on element when child UI elements are clicked\n  proto.childUIPointerDown = function( event ) {\n    // HACK iOS does not allow touch events to bubble up?!\n    if ( event.type != 'touchstart' ) {\n      event.preventDefault();\n    }\n    this.focus();\n  };\n\n  // ----- resize ----- //\n\n  proto.onresize = function() {\n    this.watchCSS();\n    this.resize();\n  };\n\n  utils.debounceMethod( Flickity, 'onresize', 150 );\n\n  proto.resize = function() {\n    // #1177 disable resize behavior when animating or dragging for iOS 15\n    if ( !this.isActive || this.isAnimating || this.isDragging ) {\n      return;\n    }\n    this.getSize();\n    // wrap values\n    if ( this.options.wrapAround ) {\n      this.x = utils.modulo( this.x, this.slideableWidth );\n    }\n    this.positionCells();\n    this._getWrapShiftCells();\n    this.setGallerySize();\n    this.emitEvent('resize');\n    // update selected index for group slides, instant\n    // TODO: position can be lost between groups of various numbers\n    var selectedElement = this.selectedElements && this.selectedElements[0];\n    this.selectCell( selectedElement, false, true );\n  };\n\n  // watches the :after property, activates/deactivates\n  proto.watchCSS = function() {\n    var watchOption = this.options.watchCSS;\n    if ( !watchOption ) {\n      return;\n    }\n\n    var afterContent = getComputedStyle( this.element, ':after' ).content;\n    // activate if :after { content: 'flickity' }\n    if ( afterContent.indexOf('flickity') != -1 ) {\n      this.activate();\n    } else {\n      this.deactivate();\n    }\n  };\n\n  // ----- keydown ----- //\n\n  // go previous/next if left/right keys pressed\n  proto.onkeydown = function( event ) {\n    // only work if element is in focus\n    var isNotFocused = document.activeElement && document.activeElement != this.element;\n    if ( !this.options.accessibility || isNotFocused ) {\n      return;\n    }\n\n    var handler = Flickity.keyboardHandlers[ event.keyCode ];\n    if ( handler ) {\n      handler.call( this );\n    }\n  };\n\n  Flickity.keyboardHandlers = {\n    // left arrow\n    37: function() {\n      var leftMethod = this.options.rightToLeft ? 'next' : 'previous';\n      this.uiChange();\n      this[ leftMethod ]();\n    },\n    // right arrow\n    39: function() {\n      var rightMethod = this.options.rightToLeft ? 'previous' : 'next';\n      this.uiChange();\n      this[ rightMethod ]();\n    },\n  };\n\n  // ----- focus ----- //\n\n  proto.focus = function() {\n    // TODO remove scrollTo once focus options gets more support\n    // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/focus ...\n    //    #Browser_compatibility\n    var prevScrollY = window.pageYOffset;\n    this.element.focus({ preventScroll: true });\n    // hack to fix scroll jump after focus, #76\n    if ( window.pageYOffset != prevScrollY ) {\n      window.scrollTo( window.pageXOffset, prevScrollY );\n    }\n  };\n\n  // -------------------------- destroy -------------------------- //\n\n  // deactivate all Flickity functionality, but keep stuff available\n  proto.deactivate = function() {\n    if ( !this.isActive ) {\n      return;\n    }\n    this.element.classList.remove('flickity-enabled');\n    this.element.classList.remove('flickity-rtl');\n    this.unselectSelectedSlide();\n    // destroy cells\n    this.cells.forEach( function( cell ) {\n      cell.destroy();\n    } );\n    this.element.removeChild( this.viewport );\n    // move child elements back into element\n    moveElements( this.slider.children, this.element );\n    if ( this.options.accessibility ) {\n      this.element.removeAttribute('tabIndex');\n      this.element.removeEventListener( 'keydown', this );\n    }\n    // set flags\n    this.isActive = false;\n    this.emitEvent('deactivate');\n  };\n\n  proto.destroy = function() {\n    this.deactivate();\n    window.removeEventListener( 'resize', this );\n    this.allOff();\n    this.emitEvent('destroy');\n    if ( jQuery && this.$element ) {\n      jQuery.removeData( this.element, 'flickity' );\n    }\n    delete this.element.flickityGUID;\n    delete instances[ this.guid ];\n  };\n\n  // -------------------------- prototype -------------------------- //\n\n  utils.extend( proto, animatePrototype );\n\n  // -------------------------- extras -------------------------- //\n\n  /**\n   * get Flickity instance from element\n   * @param {[Element, String]} elem - element or selector string\n   * @returns {Flickity} - Flickity instance\n   */\n  Flickity.data = function( elem ) {\n    elem = utils.getQueryElement( elem );\n    var id = elem && elem.flickityGUID;\n    return id && instances[ id ];\n  };\n\n  utils.htmlInit( Flickity, 'flickity' );\n\n  if ( jQuery && jQuery.bridget ) {\n    jQuery.bridget( 'flickity', Flickity );\n  }\n\n  // set internal jQuery, for Webpack + jQuery v3, #478\n  Flickity.setJQuery = function( jq ) {\n    jQuery = jq;\n  };\n\n  Flickity.Cell = Cell;\n  Flickity.Slide = Slide;\n\n  return Flickity;\n\n  } ) );\n\n  /*!\n   * Unipointer v2.4.0\n   * base class for doing one thing with pointer event\n   * MIT license\n   */\n\n  /*jshint browser: true, undef: true, unused: true, strict: true */\n\n  ( function( window, factory ) {\n    // universal module definition\n    /* jshint strict: false */ /*global define, module, require */\n    if ( typeof define == 'function' && define.amd ) {\n      // AMD\n      define( 'unipointer/unipointer',[\n        'ev-emitter/ev-emitter'\n      ], function( EvEmitter ) {\n        return factory( window, EvEmitter );\n      });\n    } else if ( typeof module == 'object' && module.exports ) {\n      // CommonJS\n      module.exports = factory(\n        window,\n        require('ev-emitter')\n      );\n    } else {\n      // browser global\n      window.Unipointer = factory(\n        window,\n        window.EvEmitter\n      );\n    }\n\n  }( window, function factory( window, EvEmitter ) {\n\n\n\n  function noop() {}\n\n  function Unipointer() {}\n\n  // inherit EvEmitter\n  var proto = Unipointer.prototype = Object.create( EvEmitter.prototype );\n\n  proto.bindStartEvent = function( elem ) {\n    this._bindStartEvent( elem, true );\n  };\n\n  proto.unbindStartEvent = function( elem ) {\n    this._bindStartEvent( elem, false );\n  };\n\n  /**\n   * Add or remove start event\n   * @param {Boolean} isAdd - remove if falsey\n   */\n  proto._bindStartEvent = function( elem, isAdd ) {\n    // munge isAdd, default to true\n    isAdd = isAdd === undefined ? true : isAdd;\n    var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n\n    // default to mouse events\n    var startEvent = 'mousedown';\n    if ( 'ontouchstart' in window ) {\n      // HACK prefer Touch Events as you can preventDefault on touchstart to\n      // disable scroll in iOS & mobile Chrome metafizzy/flickity#1177\n      startEvent = 'touchstart';\n    } else if ( window.PointerEvent ) {\n      // Pointer Events\n      startEvent = 'pointerdown';\n    }\n    elem[ bindMethod ]( startEvent, this );\n  };\n\n  // trigger handler methods for events\n  proto.handleEvent = function( event ) {\n    var method = 'on' + event.type;\n    if ( this[ method ] ) {\n      this[ method ]( event );\n    }\n  };\n\n  // returns the touch that we're keeping track of\n  proto.getTouch = function( touches ) {\n    for ( var i=0; i < touches.length; i++ ) {\n      var touch = touches[i];\n      if ( touch.identifier == this.pointerIdentifier ) {\n        return touch;\n      }\n    }\n  };\n\n  // ----- start event ----- //\n\n  proto.onmousedown = function( event ) {\n    // dismiss clicks from right or middle buttons\n    var button = event.button;\n    if ( button && ( button !== 0 && button !== 1 ) ) {\n      return;\n    }\n    this._pointerDown( event, event );\n  };\n\n  proto.ontouchstart = function( event ) {\n    this._pointerDown( event, event.changedTouches[0] );\n  };\n\n  proto.onpointerdown = function( event ) {\n    this._pointerDown( event, event );\n  };\n\n  /**\n   * pointer start\n   * @param {Event} event\n   * @param {Event or Touch} pointer\n   */\n  proto._pointerDown = function( event, pointer ) {\n    // dismiss right click and other pointers\n    // button = 0 is okay, 1-4 not\n    if ( event.button || this.isPointerDown ) {\n      return;\n    }\n\n    this.isPointerDown = true;\n    // save pointer identifier to match up touch events\n    this.pointerIdentifier = pointer.pointerId !== undefined ?\n      // pointerId for pointer events, touch.indentifier for touch events\n      pointer.pointerId : pointer.identifier;\n\n    this.pointerDown( event, pointer );\n  };\n\n  proto.pointerDown = function( event, pointer ) {\n    this._bindPostStartEvents( event );\n    this.emitEvent( 'pointerDown', [ event, pointer ] );\n  };\n\n  // hash of events to be bound after start event\n  var postStartEvents = {\n    mousedown: [ 'mousemove', 'mouseup' ],\n    touchstart: [ 'touchmove', 'touchend', 'touchcancel' ],\n    pointerdown: [ 'pointermove', 'pointerup', 'pointercancel' ],\n  };\n\n  proto._bindPostStartEvents = function( event ) {\n    if ( !event ) {\n      return;\n    }\n    // get proper events to match start event\n    var events = postStartEvents[ event.type ];\n    // bind events to node\n    events.forEach( function( eventName ) {\n      window.addEventListener( eventName, this );\n    }, this );\n    // save these arguments\n    this._boundPointerEvents = events;\n  };\n\n  proto._unbindPostStartEvents = function() {\n    // check for _boundEvents, in case dragEnd triggered twice (old IE8 bug)\n    if ( !this._boundPointerEvents ) {\n      return;\n    }\n    this._boundPointerEvents.forEach( function( eventName ) {\n      window.removeEventListener( eventName, this );\n    }, this );\n\n    delete this._boundPointerEvents;\n  };\n\n  // ----- move event ----- //\n\n  proto.onmousemove = function( event ) {\n    this._pointerMove( event, event );\n  };\n\n  proto.onpointermove = function( event ) {\n    if ( event.pointerId == this.pointerIdentifier ) {\n      this._pointerMove( event, event );\n    }\n  };\n\n  proto.ontouchmove = function( event ) {\n    var touch = this.getTouch( event.changedTouches );\n    if ( touch ) {\n      this._pointerMove( event, touch );\n    }\n  };\n\n  /**\n   * pointer move\n   * @param {Event} event\n   * @param {Event or Touch} pointer\n   * @private\n   */\n  proto._pointerMove = function( event, pointer ) {\n    this.pointerMove( event, pointer );\n  };\n\n  // public\n  proto.pointerMove = function( event, pointer ) {\n    this.emitEvent( 'pointerMove', [ event, pointer ] );\n  };\n\n  // ----- end event ----- //\n\n\n  proto.onmouseup = function( event ) {\n    this._pointerUp( event, event );\n  };\n\n  proto.onpointerup = function( event ) {\n    if ( event.pointerId == this.pointerIdentifier ) {\n      this._pointerUp( event, event );\n    }\n  };\n\n  proto.ontouchend = function( event ) {\n    var touch = this.getTouch( event.changedTouches );\n    if ( touch ) {\n      this._pointerUp( event, touch );\n    }\n  };\n\n  /**\n   * pointer up\n   * @param {Event} event\n   * @param {Event or Touch} pointer\n   * @private\n   */\n  proto._pointerUp = function( event, pointer ) {\n    this._pointerDone();\n    this.pointerUp( event, pointer );\n  };\n\n  // public\n  proto.pointerUp = function( event, pointer ) {\n    this.emitEvent( 'pointerUp', [ event, pointer ] );\n  };\n\n  // ----- pointer done ----- //\n\n  // triggered on pointer up & pointer cancel\n  proto._pointerDone = function() {\n    this._pointerReset();\n    this._unbindPostStartEvents();\n    this.pointerDone();\n  };\n\n  proto._pointerReset = function() {\n    // reset properties\n    this.isPointerDown = false;\n    delete this.pointerIdentifier;\n  };\n\n  proto.pointerDone = noop;\n\n  // ----- pointer cancel ----- //\n\n  proto.onpointercancel = function( event ) {\n    if ( event.pointerId == this.pointerIdentifier ) {\n      this._pointerCancel( event, event );\n    }\n  };\n\n  proto.ontouchcancel = function( event ) {\n    var touch = this.getTouch( event.changedTouches );\n    if ( touch ) {\n      this._pointerCancel( event, touch );\n    }\n  };\n\n  /**\n   * pointer cancel\n   * @param {Event} event\n   * @param {Event or Touch} pointer\n   * @private\n   */\n  proto._pointerCancel = function( event, pointer ) {\n    this._pointerDone();\n    this.pointerCancel( event, pointer );\n  };\n\n  // public\n  proto.pointerCancel = function( event, pointer ) {\n    this.emitEvent( 'pointerCancel', [ event, pointer ] );\n  };\n\n  // -----  ----- //\n\n  // utility function for getting x/y coords from event\n  Unipointer.getPointerPoint = function( pointer ) {\n    return {\n      x: pointer.pageX,\n      y: pointer.pageY\n    };\n  };\n\n  // -----  ----- //\n\n  return Unipointer;\n\n  }));\n\n  /*!\n   * Unidragger v2.4.0\n   * Draggable base class\n   * MIT license\n   */\n\n  /*jshint browser: true, unused: true, undef: true, strict: true */\n\n  ( function( window, factory ) {\n    // universal module definition\n    /*jshint strict: false */ /*globals define, module, require */\n\n    if ( typeof define == 'function' && define.amd ) {\n      // AMD\n      define( 'unidragger/unidragger',[\n        'unipointer/unipointer'\n      ], function( Unipointer ) {\n        return factory( window, Unipointer );\n      });\n    } else if ( typeof module == 'object' && module.exports ) {\n      // CommonJS\n      module.exports = factory(\n        window,\n        require('unipointer')\n      );\n    } else {\n      // browser global\n      window.Unidragger = factory(\n        window,\n        window.Unipointer\n      );\n    }\n\n  }( window, function factory( window, Unipointer ) {\n\n\n\n  // -------------------------- Unidragger -------------------------- //\n\n  function Unidragger() {}\n\n  // inherit Unipointer & EvEmitter\n  var proto = Unidragger.prototype = Object.create( Unipointer.prototype );\n\n  // ----- bind start ----- //\n\n  proto.bindHandles = function() {\n    this._bindHandles( true );\n  };\n\n  proto.unbindHandles = function() {\n    this._bindHandles( false );\n  };\n\n  /**\n   * Add or remove start event\n   * @param {Boolean} isAdd\n   */\n  proto._bindHandles = function( isAdd ) {\n    // munge isAdd, default to true\n    isAdd = isAdd === undefined ? true : isAdd;\n    // bind each handle\n    var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n    var touchAction = isAdd ? this._touchActionValue : '';\n    for ( var i=0; i < this.handles.length; i++ ) {\n      var handle = this.handles[i];\n      this._bindStartEvent( handle, isAdd );\n      handle[ bindMethod ]( 'click', this );\n      // touch-action: none to override browser touch gestures. metafizzy/flickity#540\n      if ( window.PointerEvent ) {\n        handle.style.touchAction = touchAction;\n      }\n    }\n  };\n\n  // prototype so it can be overwriteable by Flickity\n  proto._touchActionValue = 'none';\n\n  // ----- start event ----- //\n\n  /**\n   * pointer start\n   * @param {Event} event\n   * @param {Event or Touch} pointer\n   */\n  proto.pointerDown = function( event, pointer ) {\n    var isOkay = this.okayPointerDown( event );\n    if ( !isOkay ) {\n      return;\n    }\n    // track start event position\n    // Safari 9 overrides pageX and pageY. These values needs to be copied. flickity#842\n    this.pointerDownPointer = {\n      pageX: pointer.pageX,\n      pageY: pointer.pageY,\n    };\n\n    event.preventDefault();\n    this.pointerDownBlur();\n    // bind move and end events\n    this._bindPostStartEvents( event );\n    this.emitEvent( 'pointerDown', [ event, pointer ] );\n  };\n\n  // nodes that have text fields\n  var cursorNodes = {\n    TEXTAREA: true,\n    INPUT: true,\n    SELECT: true,\n    OPTION: true,\n  };\n\n  // input types that do not have text fields\n  var clickTypes = {\n    radio: true,\n    checkbox: true,\n    button: true,\n    submit: true,\n    image: true,\n    file: true,\n  };\n\n  // dismiss inputs with text fields. flickity#403, flickity#404\n  proto.okayPointerDown = function( event ) {\n    var isCursorNode = cursorNodes[ event.target.nodeName ];\n    var isClickType = clickTypes[ event.target.type ];\n    var isOkay = !isCursorNode || isClickType;\n    if ( !isOkay ) {\n      this._pointerReset();\n    }\n    return isOkay;\n  };\n\n  // kludge to blur previously focused input\n  proto.pointerDownBlur = function() {\n    var focused = document.activeElement;\n    // do not blur body for IE10, metafizzy/flickity#117\n    var canBlur = focused && focused.blur && focused != document.body;\n    if ( canBlur ) {\n      focused.blur();\n    }\n  };\n\n  // ----- move event ----- //\n\n  /**\n   * drag move\n   * @param {Event} event\n   * @param {Event or Touch} pointer\n   */\n  proto.pointerMove = function( event, pointer ) {\n    var moveVector = this._dragPointerMove( event, pointer );\n    this.emitEvent( 'pointerMove', [ event, pointer, moveVector ] );\n    this._dragMove( event, pointer, moveVector );\n  };\n\n  // base pointer move logic\n  proto._dragPointerMove = function( event, pointer ) {\n    var moveVector = {\n      x: pointer.pageX - this.pointerDownPointer.pageX,\n      y: pointer.pageY - this.pointerDownPointer.pageY\n    };\n    // start drag if pointer has moved far enough to start drag\n    if ( !this.isDragging && this.hasDragStarted( moveVector ) ) {\n      this._dragStart( event, pointer );\n    }\n    return moveVector;\n  };\n\n  // condition if pointer has moved far enough to start drag\n  proto.hasDragStarted = function( moveVector ) {\n    return Math.abs( moveVector.x ) > 3 || Math.abs( moveVector.y ) > 3;\n  };\n\n  // ----- end event ----- //\n\n  /**\n   * pointer up\n   * @param {Event} event\n   * @param {Event or Touch} pointer\n   */\n  proto.pointerUp = function( event, pointer ) {\n    this.emitEvent( 'pointerUp', [ event, pointer ] );\n    this._dragPointerUp( event, pointer );\n  };\n\n  proto._dragPointerUp = function( event, pointer ) {\n    if ( this.isDragging ) {\n      this._dragEnd( event, pointer );\n    } else {\n      // pointer didn't move enough for drag to start\n      this._staticClick( event, pointer );\n    }\n  };\n\n  // -------------------------- drag -------------------------- //\n\n  // dragStart\n  proto._dragStart = function( event, pointer ) {\n    this.isDragging = true;\n    // prevent clicks\n    this.isPreventingClicks = true;\n    this.dragStart( event, pointer );\n  };\n\n  proto.dragStart = function( event, pointer ) {\n    this.emitEvent( 'dragStart', [ event, pointer ] );\n  };\n\n  // dragMove\n  proto._dragMove = function( event, pointer, moveVector ) {\n    // do not drag if not dragging yet\n    if ( !this.isDragging ) {\n      return;\n    }\n\n    this.dragMove( event, pointer, moveVector );\n  };\n\n  proto.dragMove = function( event, pointer, moveVector ) {\n    event.preventDefault();\n    this.emitEvent( 'dragMove', [ event, pointer, moveVector ] );\n  };\n\n  // dragEnd\n  proto._dragEnd = function( event, pointer ) {\n    // set flags\n    this.isDragging = false;\n    // re-enable clicking async\n    setTimeout( function() {\n      delete this.isPreventingClicks;\n    }.bind( this ) );\n\n    this.dragEnd( event, pointer );\n  };\n\n  proto.dragEnd = function( event, pointer ) {\n    this.emitEvent( 'dragEnd', [ event, pointer ] );\n  };\n\n  // ----- onclick ----- //\n\n  // handle all clicks and prevent clicks when dragging\n  proto.onclick = function( event ) {\n    if ( this.isPreventingClicks ) {\n      event.preventDefault();\n    }\n  };\n\n  // ----- staticClick ----- //\n\n  // triggered after pointer down & up with no/tiny movement\n  proto._staticClick = function( event, pointer ) {\n    // ignore emulated mouse up clicks\n    if ( this.isIgnoringMouseUp && event.type == 'mouseup' ) {\n      return;\n    }\n\n    this.staticClick( event, pointer );\n\n    // set flag for emulated clicks 300ms after touchend\n    if ( event.type != 'mouseup' ) {\n      this.isIgnoringMouseUp = true;\n      // reset flag after 300ms\n      setTimeout( function() {\n        delete this.isIgnoringMouseUp;\n      }.bind( this ), 400 );\n    }\n  };\n\n  proto.staticClick = function( event, pointer ) {\n    this.emitEvent( 'staticClick', [ event, pointer ] );\n  };\n\n  // ----- utils ----- //\n\n  Unidragger.getPointerPoint = Unipointer.getPointerPoint;\n\n  // -----  ----- //\n\n  return Unidragger;\n\n  }));\n\n  // drag\n  ( function( window, factory ) {\n    // universal module definition\n    if ( typeof define == 'function' && define.amd ) {\n      // AMD\n      define( 'flickity/js/drag',[\n        './flickity',\n        'unidragger/unidragger',\n        'fizzy-ui-utils/utils',\n      ], function( Flickity, Unidragger, utils ) {\n        return factory( window, Flickity, Unidragger, utils );\n      } );\n    } else if ( typeof module == 'object' && module.exports ) {\n      // CommonJS\n      module.exports = factory(\n          window,\n          require('./flickity'),\n          require('unidragger'),\n          require('fizzy-ui-utils')\n      );\n    } else {\n      // browser global\n      window.Flickity = factory(\n          window,\n          window.Flickity,\n          window.Unidragger,\n          window.fizzyUIUtils\n      );\n    }\n\n  }( window, function factory( window, Flickity, Unidragger, utils ) {\n\n\n\n  // ----- defaults ----- //\n\n  utils.extend( Flickity.defaults, {\n    draggable: '>1',\n    dragThreshold: 3,\n  } );\n\n  // ----- create ----- //\n\n  Flickity.createMethods.push('_createDrag');\n\n  // -------------------------- drag prototype -------------------------- //\n\n  var proto = Flickity.prototype;\n  utils.extend( proto, Unidragger.prototype );\n  proto._touchActionValue = 'pan-y';\n\n  // --------------------------  -------------------------- //\n\n  proto._createDrag = function() {\n    this.on( 'activate', this.onActivateDrag );\n    this.on( 'uiChange', this._uiChangeDrag );\n    this.on( 'deactivate', this.onDeactivateDrag );\n    this.on( 'cellChange', this.updateDraggable );\n    // TODO updateDraggable on resize? if groupCells & slides change\n  };\n\n  proto.onActivateDrag = function() {\n    this.handles = [ this.viewport ];\n    this.bindHandles();\n    this.updateDraggable();\n  };\n\n  proto.onDeactivateDrag = function() {\n    this.unbindHandles();\n    this.element.classList.remove('is-draggable');\n  };\n\n  proto.updateDraggable = function() {\n    // disable dragging if less than 2 slides. #278\n    if ( this.options.draggable == '>1' ) {\n      this.isDraggable = this.slides.length > 1;\n    } else {\n      this.isDraggable = this.options.draggable;\n    }\n    if ( this.isDraggable ) {\n      this.element.classList.add('is-draggable');\n    } else {\n      this.element.classList.remove('is-draggable');\n    }\n  };\n\n  // backwards compatibility\n  proto.bindDrag = function() {\n    this.options.draggable = true;\n    this.updateDraggable();\n  };\n\n  proto.unbindDrag = function() {\n    this.options.draggable = false;\n    this.updateDraggable();\n  };\n\n  proto._uiChangeDrag = function() {\n    delete this.isFreeScrolling;\n  };\n\n  // -------------------------- pointer events -------------------------- //\n\n  proto.pointerDown = function( event, pointer ) {\n    if ( !this.isDraggable ) {\n      this._pointerDownDefault( event, pointer );\n      return;\n    }\n    var isOkay = this.okayPointerDown( event );\n    if ( !isOkay ) {\n      return;\n    }\n\n    this._pointerDownPreventDefault( event );\n    this.pointerDownFocus( event );\n    // blur\n    if ( document.activeElement != this.element ) {\n      // do not blur if already focused\n      this.pointerDownBlur();\n    }\n\n    // stop if it was moving\n    this.dragX = this.x;\n    this.viewport.classList.add('is-pointer-down');\n    // track scrolling\n    this.pointerDownScroll = getScrollPosition();\n    window.addEventListener( 'scroll', this );\n\n    this._pointerDownDefault( event, pointer );\n  };\n\n  // default pointerDown logic, used for staticClick\n  proto._pointerDownDefault = function( event, pointer ) {\n    // track start event position\n    // Safari 9 overrides pageX and pageY. These values needs to be copied. #779\n    this.pointerDownPointer = {\n      pageX: pointer.pageX,\n      pageY: pointer.pageY,\n    };\n    // bind move and end events\n    this._bindPostStartEvents( event );\n    this.dispatchEvent( 'pointerDown', event, [ pointer ] );\n  };\n\n  var focusNodes = {\n    INPUT: true,\n    TEXTAREA: true,\n    SELECT: true,\n  };\n\n  proto.pointerDownFocus = function( event ) {\n    var isFocusNode = focusNodes[ event.target.nodeName ];\n    if ( !isFocusNode ) {\n      this.focus();\n    }\n  };\n\n  proto._pointerDownPreventDefault = function( event ) {\n    var isTouchStart = event.type == 'touchstart';\n    var isTouchPointer = event.pointerType == 'touch';\n    var isFocusNode = focusNodes[ event.target.nodeName ];\n    if ( !isTouchStart && !isTouchPointer && !isFocusNode ) {\n      event.preventDefault();\n    }\n  };\n\n  // ----- move ----- //\n\n  proto.hasDragStarted = function( moveVector ) {\n    return Math.abs( moveVector.x ) > this.options.dragThreshold;\n  };\n\n  // ----- up ----- //\n\n  proto.pointerUp = function( event, pointer ) {\n    delete this.isTouchScrolling;\n    this.viewport.classList.remove('is-pointer-down');\n    this.dispatchEvent( 'pointerUp', event, [ pointer ] );\n    this._dragPointerUp( event, pointer );\n  };\n\n  proto.pointerDone = function() {\n    window.removeEventListener( 'scroll', this );\n    delete this.pointerDownScroll;\n  };\n\n  // -------------------------- dragging -------------------------- //\n\n  proto.dragStart = function( event, pointer ) {\n    if ( !this.isDraggable ) {\n      return;\n    }\n    this.dragStartPosition = this.x;\n    this.startAnimation();\n    window.removeEventListener( 'scroll', this );\n    this.dispatchEvent( 'dragStart', event, [ pointer ] );\n  };\n\n  proto.pointerMove = function( event, pointer ) {\n    var moveVector = this._dragPointerMove( event, pointer );\n    this.dispatchEvent( 'pointerMove', event, [ pointer, moveVector ] );\n    this._dragMove( event, pointer, moveVector );\n  };\n\n  proto.dragMove = function( event, pointer, moveVector ) {\n    if ( !this.isDraggable ) {\n      return;\n    }\n    event.preventDefault();\n\n    this.previousDragX = this.dragX;\n    // reverse if right-to-left\n    var direction = this.options.rightToLeft ? -1 : 1;\n    if ( this.options.wrapAround ) {\n      // wrap around move. #589\n      moveVector.x %= this.slideableWidth;\n    }\n    var dragX = this.dragStartPosition + moveVector.x * direction;\n\n    if ( !this.options.wrapAround && this.slides.length ) {\n      // slow drag\n      var originBound = Math.max( -this.slides[0].target, this.dragStartPosition );\n      dragX = dragX > originBound ? ( dragX + originBound ) * 0.5 : dragX;\n      var endBound = Math.min( -this.getLastSlide().target, this.dragStartPosition );\n      dragX = dragX < endBound ? ( dragX + endBound ) * 0.5 : dragX;\n    }\n\n    this.dragX = dragX;\n\n    this.dragMoveTime = new Date();\n    this.dispatchEvent( 'dragMove', event, [ pointer, moveVector ] );\n  };\n\n  proto.dragEnd = function( event, pointer ) {\n    if ( !this.isDraggable ) {\n      return;\n    }\n    if ( this.options.freeScroll ) {\n      this.isFreeScrolling = true;\n    }\n    // set selectedIndex based on where flick will end up\n    var index = this.dragEndRestingSelect();\n\n    if ( this.options.freeScroll && !this.options.wrapAround ) {\n      // if free-scroll & not wrap around\n      // do not free-scroll if going outside of bounding slides\n      // so bounding slides can attract slider, and keep it in bounds\n      var restingX = this.getRestingPosition();\n      this.isFreeScrolling = -restingX > this.slides[0].target &&\n        -restingX < this.getLastSlide().target;\n    } else if ( !this.options.freeScroll && index == this.selectedIndex ) {\n      // boost selection if selected index has not changed\n      index += this.dragEndBoostSelect();\n    }\n    delete this.previousDragX;\n    // apply selection\n    // TODO refactor this, selecting here feels weird\n    // HACK, set flag so dragging stays in correct direction\n    this.isDragSelect = this.options.wrapAround;\n    this.select( index );\n    delete this.isDragSelect;\n    this.dispatchEvent( 'dragEnd', event, [ pointer ] );\n  };\n\n  proto.dragEndRestingSelect = function() {\n    var restingX = this.getRestingPosition();\n    // how far away from selected slide\n    var distance = Math.abs( this.getSlideDistance( -restingX, this.selectedIndex ) );\n    // get closet resting going up and going down\n    var positiveResting = this._getClosestResting( restingX, distance, 1 );\n    var negativeResting = this._getClosestResting( restingX, distance, -1 );\n    // use closer resting for wrap-around\n    var index = positiveResting.distance < negativeResting.distance ?\n      positiveResting.index : negativeResting.index;\n    return index;\n  };\n\n  /**\n   * given resting X and distance to selected cell\n   * get the distance and index of the closest cell\n   * @param {Number} restingX - estimated post-flick resting position\n   * @param {Number} distance - distance to selected cell\n   * @param {Integer} increment - +1 or -1, going up or down\n   * @returns {Object} - { distance: {Number}, index: {Integer} }\n   */\n  proto._getClosestResting = function( restingX, distance, increment ) {\n    var index = this.selectedIndex;\n    var minDistance = Infinity;\n    var condition = this.options.contain && !this.options.wrapAround ?\n      // if contain, keep going if distance is equal to minDistance\n      function( dist, minDist ) {\n        return dist <= minDist;\n      } : function( dist, minDist ) {\n        return dist < minDist;\n      };\n    while ( condition( distance, minDistance ) ) {\n      // measure distance to next cell\n      index += increment;\n      minDistance = distance;\n      distance = this.getSlideDistance( -restingX, index );\n      if ( distance === null ) {\n        break;\n      }\n      distance = Math.abs( distance );\n    }\n    return {\n      distance: minDistance,\n      // selected was previous index\n      index: index - increment,\n    };\n  };\n\n  /**\n   * measure distance between x and a slide target\n   * @param {Number} x - horizontal position\n   * @param {Integer} index - slide index\n   * @returns {Number} - slide distance\n   */\n  proto.getSlideDistance = function( x, index ) {\n    var len = this.slides.length;\n    // wrap around if at least 2 slides\n    var isWrapAround = this.options.wrapAround && len > 1;\n    var slideIndex = isWrapAround ? utils.modulo( index, len ) : index;\n    var slide = this.slides[ slideIndex ];\n    if ( !slide ) {\n      return null;\n    }\n    // add distance for wrap-around slides\n    var wrap = isWrapAround ? this.slideableWidth * Math.floor( index/len ) : 0;\n    return x - ( slide.target + wrap );\n  };\n\n  proto.dragEndBoostSelect = function() {\n    // do not boost if no previousDragX or dragMoveTime\n    if ( this.previousDragX === undefined || !this.dragMoveTime ||\n      // or if drag was held for 100 ms\n      new Date() - this.dragMoveTime > 100 ) {\n      return 0;\n    }\n\n    var distance = this.getSlideDistance( -this.dragX, this.selectedIndex );\n    var delta = this.previousDragX - this.dragX;\n    if ( distance > 0 && delta > 0 ) {\n      // boost to next if moving towards the right, and positive velocity\n      return 1;\n    } else if ( distance < 0 && delta < 0 ) {\n      // boost to previous if moving towards the left, and negative velocity\n      return -1;\n    }\n    return 0;\n  };\n\n  // ----- staticClick ----- //\n\n  proto.staticClick = function( event, pointer ) {\n    // get clickedCell, if cell was clicked\n    var clickedCell = this.getParentCell( event.target );\n    var cellElem = clickedCell && clickedCell.element;\n    var cellIndex = clickedCell && this.cells.indexOf( clickedCell );\n    this.dispatchEvent( 'staticClick', event, [ pointer, cellElem, cellIndex ] );\n  };\n\n  // ----- scroll ----- //\n\n  proto.onscroll = function() {\n    var scroll = getScrollPosition();\n    var scrollMoveX = this.pointerDownScroll.x - scroll.x;\n    var scrollMoveY = this.pointerDownScroll.y - scroll.y;\n    // cancel click/tap if scroll is too much\n    if ( Math.abs( scrollMoveX ) > 3 || Math.abs( scrollMoveY ) > 3 ) {\n      this._pointerDone();\n    }\n  };\n\n  // ----- utils ----- //\n\n  function getScrollPosition() {\n    return {\n      x: window.pageXOffset,\n      y: window.pageYOffset,\n    };\n  }\n\n  // -----  ----- //\n\n  return Flickity;\n\n  } ) );\n\n  // prev/next buttons\n  ( function( window, factory ) {\n    // universal module definition\n    if ( typeof define == 'function' && define.amd ) {\n      // AMD\n      define( 'flickity/js/prev-next-button',[\n        './flickity',\n        'unipointer/unipointer',\n        'fizzy-ui-utils/utils',\n      ], function( Flickity, Unipointer, utils ) {\n        return factory( window, Flickity, Unipointer, utils );\n      } );\n    } else if ( typeof module == 'object' && module.exports ) {\n      // CommonJS\n      module.exports = factory(\n          window,\n          require('./flickity'),\n          require('unipointer'),\n          require('fizzy-ui-utils')\n      );\n    } else {\n      // browser global\n      factory(\n          window,\n          window.Flickity,\n          window.Unipointer,\n          window.fizzyUIUtils\n      );\n    }\n\n  }( window, function factory( window, Flickity, Unipointer, utils ) {\n  'use strict';\n\n  var svgURI = 'http://www.w3.org/2000/svg';\n\n  // -------------------------- PrevNextButton -------------------------- //\n\n  function PrevNextButton( direction, parent ) {\n    this.direction = direction;\n    this.parent = parent;\n    this._create();\n  }\n\n  PrevNextButton.prototype = Object.create( Unipointer.prototype );\n\n  PrevNextButton.prototype._create = function() {\n    // properties\n    this.isEnabled = true;\n    this.isPrevious = this.direction == -1;\n    var leftDirection = this.parent.options.rightToLeft ? 1 : -1;\n    this.isLeft = this.direction == leftDirection;\n\n    var element = this.element = document.createElement('button');\n    element.className = 'flickity-button flickity-prev-next-button';\n    element.className += this.isPrevious ? ' previous' : ' next';\n    // prevent button from submitting form http://stackoverflow.com/a/10836076/182183\n    element.setAttribute( 'type', 'button' );\n    // init as disabled\n    this.disable();\n\n    element.setAttribute( 'aria-label', this.isPrevious ? 'Previous' : 'Next' );\n\n    // create arrow\n    var svg = this.createSVG();\n    element.appendChild( svg );\n    // events\n    this.parent.on( 'select', this.update.bind( this ) );\n    this.on( 'pointerDown', this.parent.childUIPointerDown.bind( this.parent ) );\n  };\n\n  PrevNextButton.prototype.activate = function() {\n    this.bindStartEvent( this.element );\n    this.element.addEventListener( 'click', this );\n    // add to DOM\n    this.parent.element.appendChild( this.element );\n  };\n\n  PrevNextButton.prototype.deactivate = function() {\n    // remove from DOM\n    this.parent.element.removeChild( this.element );\n    // click events\n    this.unbindStartEvent( this.element );\n    this.element.removeEventListener( 'click', this );\n  };\n\n  PrevNextButton.prototype.createSVG = function() {\n    var svg = document.createElementNS( svgURI, 'svg' );\n    svg.setAttribute( 'class', 'flickity-button-icon' );\n    svg.setAttribute( 'viewBox', '0 0 100 100' );\n    var path = document.createElementNS( svgURI, 'path' );\n    var pathMovements = getArrowMovements( this.parent.options.arrowShape );\n    path.setAttribute( 'd', pathMovements );\n    path.setAttribute( 'class', 'arrow' );\n    // rotate arrow\n    if ( !this.isLeft ) {\n      path.setAttribute( 'transform', 'translate(100, 100) rotate(180) ' );\n    }\n    svg.appendChild( path );\n    return svg;\n  };\n\n  // get SVG path movmement\n  function getArrowMovements( shape ) {\n    // use shape as movement if string\n    if ( typeof shape == 'string' ) {\n      return shape;\n    }\n    // create movement string\n    return 'M ' + shape.x0 + ',50' +\n      ' L ' + shape.x1 + ',' + ( shape.y1 + 50 ) +\n      ' L ' + shape.x2 + ',' + ( shape.y2 + 50 ) +\n      ' L ' + shape.x3 + ',50 ' +\n      ' L ' + shape.x2 + ',' + ( 50 - shape.y2 ) +\n      ' L ' + shape.x1 + ',' + ( 50 - shape.y1 ) +\n      ' Z';\n  }\n\n  PrevNextButton.prototype.handleEvent = utils.handleEvent;\n\n  PrevNextButton.prototype.onclick = function() {\n    if ( !this.isEnabled ) {\n      return;\n    }\n    this.parent.uiChange();\n    var method = this.isPrevious ? 'previous' : 'next';\n    this.parent[ method ]();\n  };\n\n  // -----  ----- //\n\n  PrevNextButton.prototype.enable = function() {\n    if ( this.isEnabled ) {\n      return;\n    }\n    this.element.disabled = false;\n    this.isEnabled = true;\n  };\n\n  PrevNextButton.prototype.disable = function() {\n    if ( !this.isEnabled ) {\n      return;\n    }\n    this.element.disabled = true;\n    this.isEnabled = false;\n  };\n\n  PrevNextButton.prototype.update = function() {\n    // index of first or last slide, if previous or next\n    var slides = this.parent.slides;\n    // enable is wrapAround and at least 2 slides\n    if ( this.parent.options.wrapAround && slides.length > 1 ) {\n      this.enable();\n      return;\n    }\n    var lastIndex = slides.length ? slides.length - 1 : 0;\n    var boundIndex = this.isPrevious ? 0 : lastIndex;\n    var method = this.parent.selectedIndex == boundIndex ? 'disable' : 'enable';\n    this[ method ]();\n  };\n\n  PrevNextButton.prototype.destroy = function() {\n    this.deactivate();\n    this.allOff();\n  };\n\n  // -------------------------- Flickity prototype -------------------------- //\n\n  utils.extend( Flickity.defaults, {\n    prevNextButtons: true,\n    arrowShape: {\n      x0: 10,\n      x1: 60, y1: 50,\n      x2: 70, y2: 40,\n      x3: 30,\n    },\n  } );\n\n  Flickity.createMethods.push('_createPrevNextButtons');\n  var proto = Flickity.prototype;\n\n  proto._createPrevNextButtons = function() {\n    if ( !this.options.prevNextButtons ) {\n      return;\n    }\n\n    this.prevButton = new PrevNextButton( -1, this );\n    this.nextButton = new PrevNextButton( 1, this );\n\n    this.on( 'activate', this.activatePrevNextButtons );\n  };\n\n  proto.activatePrevNextButtons = function() {\n    this.prevButton.activate();\n    this.nextButton.activate();\n    this.on( 'deactivate', this.deactivatePrevNextButtons );\n  };\n\n  proto.deactivatePrevNextButtons = function() {\n    this.prevButton.deactivate();\n    this.nextButton.deactivate();\n    this.off( 'deactivate', this.deactivatePrevNextButtons );\n  };\n\n  // --------------------------  -------------------------- //\n\n  Flickity.PrevNextButton = PrevNextButton;\n\n  return Flickity;\n\n  } ) );\n\n  // page dots\n  ( function( window, factory ) {\n    // universal module definition\n    if ( typeof define == 'function' && define.amd ) {\n      // AMD\n      define( 'flickity/js/page-dots',[\n        './flickity',\n        'unipointer/unipointer',\n        'fizzy-ui-utils/utils',\n      ], function( Flickity, Unipointer, utils ) {\n        return factory( window, Flickity, Unipointer, utils );\n      } );\n    } else if ( typeof module == 'object' && module.exports ) {\n      // CommonJS\n      module.exports = factory(\n          window,\n          require('./flickity'),\n          require('unipointer'),\n          require('fizzy-ui-utils')\n      );\n    } else {\n      // browser global\n      factory(\n          window,\n          window.Flickity,\n          window.Unipointer,\n          window.fizzyUIUtils\n      );\n    }\n\n  }( window, function factory( window, Flickity, Unipointer, utils ) {\n\n  // -------------------------- PageDots -------------------------- //\n\n\n\n  function PageDots( parent ) {\n    this.parent = parent;\n    this._create();\n  }\n\n  PageDots.prototype = Object.create( Unipointer.prototype );\n\n  PageDots.prototype._create = function() {\n    // create holder element\n    this.holder = document.createElement('ol');\n    this.holder.className = 'flickity-page-dots';\n    // create dots, array of elements\n    this.dots = [];\n    // events\n    this.handleClick = this.onClick.bind( this );\n    this.on( 'pointerDown', this.parent.childUIPointerDown.bind( this.parent ) );\n  };\n\n  PageDots.prototype.activate = function() {\n    this.setDots();\n    this.holder.addEventListener( 'click', this.handleClick );\n    this.bindStartEvent( this.holder );\n    // add to DOM\n    this.parent.element.appendChild( this.holder );\n  };\n\n  PageDots.prototype.deactivate = function() {\n    this.holder.removeEventListener( 'click', this.handleClick );\n    this.unbindStartEvent( this.holder );\n    // remove from DOM\n    this.parent.element.removeChild( this.holder );\n  };\n\n  PageDots.prototype.setDots = function() {\n    // get difference between number of slides and number of dots\n    var delta = this.parent.slides.length - this.dots.length;\n    if ( delta > 0 ) {\n      this.addDots( delta );\n    } else if ( delta < 0 ) {\n      this.removeDots( -delta );\n    }\n  };\n\n  PageDots.prototype.addDots = function( count ) {\n    var fragment = document.createDocumentFragment();\n    var newDots = [];\n    var length = this.dots.length;\n    var max = length + count;\n\n    for ( var i = length; i < max; i++ ) {\n      var dot = document.createElement('li');\n      dot.className = 'dot';\n      dot.setAttribute( 'aria-label', 'Page dot ' + ( i + 1 ) );\n      fragment.appendChild( dot );\n      newDots.push( dot );\n    }\n\n    this.holder.appendChild( fragment );\n    this.dots = this.dots.concat( newDots );\n  };\n\n  PageDots.prototype.removeDots = function( count ) {\n    // remove from this.dots collection\n    var removeDots = this.dots.splice( this.dots.length - count, count );\n    // remove from DOM\n    removeDots.forEach( function( dot ) {\n      this.holder.removeChild( dot );\n    }, this );\n  };\n\n  PageDots.prototype.updateSelected = function() {\n    // remove selected class on previous\n    if ( this.selectedDot ) {\n      this.selectedDot.className = 'dot';\n      this.selectedDot.removeAttribute('aria-current');\n    }\n    // don't proceed if no dots\n    if ( !this.dots.length ) {\n      return;\n    }\n    this.selectedDot = this.dots[ this.parent.selectedIndex ];\n    this.selectedDot.className = 'dot is-selected';\n    this.selectedDot.setAttribute( 'aria-current', 'step' );\n  };\n\n  PageDots.prototype.onTap = // old method name, backwards-compatible\n  PageDots.prototype.onClick = function( event ) {\n    var target = event.target;\n    // only care about dot clicks\n    if ( target.nodeName != 'LI' ) {\n      return;\n    }\n\n    this.parent.uiChange();\n    var index = this.dots.indexOf( target );\n    this.parent.select( index );\n  };\n\n  PageDots.prototype.destroy = function() {\n    this.deactivate();\n    this.allOff();\n  };\n\n  Flickity.PageDots = PageDots;\n\n  // -------------------------- Flickity -------------------------- //\n\n  utils.extend( Flickity.defaults, {\n    pageDots: true,\n  } );\n\n  Flickity.createMethods.push('_createPageDots');\n\n  var proto = Flickity.prototype;\n\n  proto._createPageDots = function() {\n    if ( !this.options.pageDots ) {\n      return;\n    }\n    this.pageDots = new PageDots( this );\n    // events\n    this.on( 'activate', this.activatePageDots );\n    this.on( 'select', this.updateSelectedPageDots );\n    this.on( 'cellChange', this.updatePageDots );\n    this.on( 'resize', this.updatePageDots );\n    this.on( 'deactivate', this.deactivatePageDots );\n  };\n\n  proto.activatePageDots = function() {\n    this.pageDots.activate();\n  };\n\n  proto.updateSelectedPageDots = function() {\n    this.pageDots.updateSelected();\n  };\n\n  proto.updatePageDots = function() {\n    this.pageDots.setDots();\n  };\n\n  proto.deactivatePageDots = function() {\n    this.pageDots.deactivate();\n  };\n\n  // -----  ----- //\n\n  Flickity.PageDots = PageDots;\n\n  return Flickity;\n\n  } ) );\n\n  // player & autoPlay\n  ( function( window, factory ) {\n    // universal module definition\n    if ( typeof define == 'function' && define.amd ) {\n      // AMD\n      define( 'flickity/js/player',[\n        'ev-emitter/ev-emitter',\n        'fizzy-ui-utils/utils',\n        './flickity',\n      ], function( EvEmitter, utils, Flickity ) {\n        return factory( EvEmitter, utils, Flickity );\n      } );\n    } else if ( typeof module == 'object' && module.exports ) {\n      // CommonJS\n      module.exports = factory(\n          require('ev-emitter'),\n          require('fizzy-ui-utils'),\n          require('./flickity')\n      );\n    } else {\n      // browser global\n      factory(\n          window.EvEmitter,\n          window.fizzyUIUtils,\n          window.Flickity\n      );\n    }\n\n  }( window, function factory( EvEmitter, utils, Flickity ) {\n\n\n\n  // -------------------------- Player -------------------------- //\n\n  function Player( parent ) {\n    this.parent = parent;\n    this.state = 'stopped';\n    // visibility change event handler\n    this.onVisibilityChange = this.visibilityChange.bind( this );\n    this.onVisibilityPlay = this.visibilityPlay.bind( this );\n  }\n\n  Player.prototype = Object.create( EvEmitter.prototype );\n\n  // start play\n  Player.prototype.play = function() {\n    if ( this.state == 'playing' ) {\n      return;\n    }\n    // do not play if page is hidden, start playing when page is visible\n    var isPageHidden = document.hidden;\n    if ( isPageHidden ) {\n      document.addEventListener( 'visibilitychange', this.onVisibilityPlay );\n      return;\n    }\n\n    this.state = 'playing';\n    // listen to visibility change\n    document.addEventListener( 'visibilitychange', this.onVisibilityChange );\n    // start ticking\n    this.tick();\n  };\n\n  Player.prototype.tick = function() {\n    // do not tick if not playing\n    if ( this.state != 'playing' ) {\n      return;\n    }\n\n    var time = this.parent.options.autoPlay;\n    // default to 3 seconds\n    time = typeof time == 'number' ? time : 3000;\n    var _this = this;\n    // HACK: reset ticks if stopped and started within interval\n    this.clear();\n    this.timeout = setTimeout( function() {\n      _this.parent.next( true );\n      _this.tick();\n    }, time );\n  };\n\n  Player.prototype.stop = function() {\n    this.state = 'stopped';\n    this.clear();\n    // remove visibility change event\n    document.removeEventListener( 'visibilitychange', this.onVisibilityChange );\n  };\n\n  Player.prototype.clear = function() {\n    clearTimeout( this.timeout );\n  };\n\n  Player.prototype.pause = function() {\n    if ( this.state == 'playing' ) {\n      this.state = 'paused';\n      this.clear();\n    }\n  };\n\n  Player.prototype.unpause = function() {\n    // re-start play if paused\n    if ( this.state == 'paused' ) {\n      this.play();\n    }\n  };\n\n  // pause if page visibility is hidden, unpause if visible\n  Player.prototype.visibilityChange = function() {\n    var isPageHidden = document.hidden;\n    this[ isPageHidden ? 'pause' : 'unpause' ]();\n  };\n\n  Player.prototype.visibilityPlay = function() {\n    this.play();\n    document.removeEventListener( 'visibilitychange', this.onVisibilityPlay );\n  };\n\n  // -------------------------- Flickity -------------------------- //\n\n  utils.extend( Flickity.defaults, {\n    pauseAutoPlayOnHover: true,\n  } );\n\n  Flickity.createMethods.push('_createPlayer');\n  var proto = Flickity.prototype;\n\n  proto._createPlayer = function() {\n    this.player = new Player( this );\n\n    this.on( 'activate', this.activatePlayer );\n    this.on( 'uiChange', this.stopPlayer );\n    this.on( 'pointerDown', this.stopPlayer );\n    this.on( 'deactivate', this.deactivatePlayer );\n  };\n\n  proto.activatePlayer = function() {\n    if ( !this.options.autoPlay ) {\n      return;\n    }\n    this.player.play();\n    this.element.addEventListener( 'mouseenter', this );\n  };\n\n  // Player API, don't hate the ... thanks I know where the door is\n\n  proto.playPlayer = function() {\n    this.player.play();\n  };\n\n  proto.stopPlayer = function() {\n    this.player.stop();\n  };\n\n  proto.pausePlayer = function() {\n    this.player.pause();\n  };\n\n  proto.unpausePlayer = function() {\n    this.player.unpause();\n  };\n\n  proto.deactivatePlayer = function() {\n    this.player.stop();\n    this.element.removeEventListener( 'mouseenter', this );\n  };\n\n  // ----- mouseenter/leave ----- //\n\n  // pause auto-play on hover\n  proto.onmouseenter = function() {\n    if ( !this.options.pauseAutoPlayOnHover ) {\n      return;\n    }\n    this.player.pause();\n    this.element.addEventListener( 'mouseleave', this );\n  };\n\n  // resume auto-play on hover off\n  proto.onmouseleave = function() {\n    this.player.unpause();\n    this.element.removeEventListener( 'mouseleave', this );\n  };\n\n  // -----  ----- //\n\n  Flickity.Player = Player;\n\n  return Flickity;\n\n  } ) );\n\n  // add, remove cell\n  ( function( window, factory ) {\n    // universal module definition\n    if ( typeof define == 'function' && define.amd ) {\n      // AMD\n      define( 'flickity/js/add-remove-cell',[\n        './flickity',\n        'fizzy-ui-utils/utils',\n      ], function( Flickity, utils ) {\n        return factory( window, Flickity, utils );\n      } );\n    } else if ( typeof module == 'object' && module.exports ) {\n      // CommonJS\n      module.exports = factory(\n          window,\n          require('./flickity'),\n          require('fizzy-ui-utils')\n      );\n    } else {\n      // browser global\n      factory(\n          window,\n          window.Flickity,\n          window.fizzyUIUtils\n      );\n    }\n\n  }( window, function factory( window, Flickity, utils ) {\n\n\n\n  // append cells to a document fragment\n  function getCellsFragment( cells ) {\n    var fragment = document.createDocumentFragment();\n    cells.forEach( function( cell ) {\n      fragment.appendChild( cell.element );\n    } );\n    return fragment;\n  }\n\n  // -------------------------- add/remove cell prototype -------------------------- //\n\n  var proto = Flickity.prototype;\n\n  /**\n   * Insert, prepend, or append cells\n   * @param {[Element, Array, NodeList]} elems - Elements to insert\n   * @param {Integer} index - Zero-based number to insert\n   */\n  proto.insert = function( elems, index ) {\n    var cells = this._makeCells( elems );\n    if ( !cells || !cells.length ) {\n      return;\n    }\n    var len = this.cells.length;\n    // default to append\n    index = index === undefined ? len : index;\n    // add cells with document fragment\n    var fragment = getCellsFragment( cells );\n    // append to slider\n    var isAppend = index == len;\n    if ( isAppend ) {\n      this.slider.appendChild( fragment );\n    } else {\n      var insertCellElement = this.cells[ index ].element;\n      this.slider.insertBefore( fragment, insertCellElement );\n    }\n    // add to this.cells\n    if ( index === 0 ) {\n      // prepend, add to start\n      this.cells = cells.concat( this.cells );\n    } else if ( isAppend ) {\n      // append, add to end\n      this.cells = this.cells.concat( cells );\n    } else {\n      // insert in this.cells\n      var endCells = this.cells.splice( index, len - index );\n      this.cells = this.cells.concat( cells ).concat( endCells );\n    }\n\n    this._sizeCells( cells );\n    this.cellChange( index, true );\n  };\n\n  proto.append = function( elems ) {\n    this.insert( elems, this.cells.length );\n  };\n\n  proto.prepend = function( elems ) {\n    this.insert( elems, 0 );\n  };\n\n  /**\n   * Remove cells\n   * @param {[Element, Array, NodeList]} elems - ELements to remove\n   */\n  proto.remove = function( elems ) {\n    var cells = this.getCells( elems );\n    if ( !cells || !cells.length ) {\n      return;\n    }\n\n    var minCellIndex = this.cells.length - 1;\n    // remove cells from collection & DOM\n    cells.forEach( function( cell ) {\n      cell.remove();\n      var index = this.cells.indexOf( cell );\n      minCellIndex = Math.min( index, minCellIndex );\n      utils.removeFrom( this.cells, cell );\n    }, this );\n\n    this.cellChange( minCellIndex, true );\n  };\n\n  /**\n   * logic to be run after a cell's size changes\n   * @param {Element} elem - cell's element\n   */\n  proto.cellSizeChange = function( elem ) {\n    var cell = this.getCell( elem );\n    if ( !cell ) {\n      return;\n    }\n    cell.getSize();\n\n    var index = this.cells.indexOf( cell );\n    this.cellChange( index );\n  };\n\n  /**\n   * logic any time a cell is changed: added, removed, or size changed\n   * @param {Integer} changedCellIndex - index of the changed cell, optional\n   * @param {Boolean} isPositioningSlider - Positions slider after selection\n   */\n  proto.cellChange = function( changedCellIndex, isPositioningSlider ) {\n    var prevSelectedElem = this.selectedElement;\n    this._positionCells( changedCellIndex );\n    this._getWrapShiftCells();\n    this.setGallerySize();\n    // update selectedIndex\n    // try to maintain position & select previous selected element\n    var cell = this.getCell( prevSelectedElem );\n    if ( cell ) {\n      this.selectedIndex = this.getCellSlideIndex( cell );\n    }\n    this.selectedIndex = Math.min( this.slides.length - 1, this.selectedIndex );\n\n    this.emitEvent( 'cellChange', [ changedCellIndex ] );\n    // position slider\n    this.select( this.selectedIndex );\n    // do not position slider after lazy load\n    if ( isPositioningSlider ) {\n      this.positionSliderAtSelected();\n    }\n  };\n\n  // -----  ----- //\n\n  return Flickity;\n\n  } ) );\n\n  // lazyload\n  ( function( window, factory ) {\n    // universal module definition\n    if ( typeof define == 'function' && define.amd ) {\n      // AMD\n      define( 'flickity/js/lazyload',[\n        './flickity',\n        'fizzy-ui-utils/utils',\n      ], function( Flickity, utils ) {\n        return factory( window, Flickity, utils );\n      } );\n    } else if ( typeof module == 'object' && module.exports ) {\n      // CommonJS\n      module.exports = factory(\n          window,\n          require('./flickity'),\n          require('fizzy-ui-utils')\n      );\n    } else {\n      // browser global\n      factory(\n          window,\n          window.Flickity,\n          window.fizzyUIUtils\n      );\n    }\n\n  }( window, function factory( window, Flickity, utils ) {\n  'use strict';\n\n  Flickity.createMethods.push('_createLazyload');\n  var proto = Flickity.prototype;\n\n  proto._createLazyload = function() {\n    this.on( 'select', this.lazyLoad );\n  };\n\n  proto.lazyLoad = function() {\n    var lazyLoad = this.options.lazyLoad;\n    if ( !lazyLoad ) {\n      return;\n    }\n    // get adjacent cells, use lazyLoad option for adjacent count\n    var adjCount = typeof lazyLoad == 'number' ? lazyLoad : 0;\n    var cellElems = this.getAdjacentCellElements( adjCount );\n    // get lazy images in those cells\n    var lazyImages = [];\n    cellElems.forEach( function( cellElem ) {\n      var lazyCellImages = getCellLazyImages( cellElem );\n      lazyImages = lazyImages.concat( lazyCellImages );\n    } );\n    // load lazy images\n    lazyImages.forEach( function( img ) {\n      new LazyLoader( img, this );\n    }, this );\n  };\n\n  function getCellLazyImages( cellElem ) {\n    // check if cell element is lazy image\n    if ( cellElem.nodeName == 'IMG' ) {\n      var lazyloadAttr = cellElem.getAttribute('data-flickity-lazyload');\n      var srcAttr = cellElem.getAttribute('data-flickity-lazyload-src');\n      var srcsetAttr = cellElem.getAttribute('data-flickity-lazyload-srcset');\n      if ( lazyloadAttr || srcAttr || srcsetAttr ) {\n        return [ cellElem ];\n      }\n    }\n    // select lazy images in cell\n    var lazySelector = 'img[data-flickity-lazyload], ' +\n      'img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]';\n    var imgs = cellElem.querySelectorAll( lazySelector );\n    return utils.makeArray( imgs );\n  }\n\n  // -------------------------- LazyLoader -------------------------- //\n\n  /**\n   * class to handle loading images\n   * @param {Image} img - Image element\n   * @param {Flickity} flickity - Flickity instance\n   */\n  function LazyLoader( img, flickity ) {\n    this.img = img;\n    this.flickity = flickity;\n    this.load();\n  }\n\n  LazyLoader.prototype.handleEvent = utils.handleEvent;\n\n  LazyLoader.prototype.load = function() {\n    this.img.addEventListener( 'load', this );\n    this.img.addEventListener( 'error', this );\n    // get src & srcset\n    var src = this.img.getAttribute('data-flickity-lazyload') ||\n      this.img.getAttribute('data-flickity-lazyload-src');\n    var srcset = this.img.getAttribute('data-flickity-lazyload-srcset');\n    // set src & serset\n    this.img.src = src;\n    if ( srcset ) {\n      this.img.setAttribute( 'srcset', srcset );\n    }\n    // remove attr\n    this.img.removeAttribute('data-flickity-lazyload');\n    this.img.removeAttribute('data-flickity-lazyload-src');\n    this.img.removeAttribute('data-flickity-lazyload-srcset');\n  };\n\n  LazyLoader.prototype.onload = function( event ) {\n    this.complete( event, 'flickity-lazyloaded' );\n  };\n\n  LazyLoader.prototype.onerror = function( event ) {\n    this.complete( event, 'flickity-lazyerror' );\n  };\n\n  LazyLoader.prototype.complete = function( event, className ) {\n    // unbind events\n    this.img.removeEventListener( 'load', this );\n    this.img.removeEventListener( 'error', this );\n\n    var cell = this.flickity.getParentCell( this.img );\n    var cellElem = cell && cell.element;\n    this.flickity.cellSizeChange( cellElem );\n\n    this.img.classList.add( className );\n    this.flickity.dispatchEvent( 'lazyLoad', event, cellElem );\n  };\n\n  // -----  ----- //\n\n  Flickity.LazyLoader = LazyLoader;\n\n  return Flickity;\n\n  } ) );\n\n  /*!\n   * Flickity v2.3.0\n   * Touch, responsive, flickable carousels\n   *\n   * Licensed GPLv3 for open source use\n   * or Flickity Commercial License for commercial use\n   *\n   * https://flickity.metafizzy.co\n   * Copyright 2015-2021 Metafizzy\n   */\n\n  ( function( window, factory ) {\n    // universal module definition\n    if ( typeof define == 'function' && define.amd ) {\n      // AMD\n      define( 'flickity/js/index',[\n        './flickity',\n        './drag',\n        './prev-next-button',\n        './page-dots',\n        './player',\n        './add-remove-cell',\n        './lazyload',\n      ], factory );\n    } else if ( typeof module == 'object' && module.exports ) {\n      // CommonJS\n      module.exports = factory(\n          require('./flickity'),\n          require('./drag'),\n          require('./prev-next-button'),\n          require('./page-dots'),\n          require('./player'),\n          require('./add-remove-cell'),\n          require('./lazyload')\n      );\n    }\n\n  } )( window, function factory( Flickity ) {\n    return Flickity;\n  } );\n\n  /*!\n   * Flickity asNavFor v2.0.2\n   * enable asNavFor for Flickity\n   */\n\n  /*jshint browser: true, undef: true, unused: true, strict: true*/\n\n  ( function( window, factory ) {\n    // universal module definition\n    /*jshint strict: false */ /*globals define, module, require */\n    if ( typeof define == 'function' && define.amd ) {\n      // AMD\n      define( 'flickity-as-nav-for/as-nav-for',[\n        'flickity/js/index',\n        'fizzy-ui-utils/utils'\n      ], factory );\n    } else if ( typeof module == 'object' && module.exports ) {\n      // CommonJS\n      module.exports = factory(\n        require('flickity'),\n        require('fizzy-ui-utils')\n      );\n    } else {\n      // browser global\n      window.Flickity = factory(\n        window.Flickity,\n        window.fizzyUIUtils\n      );\n    }\n\n  }( window, function factory( Flickity, utils ) {\n\n\n\n  // -------------------------- asNavFor prototype -------------------------- //\n\n  // Flickity.defaults.asNavFor = null;\n\n  Flickity.createMethods.push('_createAsNavFor');\n\n  var proto = Flickity.prototype;\n\n  proto._createAsNavFor = function() {\n    this.on( 'activate', this.activateAsNavFor );\n    this.on( 'deactivate', this.deactivateAsNavFor );\n    this.on( 'destroy', this.destroyAsNavFor );\n\n    var asNavForOption = this.options.asNavFor;\n    if ( !asNavForOption ) {\n      return;\n    }\n    // HACK do async, give time for other flickity to be initalized\n    var _this = this;\n    setTimeout( function initNavCompanion() {\n      _this.setNavCompanion( asNavForOption );\n    });\n  };\n\n  proto.setNavCompanion = function( elem ) {\n    elem = utils.getQueryElement( elem );\n    var companion = Flickity.data( elem );\n    // stop if no companion or companion is self\n    if ( !companion || companion == this ) {\n      return;\n    }\n\n    this.navCompanion = companion;\n    // companion select\n    var _this = this;\n    this.onNavCompanionSelect = function() {\n      _this.navCompanionSelect();\n    };\n    companion.on( 'select', this.onNavCompanionSelect );\n    // click\n    this.on( 'staticClick', this.onNavStaticClick );\n\n    this.navCompanionSelect( true );\n  };\n\n  proto.navCompanionSelect = function( isInstant ) {\n    // wait for companion & selectedCells first. #8\n    var companionCells = this.navCompanion && this.navCompanion.selectedCells;\n    if ( !companionCells ) {\n      return;\n    }\n    // select slide that matches first cell of slide\n    var selectedCell = companionCells[0];\n    var firstIndex = this.navCompanion.cells.indexOf( selectedCell );\n    var lastIndex = firstIndex + companionCells.length - 1;\n    var selectIndex = Math.floor( lerp( firstIndex, lastIndex,\n      this.navCompanion.cellAlign ) );\n    this.selectCell( selectIndex, false, isInstant );\n    // set nav selected class\n    this.removeNavSelectedElements();\n    // stop if companion has more cells than this one\n    if ( selectIndex >= this.cells.length ) {\n      return;\n    }\n\n    var selectedCells = this.cells.slice( firstIndex, lastIndex + 1 );\n    this.navSelectedElements = selectedCells.map( function( cell ) {\n      return cell.element;\n    });\n    this.changeNavSelectedClass('add');\n  };\n\n  function lerp( a, b, t ) {\n    return ( b - a ) * t + a;\n  }\n\n  proto.changeNavSelectedClass = function( method ) {\n    this.navSelectedElements.forEach( function( navElem ) {\n      navElem.classList[ method ]('is-nav-selected');\n    });\n  };\n\n  proto.activateAsNavFor = function() {\n    this.navCompanionSelect( true );\n  };\n\n  proto.removeNavSelectedElements = function() {\n    if ( !this.navSelectedElements ) {\n      return;\n    }\n    this.changeNavSelectedClass('remove');\n    delete this.navSelectedElements;\n  };\n\n  proto.onNavStaticClick = function( event, pointer, cellElement, cellIndex ) {\n    if ( typeof cellIndex == 'number' ) {\n      this.navCompanion.selectCell( cellIndex );\n    }\n  };\n\n  proto.deactivateAsNavFor = function() {\n    this.removeNavSelectedElements();\n  };\n\n  proto.destroyAsNavFor = function() {\n    if ( !this.navCompanion ) {\n      return;\n    }\n    this.navCompanion.off( 'select', this.onNavCompanionSelect );\n    this.off( 'staticClick', this.onNavStaticClick );\n    delete this.navCompanion;\n  };\n\n  // -----  ----- //\n\n  return Flickity;\n\n  }));\n\n  /*!\n   * imagesLoaded v4.1.4\n   * JavaScript is all like \"You images are done yet or what?\"\n   * MIT License\n   */\n\n  ( function( window, factory ) { 'use strict';\n    // universal module definition\n\n    /*global define: false, module: false, require: false */\n\n    if ( typeof define == 'function' && define.amd ) {\n      // AMD\n      define( 'imagesloaded/imagesloaded',[\n        'ev-emitter/ev-emitter'\n      ], function( EvEmitter ) {\n        return factory( window, EvEmitter );\n      });\n    } else if ( typeof module == 'object' && module.exports ) {\n      // CommonJS\n      module.exports = factory(\n        window,\n        require('ev-emitter')\n      );\n    } else {\n      // browser global\n      window.imagesLoaded = factory(\n        window,\n        window.EvEmitter\n      );\n    }\n\n  })( typeof window !== 'undefined' ? window : this,\n\n  // --------------------------  factory -------------------------- //\n\n  function factory( window, EvEmitter ) {\n\n\n\n  var $ = window.jQuery;\n  var console = window.console;\n\n  // -------------------------- helpers -------------------------- //\n\n  // extend objects\n  function extend( a, b ) {\n    for ( var prop in b ) {\n      a[ prop ] = b[ prop ];\n    }\n    return a;\n  }\n\n  var arraySlice = Array.prototype.slice;\n\n  // turn element or nodeList into an array\n  function makeArray( obj ) {\n    if ( Array.isArray( obj ) ) {\n      // use object if already an array\n      return obj;\n    }\n\n    var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n    if ( isArrayLike ) {\n      // convert nodeList to array\n      return arraySlice.call( obj );\n    }\n\n    // array of single index\n    return [ obj ];\n  }\n\n  // -------------------------- imagesLoaded -------------------------- //\n\n  /**\n   * @param {Array, Element, NodeList, String} elem\n   * @param {Object or Function} options - if function, use as callback\n   * @param {Function} onAlways - callback function\n   */\n  function ImagesLoaded( elem, options, onAlways ) {\n    // coerce ImagesLoaded() without new, to be new ImagesLoaded()\n    if ( !( this instanceof ImagesLoaded ) ) {\n      return new ImagesLoaded( elem, options, onAlways );\n    }\n    // use elem as selector string\n    var queryElem = elem;\n    if ( typeof elem == 'string' ) {\n      queryElem = document.querySelectorAll( elem );\n    }\n    // bail if bad element\n    if ( !queryElem ) {\n      console.error( 'Bad element for imagesLoaded ' + ( queryElem || elem ) );\n      return;\n    }\n\n    this.elements = makeArray( queryElem );\n    this.options = extend( {}, this.options );\n    // shift arguments if no options set\n    if ( typeof options == 'function' ) {\n      onAlways = options;\n    } else {\n      extend( this.options, options );\n    }\n\n    if ( onAlways ) {\n      this.on( 'always', onAlways );\n    }\n\n    this.getImages();\n\n    if ( $ ) {\n      // add jQuery Deferred object\n      this.jqDeferred = new $.Deferred();\n    }\n\n    // HACK check async to allow time to bind listeners\n    setTimeout( this.check.bind( this ) );\n  }\n\n  ImagesLoaded.prototype = Object.create( EvEmitter.prototype );\n\n  ImagesLoaded.prototype.options = {};\n\n  ImagesLoaded.prototype.getImages = function() {\n    this.images = [];\n\n    // filter & find items if we have an item selector\n    this.elements.forEach( this.addElementImages, this );\n  };\n\n  /**\n   * @param {Node} element\n   */\n  ImagesLoaded.prototype.addElementImages = function( elem ) {\n    // filter siblings\n    if ( elem.nodeName == 'IMG' ) {\n      this.addImage( elem );\n    }\n    // get background image on element\n    if ( this.options.background === true ) {\n      this.addElementBackgroundImages( elem );\n    }\n\n    // find children\n    // no non-element nodes, #143\n    var nodeType = elem.nodeType;\n    if ( !nodeType || !elementNodeTypes[ nodeType ] ) {\n      return;\n    }\n    var childImgs = elem.querySelectorAll('img');\n    // concat childElems to filterFound array\n    for ( var i=0; i < childImgs.length; i++ ) {\n      var img = childImgs[i];\n      this.addImage( img );\n    }\n\n    // get child background images\n    if ( typeof this.options.background == 'string' ) {\n      var children = elem.querySelectorAll( this.options.background );\n      for ( i=0; i < children.length; i++ ) {\n        var child = children[i];\n        this.addElementBackgroundImages( child );\n      }\n    }\n  };\n\n  var elementNodeTypes = {\n    1: true,\n    9: true,\n    11: true\n  };\n\n  ImagesLoaded.prototype.addElementBackgroundImages = function( elem ) {\n    var style = getComputedStyle( elem );\n    if ( !style ) {\n      // Firefox returns null if in a hidden iframe https://bugzil.la/548397\n      return;\n    }\n    // get url inside url(\"...\")\n    var reURL = /url\\((['\"])?(.*?)\\1\\)/gi;\n    var matches = reURL.exec( style.backgroundImage );\n    while ( matches !== null ) {\n      var url = matches && matches[2];\n      if ( url ) {\n        this.addBackground( url, elem );\n      }\n      matches = reURL.exec( style.backgroundImage );\n    }\n  };\n\n  /**\n   * @param {Image} img\n   */\n  ImagesLoaded.prototype.addImage = function( img ) {\n    var loadingImage = new LoadingImage( img );\n    this.images.push( loadingImage );\n  };\n\n  ImagesLoaded.prototype.addBackground = function( url, elem ) {\n    var background = new Background( url, elem );\n    this.images.push( background );\n  };\n\n  ImagesLoaded.prototype.check = function() {\n    var _this = this;\n    this.progressedCount = 0;\n    this.hasAnyBroken = false;\n    // complete if no images\n    if ( !this.images.length ) {\n      this.complete();\n      return;\n    }\n\n    function onProgress( image, elem, message ) {\n      // HACK - Chrome triggers event before object properties have changed. #83\n      setTimeout( function() {\n        _this.progress( image, elem, message );\n      });\n    }\n\n    this.images.forEach( function( loadingImage ) {\n      loadingImage.once( 'progress', onProgress );\n      loadingImage.check();\n    });\n  };\n\n  ImagesLoaded.prototype.progress = function( image, elem, message ) {\n    this.progressedCount++;\n    this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded;\n    // progress event\n    this.emitEvent( 'progress', [ this, image, elem ] );\n    if ( this.jqDeferred && this.jqDeferred.notify ) {\n      this.jqDeferred.notify( this, image );\n    }\n    // check if completed\n    if ( this.progressedCount == this.images.length ) {\n      this.complete();\n    }\n\n    if ( this.options.debug && console ) {\n      console.log( 'progress: ' + message, image, elem );\n    }\n  };\n\n  ImagesLoaded.prototype.complete = function() {\n    var eventName = this.hasAnyBroken ? 'fail' : 'done';\n    this.isComplete = true;\n    this.emitEvent( eventName, [ this ] );\n    this.emitEvent( 'always', [ this ] );\n    if ( this.jqDeferred ) {\n      var jqMethod = this.hasAnyBroken ? 'reject' : 'resolve';\n      this.jqDeferred[ jqMethod ]( this );\n    }\n  };\n\n  // --------------------------  -------------------------- //\n\n  function LoadingImage( img ) {\n    this.img = img;\n  }\n\n  LoadingImage.prototype = Object.create( EvEmitter.prototype );\n\n  LoadingImage.prototype.check = function() {\n    // If complete is true and browser supports natural sizes,\n    // try to check for image status manually.\n    var isComplete = this.getIsImageComplete();\n    if ( isComplete ) {\n      // report based on naturalWidth\n      this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n      return;\n    }\n\n    // If none of the checks above matched, simulate loading on detached element.\n    this.proxyImage = new Image();\n    this.proxyImage.addEventListener( 'load', this );\n    this.proxyImage.addEventListener( 'error', this );\n    // bind to image as well for Firefox. #191\n    this.img.addEventListener( 'load', this );\n    this.img.addEventListener( 'error', this );\n    this.proxyImage.src = this.img.src;\n  };\n\n  LoadingImage.prototype.getIsImageComplete = function() {\n    // check for non-zero, non-undefined naturalWidth\n    // fixes Safari+InfiniteScroll+Masonry bug infinite-scroll#671\n    return this.img.complete && this.img.naturalWidth;\n  };\n\n  LoadingImage.prototype.confirm = function( isLoaded, message ) {\n    this.isLoaded = isLoaded;\n    this.emitEvent( 'progress', [ this, this.img, message ] );\n  };\n\n  // ----- events ----- //\n\n  // trigger specified handler for event type\n  LoadingImage.prototype.handleEvent = function( event ) {\n    var method = 'on' + event.type;\n    if ( this[ method ] ) {\n      this[ method ]( event );\n    }\n  };\n\n  LoadingImage.prototype.onload = function() {\n    this.confirm( true, 'onload' );\n    this.unbindEvents();\n  };\n\n  LoadingImage.prototype.onerror = function() {\n    this.confirm( false, 'onerror' );\n    this.unbindEvents();\n  };\n\n  LoadingImage.prototype.unbindEvents = function() {\n    this.proxyImage.removeEventListener( 'load', this );\n    this.proxyImage.removeEventListener( 'error', this );\n    this.img.removeEventListener( 'load', this );\n    this.img.removeEventListener( 'error', this );\n  };\n\n  // -------------------------- Background -------------------------- //\n\n  function Background( url, element ) {\n    this.url = url;\n    this.element = element;\n    this.img = new Image();\n  }\n\n  // inherit LoadingImage prototype\n  Background.prototype = Object.create( LoadingImage.prototype );\n\n  Background.prototype.check = function() {\n    this.img.addEventListener( 'load', this );\n    this.img.addEventListener( 'error', this );\n    this.img.src = this.url;\n    // check if image is already complete\n    var isComplete = this.getIsImageComplete();\n    if ( isComplete ) {\n      this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n      this.unbindEvents();\n    }\n  };\n\n  Background.prototype.unbindEvents = function() {\n    this.img.removeEventListener( 'load', this );\n    this.img.removeEventListener( 'error', this );\n  };\n\n  Background.prototype.confirm = function( isLoaded, message ) {\n    this.isLoaded = isLoaded;\n    this.emitEvent( 'progress', [ this, this.element, message ] );\n  };\n\n  // -------------------------- jQuery -------------------------- //\n\n  ImagesLoaded.makeJQueryPlugin = function( jQuery ) {\n    jQuery = jQuery || window.jQuery;\n    if ( !jQuery ) {\n      return;\n    }\n    // set local variable\n    $ = jQuery;\n    // $().imagesLoaded()\n    $.fn.imagesLoaded = function( options, callback ) {\n      var instance = new ImagesLoaded( this, options, callback );\n      return instance.jqDeferred.promise( $(this) );\n    };\n  };\n  // try making plugin\n  ImagesLoaded.makeJQueryPlugin();\n\n  // --------------------------  -------------------------- //\n\n  return ImagesLoaded;\n\n  });\n\n  /*!\n   * Flickity imagesLoaded v2.0.0\n   * enables imagesLoaded option for Flickity\n   */\n\n  /*jshint browser: true, strict: true, undef: true, unused: true */\n\n  ( function( window, factory ) {\n    // universal module definition\n    /*jshint strict: false */ /*globals define, module, require */\n    if ( typeof define == 'function' && define.amd ) {\n      // AMD\n      define( [\n        'flickity/js/index',\n        'imagesloaded/imagesloaded'\n      ], function( Flickity, imagesLoaded ) {\n        return factory( window, Flickity, imagesLoaded );\n      });\n    } else if ( typeof module == 'object' && module.exports ) {\n      // CommonJS\n      module.exports = factory(\n        window,\n        require('flickity'),\n        require('imagesloaded')\n      );\n    } else {\n      // browser global\n      window.Flickity = factory(\n        window,\n        window.Flickity,\n        window.imagesLoaded\n      );\n    }\n\n  }( window, function factory( window, Flickity, imagesLoaded ) {\n  'use strict';\n\n  Flickity.createMethods.push('_createImagesLoaded');\n\n  var proto = Flickity.prototype;\n\n  proto._createImagesLoaded = function() {\n    this.on( 'activate', this.imagesLoaded );\n  };\n\n  proto.imagesLoaded = function() {\n    if ( !this.options.imagesLoaded ) {\n      return;\n    }\n    var _this = this;\n    function onImagesLoadedProgress( instance, image ) {\n      var cell = _this.getParentCell( image.img );\n      _this.cellSizeChange( cell && cell.element );\n      if ( !_this.options.freeScroll ) {\n        _this.positionSliderAtSelected();\n      }\n    }\n    imagesLoaded( this.slider ).on( 'progress', onImagesLoadedProgress );\n  };\n\n  return Flickity;\n\n  }));\n","//internal imports\nimport { __ } from '@wordpress/i18n';\nimport {\n\tuseBlockProps,\n\tBlockControls,\n\tMediaUpload,\n\tInspectorControls,\n\tMediaPlaceholder,\n} from '@wordpress/block-editor';\nimport {\n\tSpinner,\n\tPanelBody,\n\tToolbarButton,\n\tToggleControl,\n\tButton,\n} from '@wordpress/components';\nimport { isBlobURL } from '@wordpress/blob';\nimport './editor.scss';\n\n//external imports\nimport Flickity from 'react-flickity-component';\n\nexport default function Edit( {\n\tattributes,\n\tsetAttributes,\n\tnoticeOperations,\n\tnoticeUI,\n} ) {\n\tconst { gallery, id, displayImageList } = attributes;\n\tconst ids =\n\t\tgallery && gallery.length > 0 && gallery.map( ( obj ) => obj.id );\n\n\tconst onSelectImage = ( media ) => {\n\t\tconst images = [];\n\t\tmedia.forEach( ( obj ) => {\n\t\t\timages.push( {\n\t\t\t\turl: obj.url,\n\t\t\t\tid: obj.id,\n\t\t\t\talt: obj.alt,\n\t\t\t} );\n\t\t} );\n\n\t\tsetAttributes( {\n\t\t\tgallery: images,\n\t\t} );\n\t};\n\n\tconst removeImage = () => {\n\t\tsetAttributes( {\n\t\t\tgallery: undefined,\n\t\t} );\n\t};\n\n\tconst onUploadError = ( message ) => {\n\t\tnoticeOperations.removeAllNotices();\n\t\tnoticeOperations.createErrorNotice( message );\n\t};\n\n\tconst flickityOptions = {\n\t\tcellAlign: 'center',\n\t\tdraggable: true,\n\t\tcontain: true,\n\t\twrapAround: true,\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{ gallery && (\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Image Settings', 'image-list' ) }>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel=\"Change images view\"\n\t\t\t\t\t\t\tclassName=\"toggleImage\"\n\t\t\t\t\t\t\thelp={\n\t\t\t\t\t\t\t\tdisplayImageList\n\t\t\t\t\t\t\t\t\t? 'Show all image list.'\n\t\t\t\t\t\t\t\t\t: 'Show as slider.'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonChange={ ( boolean ) => {\n\t\t\t\t\t\t\t\tsetAttributes( { displayImageList: boolean } );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tchecked={ displayImageList }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t) }\n\t\t\t{ gallery && gallery.length > 0 && (\n\t\t\t\t<BlockControls group=\"inline\">\n\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\tonSelect={ onSelectImage }\n\t\t\t\t\t\tallowedTypes={ [ 'image' ] }\n\t\t\t\t\t\tvalue={ ids }\n\t\t\t\t\t\tgallery\n\t\t\t\t\t\tmultiple\n\t\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t\t<Button onClick={ open }>\n\t\t\t\t\t\t\t\t{ __( 'Edit Gallery', 'image-list' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToolbarButton onClick={ removeImage }>\n\t\t\t\t\t\t{ __( 'Remove Gallery', 'image-list' ) }\n\t\t\t\t\t</ToolbarButton>\n\t\t\t\t</BlockControls>\n\t\t\t) }\n\t\t\t<div { ...useBlockProps() }>\n\t\t\t\t{ displayImageList && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{ gallery &&\n\t\t\t\t\t\t\tgallery.length > 0 &&\n\t\t\t\t\t\t\tgallery.map( ( obj, index ) => (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\tsrc={ obj.url }\n\t\t\t\t\t\t\t\t\t\talt={ obj.alt }\n\t\t\t\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\tid ? `wp-image-${ id } list` : null\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{ isBlobURL( obj.url ) && <Spinner /> }\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t</>\n\t\t\t\t) }\n\n\t\t\t\t{ ( ! gallery ||\n\t\t\t\t\t( gallery &&\n\t\t\t\t\t\t( gallery.length === undefined ||\n\t\t\t\t\t\t\tgallery.length === 0 ) ) ) && (\n\t\t\t\t\t<MediaPlaceholder\n\t\t\t\t\t\ticon=\"format-gallery\"\n\t\t\t\t\t\tlabels={ {\n\t\t\t\t\t\t\ttitle: 'Image Gallery',\n\t\t\t\t\t\t\tinstructions: 'Add image gallery to your page.',\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonSelect={ onSelectImage }\n\t\t\t\t\t\tonError={ onUploadError }\n\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\tallowedTypes={ [ 'image' ] }\n\t\t\t\t\t\tnotices={ noticeUI }\n\t\t\t\t\t\tgallery\n\t\t\t\t\t\tmultiple\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ ! displayImageList && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{ gallery && gallery.length > 0 && (\n\t\t\t\t\t\t\t<Flickity\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t'wp-block-block-test-image-list__slider'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\toptions={ flickityOptions }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ gallery.map( ( obj, index ) => (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\tsrc={ obj.url }\n\t\t\t\t\t\t\t\t\t\t\talt={ obj.alt }\n\t\t\t\t\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\tid ? `wp-image-${ id }` : null\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{ isBlobURL( obj.url ) && <Spinner /> }\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t</Flickity>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</>\n\t);\n}\n","import { registerBlockType } from '@wordpress/blocks';\nimport './view';\nimport './style.scss';\nimport Edit from './edit';\nimport save from './save';\n\nregisterBlockType( 'block-test/image-list', {\n\tedit: Edit,\n\tsave,\n} );\n","import { useBlockProps } from '@wordpress/block-editor';\n\nexport default function Save( { attributes } ) {\n\tconst { gallery, id } = attributes;\n\n\treturn (\n\t\t<div { ...useBlockProps.save() }>\n\t\t\t{ gallery && gallery.length > 0 && (\n\t\t\t\t<div className=\"wp-block-block-test-image-list__slider\">\n\t\t\t\t\t{ gallery.map( ( obj, index ) => (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tdata-id={ obj.id }\n\t\t\t\t\t\t\tsrc={ obj.url }\n\t\t\t\t\t\t\talt={ obj.alt }\n\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\tclassName={ id ? `wp-image-${ id }` : null }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) ) }\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n","import '../assets/flickity/flickity.pkgd.js';\n\n( function ( $ ) {\n\t$( '.wp-block-block-test-image-list__slider' ).flickity( {\n\t\tcellAlign: 'left',\n\t\tcontain: true,\n\t\tautoPlay: true,\n\t\tdraggable: true,\n\t\twrapAround: true,\n\t\tpauseAutoPlayOnHover: false,\n\t} );\n} )( jQuery );\n","/**\n * matchesSelector v2.0.2\n * matchesSelector( element, '.selector' )\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  /*global define: false, module: false */\n  'use strict';\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.matchesSelector = factory();\n  }\n\n}( window, function factory() {\n  'use strict';\n\n  var matchesMethod = ( function() {\n    var ElemProto = window.Element.prototype;\n    // check for the standard method name first\n    if ( ElemProto.matches ) {\n      return 'matches';\n    }\n    // check un-prefixed\n    if ( ElemProto.matchesSelector ) {\n      return 'matchesSelector';\n    }\n    // check vendor prefixes\n    var prefixes = [ 'webkit', 'moz', 'ms', 'o' ];\n\n    for ( var i=0; i < prefixes.length; i++ ) {\n      var prefix = prefixes[i];\n      var method = prefix + 'MatchesSelector';\n      if ( ElemProto[ method ] ) {\n        return method;\n      }\n    }\n  })();\n\n  return function matchesSelector( elem, selector ) {\n    return elem[ matchesMethod ]( selector );\n  };\n\n}));\n","/**\n * EvEmitter v1.1.0\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, window */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( typeof window != 'undefined' ? window : this, function() {\n\n\"use strict\";\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners object\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  // copy over to avoid interference if .off() in listener\n  listeners = listeners.slice(0);\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  for ( var i=0; i < listeners.length; i++ ) {\n    var listener = listeners[i]\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n  }\n\n  return this;\n};\n\nproto.allOff = function() {\n  delete this._events;\n  delete this._onceEvents;\n};\n\nreturn EvEmitter;\n\n}));\n","/**\n * Fizzy UI utils v2.0.7\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'desandro-matches-selector/matches-selector'\n    ], function( matchesSelector ) {\n      return factory( window, matchesSelector );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('desandro-matches-selector')\n    );\n  } else {\n    // browser global\n    window.fizzyUIUtils = factory(\n      window,\n      window.matchesSelector\n    );\n  }\n\n}( window, function factory( window, matchesSelector ) {\n\n'use strict';\n\nvar utils = {};\n\n// ----- extend ----- //\n\n// extends objects\nutils.extend = function( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n};\n\n// ----- modulo ----- //\n\nutils.modulo = function( num, div ) {\n  return ( ( num % div ) + div ) % div;\n};\n\n// ----- makeArray ----- //\n\nvar arraySlice = Array.prototype.slice;\n\n// turn element or nodeList into an array\nutils.makeArray = function( obj ) {\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    return obj;\n  }\n  // return empty array if undefined or null. #6\n  if ( obj === null || obj === undefined ) {\n    return [];\n  }\n\n  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  if ( isArrayLike ) {\n    // convert nodeList to array\n    return arraySlice.call( obj );\n  }\n\n  // array of single index\n  return [ obj ];\n};\n\n// ----- removeFrom ----- //\n\nutils.removeFrom = function( ary, obj ) {\n  var index = ary.indexOf( obj );\n  if ( index != -1 ) {\n    ary.splice( index, 1 );\n  }\n};\n\n// ----- getParent ----- //\n\nutils.getParent = function( elem, selector ) {\n  while ( elem.parentNode && elem != document.body ) {\n    elem = elem.parentNode;\n    if ( matchesSelector( elem, selector ) ) {\n      return elem;\n    }\n  }\n};\n\n// ----- getQueryElement ----- //\n\n// use element as selector string\nutils.getQueryElement = function( elem ) {\n  if ( typeof elem == 'string' ) {\n    return document.querySelector( elem );\n  }\n  return elem;\n};\n\n// ----- handleEvent ----- //\n\n// enable .ontype to trigger from .addEventListener( elem, 'type' )\nutils.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// ----- filterFindElements ----- //\n\nutils.filterFindElements = function( elems, selector ) {\n  // make array of elems\n  elems = utils.makeArray( elems );\n  var ffElems = [];\n\n  elems.forEach( function( elem ) {\n    // check that elem is an actual element\n    if ( !( elem instanceof HTMLElement ) ) {\n      return;\n    }\n    // add elem if no selector\n    if ( !selector ) {\n      ffElems.push( elem );\n      return;\n    }\n    // filter & find items if we have a selector\n    // filter\n    if ( matchesSelector( elem, selector ) ) {\n      ffElems.push( elem );\n    }\n    // find children\n    var childElems = elem.querySelectorAll( selector );\n    // concat childElems to filterFound array\n    for ( var i=0; i < childElems.length; i++ ) {\n      ffElems.push( childElems[i] );\n    }\n  });\n\n  return ffElems;\n};\n\n// ----- debounceMethod ----- //\n\nutils.debounceMethod = function( _class, methodName, threshold ) {\n  threshold = threshold || 100;\n  // original method\n  var method = _class.prototype[ methodName ];\n  var timeoutName = methodName + 'Timeout';\n\n  _class.prototype[ methodName ] = function() {\n    var timeout = this[ timeoutName ];\n    clearTimeout( timeout );\n\n    var args = arguments;\n    var _this = this;\n    this[ timeoutName ] = setTimeout( function() {\n      method.apply( _this, args );\n      delete _this[ timeoutName ];\n    }, threshold );\n  };\n};\n\n// ----- docReady ----- //\n\nutils.docReady = function( callback ) {\n  var readyState = document.readyState;\n  if ( readyState == 'complete' || readyState == 'interactive' ) {\n    // do async to allow for other scripts to run. metafizzy/flickity#441\n    setTimeout( callback );\n  } else {\n    document.addEventListener( 'DOMContentLoaded', callback );\n  }\n};\n\n// ----- htmlInit ----- //\n\n// http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\nutils.toDashed = function( str ) {\n  return str.replace( /(.)([A-Z])/g, function( match, $1, $2 ) {\n    return $1 + '-' + $2;\n  }).toLowerCase();\n};\n\nvar console = window.console;\n/**\n * allow user to initialize classes via [data-namespace] or .js-namespace class\n * htmlInit( Widget, 'widgetName' )\n * options are parsed from data-namespace-options\n */\nutils.htmlInit = function( WidgetClass, namespace ) {\n  utils.docReady( function() {\n    var dashedNamespace = utils.toDashed( namespace );\n    var dataAttr = 'data-' + dashedNamespace;\n    var dataAttrElems = document.querySelectorAll( '[' + dataAttr + ']' );\n    var jsDashElems = document.querySelectorAll( '.js-' + dashedNamespace );\n    var elems = utils.makeArray( dataAttrElems )\n      .concat( utils.makeArray( jsDashElems ) );\n    var dataOptionsAttr = dataAttr + '-options';\n    var jQuery = window.jQuery;\n\n    elems.forEach( function( elem ) {\n      var attr = elem.getAttribute( dataAttr ) ||\n        elem.getAttribute( dataOptionsAttr );\n      var options;\n      try {\n        options = attr && JSON.parse( attr );\n      } catch ( error ) {\n        // log error, do not initialize\n        if ( console ) {\n          console.error( 'Error parsing ' + dataAttr + ' on ' + elem.className +\n          ': ' + error );\n        }\n        return;\n      }\n      // initialize\n      var instance = new WidgetClass( elem, options );\n      // make available via $().data('namespace')\n      if ( jQuery ) {\n        jQuery.data( elem, namespace, instance );\n      }\n    });\n\n  });\n};\n\n// -----  ----- //\n\nreturn utils;\n\n}));\n","// add, remove cell\n( function( window, factory ) {\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      './flickity',\n      'fizzy-ui-utils/utils',\n    ], function( Flickity, utils ) {\n      return factory( window, Flickity, utils );\n    } );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n        window,\n        require('./flickity'),\n        require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n        window,\n        window.Flickity,\n        window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, utils ) {\n\n'use strict';\n\n// append cells to a document fragment\nfunction getCellsFragment( cells ) {\n  var fragment = document.createDocumentFragment();\n  cells.forEach( function( cell ) {\n    fragment.appendChild( cell.element );\n  } );\n  return fragment;\n}\n\n// -------------------------- add/remove cell prototype -------------------------- //\n\nvar proto = Flickity.prototype;\n\n/**\n * Insert, prepend, or append cells\n * @param {[Element, Array, NodeList]} elems - Elements to insert\n * @param {Integer} index - Zero-based number to insert\n */\nproto.insert = function( elems, index ) {\n  var cells = this._makeCells( elems );\n  if ( !cells || !cells.length ) {\n    return;\n  }\n  var len = this.cells.length;\n  // default to append\n  index = index === undefined ? len : index;\n  // add cells with document fragment\n  var fragment = getCellsFragment( cells );\n  // append to slider\n  var isAppend = index == len;\n  if ( isAppend ) {\n    this.slider.appendChild( fragment );\n  } else {\n    var insertCellElement = this.cells[ index ].element;\n    this.slider.insertBefore( fragment, insertCellElement );\n  }\n  // add to this.cells\n  if ( index === 0 ) {\n    // prepend, add to start\n    this.cells = cells.concat( this.cells );\n  } else if ( isAppend ) {\n    // append, add to end\n    this.cells = this.cells.concat( cells );\n  } else {\n    // insert in this.cells\n    var endCells = this.cells.splice( index, len - index );\n    this.cells = this.cells.concat( cells ).concat( endCells );\n  }\n\n  this._sizeCells( cells );\n  this.cellChange( index, true );\n};\n\nproto.append = function( elems ) {\n  this.insert( elems, this.cells.length );\n};\n\nproto.prepend = function( elems ) {\n  this.insert( elems, 0 );\n};\n\n/**\n * Remove cells\n * @param {[Element, Array, NodeList]} elems - ELements to remove\n */\nproto.remove = function( elems ) {\n  var cells = this.getCells( elems );\n  if ( !cells || !cells.length ) {\n    return;\n  }\n\n  var minCellIndex = this.cells.length - 1;\n  // remove cells from collection & DOM\n  cells.forEach( function( cell ) {\n    cell.remove();\n    var index = this.cells.indexOf( cell );\n    minCellIndex = Math.min( index, minCellIndex );\n    utils.removeFrom( this.cells, cell );\n  }, this );\n\n  this.cellChange( minCellIndex, true );\n};\n\n/**\n * logic to be run after a cell's size changes\n * @param {Element} elem - cell's element\n */\nproto.cellSizeChange = function( elem ) {\n  var cell = this.getCell( elem );\n  if ( !cell ) {\n    return;\n  }\n  cell.getSize();\n\n  var index = this.cells.indexOf( cell );\n  this.cellChange( index );\n};\n\n/**\n * logic any time a cell is changed: added, removed, or size changed\n * @param {Integer} changedCellIndex - index of the changed cell, optional\n * @param {Boolean} isPositioningSlider - Positions slider after selection\n */\nproto.cellChange = function( changedCellIndex, isPositioningSlider ) {\n  var prevSelectedElem = this.selectedElement;\n  this._positionCells( changedCellIndex );\n  this._getWrapShiftCells();\n  this.setGallerySize();\n  // update selectedIndex\n  // try to maintain position & select previous selected element\n  var cell = this.getCell( prevSelectedElem );\n  if ( cell ) {\n    this.selectedIndex = this.getCellSlideIndex( cell );\n  }\n  this.selectedIndex = Math.min( this.slides.length - 1, this.selectedIndex );\n\n  this.emitEvent( 'cellChange', [ changedCellIndex ] );\n  // position slider\n  this.select( this.selectedIndex );\n  // do not position slider after lazy load\n  if ( isPositioningSlider ) {\n    this.positionSliderAtSelected();\n  }\n};\n\n// -----  ----- //\n\nreturn Flickity;\n\n} ) );\n","// animate\n( function( window, factory ) {\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'fizzy-ui-utils/utils',\n    ], function( utils ) {\n      return factory( window, utils );\n    } );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n        window,\n        require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.animatePrototype = factory(\n        window,\n        window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, utils ) {\n\n'use strict';\n\n// -------------------------- animate -------------------------- //\n\nvar proto = {};\n\nproto.startAnimation = function() {\n  if ( this.isAnimating ) {\n    return;\n  }\n\n  this.isAnimating = true;\n  this.restingFrames = 0;\n  this.animate();\n};\n\nproto.animate = function() {\n  this.applyDragForce();\n  this.applySelectedAttraction();\n\n  var previousX = this.x;\n\n  this.integratePhysics();\n  this.positionSlider();\n  this.settle( previousX );\n  // animate next frame\n  if ( this.isAnimating ) {\n    var _this = this;\n    requestAnimationFrame( function animateFrame() {\n      _this.animate();\n    } );\n  }\n};\n\nproto.positionSlider = function() {\n  var x = this.x;\n  // wrap position around\n  if ( this.options.wrapAround && this.cells.length > 1 ) {\n    x = utils.modulo( x, this.slideableWidth );\n    x -= this.slideableWidth;\n    this.shiftWrapCells( x );\n  }\n\n  this.setTranslateX( x, this.isAnimating );\n  this.dispatchScrollEvent();\n};\n\nproto.setTranslateX = function( x, is3d ) {\n  x += this.cursorPosition;\n  // reverse if right-to-left and using transform\n  x = this.options.rightToLeft ? -x : x;\n  var translateX = this.getPositionValue( x );\n  // use 3D transforms for hardware acceleration on iOS\n  // but use 2D when settled, for better font-rendering\n  this.slider.style.transform = is3d ?\n    'translate3d(' + translateX + ',0,0)' : 'translateX(' + translateX + ')';\n};\n\nproto.dispatchScrollEvent = function() {\n  var firstSlide = this.slides[0];\n  if ( !firstSlide ) {\n    return;\n  }\n  var positionX = -this.x - firstSlide.target;\n  var progress = positionX / this.slidesWidth;\n  this.dispatchEvent( 'scroll', null, [ progress, positionX ] );\n};\n\nproto.positionSliderAtSelected = function() {\n  if ( !this.cells.length ) {\n    return;\n  }\n  this.x = -this.selectedSlide.target;\n  this.velocity = 0; // stop wobble\n  this.positionSlider();\n};\n\nproto.getPositionValue = function( position ) {\n  if ( this.options.percentPosition ) {\n    // percent position, round to 2 digits, like 12.34%\n    return ( Math.round( ( position / this.size.innerWidth ) * 10000 ) * 0.01 ) + '%';\n  } else {\n    // pixel positioning\n    return Math.round( position ) + 'px';\n  }\n};\n\nproto.settle = function( previousX ) {\n  // keep track of frames where x hasn't moved\n  var isResting = !this.isPointerDown &&\n      Math.round( this.x * 100 ) == Math.round( previousX * 100 );\n  if ( isResting ) {\n    this.restingFrames++;\n  }\n  // stop animating if resting for 3 or more frames\n  if ( this.restingFrames > 2 ) {\n    this.isAnimating = false;\n    delete this.isFreeScrolling;\n    // render position with translateX when settled\n    this.positionSlider();\n    this.dispatchEvent( 'settle', null, [ this.selectedIndex ] );\n  }\n};\n\nproto.shiftWrapCells = function( x ) {\n  // shift before cells\n  var beforeGap = this.cursorPosition + x;\n  this._shiftCells( this.beforeShiftCells, beforeGap, -1 );\n  // shift after cells\n  var afterGap = this.size.innerWidth - ( x + this.slideableWidth + this.cursorPosition );\n  this._shiftCells( this.afterShiftCells, afterGap, 1 );\n};\n\nproto._shiftCells = function( cells, gap, shift ) {\n  for ( var i = 0; i < cells.length; i++ ) {\n    var cell = cells[i];\n    var cellShift = gap > 0 ? shift : 0;\n    cell.wrapShift( cellShift );\n    gap -= cell.size.outerWidth;\n  }\n};\n\nproto._unshiftCells = function( cells ) {\n  if ( !cells || !cells.length ) {\n    return;\n  }\n  for ( var i = 0; i < cells.length; i++ ) {\n    cells[i].wrapShift( 0 );\n  }\n};\n\n// -------------------------- physics -------------------------- //\n\nproto.integratePhysics = function() {\n  this.x += this.velocity;\n  this.velocity *= this.getFrictionFactor();\n};\n\nproto.applyForce = function( force ) {\n  this.velocity += force;\n};\n\nproto.getFrictionFactor = function() {\n  return 1 - this.options[ this.isFreeScrolling ? 'freeScrollFriction' : 'friction' ];\n};\n\nproto.getRestingPosition = function() {\n  // my thanks to Steven Wittens, who simplified this math greatly\n  return this.x + this.velocity / ( 1 - this.getFrictionFactor() );\n};\n\nproto.applyDragForce = function() {\n  if ( !this.isDraggable || !this.isPointerDown ) {\n    return;\n  }\n  // change the position to drag position by applying force\n  var dragVelocity = this.dragX - this.x;\n  var dragForce = dragVelocity - this.velocity;\n  this.applyForce( dragForce );\n};\n\nproto.applySelectedAttraction = function() {\n  // do not attract if pointer down or no slides\n  var dragDown = this.isDraggable && this.isPointerDown;\n  if ( dragDown || this.isFreeScrolling || !this.slides.length ) {\n    return;\n  }\n  var distance = this.selectedSlide.target * -1 - this.x;\n  var force = distance * this.options.selectedAttraction;\n  this.applyForce( force );\n};\n\nreturn proto;\n\n} ) );\n","// Flickity.Cell\n( function( window, factory ) {\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'get-size/get-size',\n    ], function( getSize ) {\n      return factory( window, getSize );\n    } );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n        window,\n        require('get-size')\n    );\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.Cell = factory(\n        window,\n        window.getSize\n    );\n  }\n\n}( window, function factory( window, getSize ) {\n\n'use strict';\n\nfunction Cell( elem, parent ) {\n  this.element = elem;\n  this.parent = parent;\n\n  this.create();\n}\n\nvar proto = Cell.prototype;\n\nproto.create = function() {\n  this.element.style.position = 'absolute';\n  this.element.setAttribute( 'aria-hidden', 'true' );\n  this.x = 0;\n  this.shift = 0;\n  this.element.style[ this.parent.originSide ] = 0;\n};\n\nproto.destroy = function() {\n  // reset style\n  this.unselect();\n  this.element.style.position = '';\n  var side = this.parent.originSide;\n  this.element.style[ side ] = '';\n  this.element.style.transform = '';\n  this.element.removeAttribute('aria-hidden');\n};\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n};\n\nproto.setPosition = function( x ) {\n  this.x = x;\n  this.updateTarget();\n  this.renderPosition( x );\n};\n\n// setDefaultTarget v1 method, backwards compatibility, remove in v3\nproto.updateTarget = proto.setDefaultTarget = function() {\n  var marginProperty = this.parent.originSide == 'left' ? 'marginLeft' : 'marginRight';\n  this.target = this.x + this.size[ marginProperty ] +\n    this.size.width * this.parent.cellAlign;\n};\n\nproto.renderPosition = function( x ) {\n  // render position of cell with in slider\n  var sideOffset = this.parent.originSide === 'left' ? 1 : -1;\n\n  var adjustedX = this.parent.options.percentPosition ?\n    x * sideOffset * ( this.parent.size.innerWidth / this.size.width ) :\n    x * sideOffset;\n\n  this.element.style.transform = 'translateX(' +\n    this.parent.getPositionValue( adjustedX ) + ')';\n};\n\nproto.select = function() {\n  this.element.classList.add('is-selected');\n  this.element.removeAttribute('aria-hidden');\n};\n\nproto.unselect = function() {\n  this.element.classList.remove('is-selected');\n  this.element.setAttribute( 'aria-hidden', 'true' );\n};\n\n/**\n * @param {Integer} shift - 0, 1, or -1\n */\nproto.wrapShift = function( shift ) {\n  this.shift = shift;\n  this.renderPosition( this.x + this.parent.slideableWidth * shift );\n};\n\nproto.remove = function() {\n  this.element.parentNode.removeChild( this.element );\n};\n\nreturn Cell;\n\n} ) );\n","// drag\n( function( window, factory ) {\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      './flickity',\n      'unidragger/unidragger',\n      'fizzy-ui-utils/utils',\n    ], function( Flickity, Unidragger, utils ) {\n      return factory( window, Flickity, Unidragger, utils );\n    } );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n        window,\n        require('./flickity'),\n        require('unidragger'),\n        require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    window.Flickity = factory(\n        window,\n        window.Flickity,\n        window.Unidragger,\n        window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, Unidragger, utils ) {\n\n'use strict';\n\n// ----- defaults ----- //\n\nutils.extend( Flickity.defaults, {\n  draggable: '>1',\n  dragThreshold: 3,\n} );\n\n// ----- create ----- //\n\nFlickity.createMethods.push('_createDrag');\n\n// -------------------------- drag prototype -------------------------- //\n\nvar proto = Flickity.prototype;\nutils.extend( proto, Unidragger.prototype );\nproto._touchActionValue = 'pan-y';\n\n// --------------------------  -------------------------- //\n\nproto._createDrag = function() {\n  this.on( 'activate', this.onActivateDrag );\n  this.on( 'uiChange', this._uiChangeDrag );\n  this.on( 'deactivate', this.onDeactivateDrag );\n  this.on( 'cellChange', this.updateDraggable );\n  // TODO updateDraggable on resize? if groupCells & slides change\n};\n\nproto.onActivateDrag = function() {\n  this.handles = [ this.viewport ];\n  this.bindHandles();\n  this.updateDraggable();\n};\n\nproto.onDeactivateDrag = function() {\n  this.unbindHandles();\n  this.element.classList.remove('is-draggable');\n};\n\nproto.updateDraggable = function() {\n  // disable dragging if less than 2 slides. #278\n  if ( this.options.draggable == '>1' ) {\n    this.isDraggable = this.slides.length > 1;\n  } else {\n    this.isDraggable = this.options.draggable;\n  }\n  if ( this.isDraggable ) {\n    this.element.classList.add('is-draggable');\n  } else {\n    this.element.classList.remove('is-draggable');\n  }\n};\n\n// backwards compatibility\nproto.bindDrag = function() {\n  this.options.draggable = true;\n  this.updateDraggable();\n};\n\nproto.unbindDrag = function() {\n  this.options.draggable = false;\n  this.updateDraggable();\n};\n\nproto._uiChangeDrag = function() {\n  delete this.isFreeScrolling;\n};\n\n// -------------------------- pointer events -------------------------- //\n\nproto.pointerDown = function( event, pointer ) {\n  if ( !this.isDraggable ) {\n    this._pointerDownDefault( event, pointer );\n    return;\n  }\n  var isOkay = this.okayPointerDown( event );\n  if ( !isOkay ) {\n    return;\n  }\n\n  this._pointerDownPreventDefault( event );\n  this.pointerDownFocus( event );\n  // blur\n  if ( document.activeElement != this.element ) {\n    // do not blur if already focused\n    this.pointerDownBlur();\n  }\n\n  // stop if it was moving\n  this.dragX = this.x;\n  this.viewport.classList.add('is-pointer-down');\n  // track scrolling\n  this.pointerDownScroll = getScrollPosition();\n  window.addEventListener( 'scroll', this );\n\n  this._pointerDownDefault( event, pointer );\n};\n\n// default pointerDown logic, used for staticClick\nproto._pointerDownDefault = function( event, pointer ) {\n  // track start event position\n  // Safari 9 overrides pageX and pageY. These values needs to be copied. #779\n  this.pointerDownPointer = {\n    pageX: pointer.pageX,\n    pageY: pointer.pageY,\n  };\n  // bind move and end events\n  this._bindPostStartEvents( event );\n  this.dispatchEvent( 'pointerDown', event, [ pointer ] );\n};\n\nvar focusNodes = {\n  INPUT: true,\n  TEXTAREA: true,\n  SELECT: true,\n};\n\nproto.pointerDownFocus = function( event ) {\n  var isFocusNode = focusNodes[ event.target.nodeName ];\n  if ( !isFocusNode ) {\n    this.focus();\n  }\n};\n\nproto._pointerDownPreventDefault = function( event ) {\n  var isTouchStart = event.type == 'touchstart';\n  var isTouchPointer = event.pointerType == 'touch';\n  var isFocusNode = focusNodes[ event.target.nodeName ];\n  if ( !isTouchStart && !isTouchPointer && !isFocusNode ) {\n    event.preventDefault();\n  }\n};\n\n// ----- move ----- //\n\nproto.hasDragStarted = function( moveVector ) {\n  return Math.abs( moveVector.x ) > this.options.dragThreshold;\n};\n\n// ----- up ----- //\n\nproto.pointerUp = function( event, pointer ) {\n  delete this.isTouchScrolling;\n  this.viewport.classList.remove('is-pointer-down');\n  this.dispatchEvent( 'pointerUp', event, [ pointer ] );\n  this._dragPointerUp( event, pointer );\n};\n\nproto.pointerDone = function() {\n  window.removeEventListener( 'scroll', this );\n  delete this.pointerDownScroll;\n};\n\n// -------------------------- dragging -------------------------- //\n\nproto.dragStart = function( event, pointer ) {\n  if ( !this.isDraggable ) {\n    return;\n  }\n  this.dragStartPosition = this.x;\n  this.startAnimation();\n  window.removeEventListener( 'scroll', this );\n  this.dispatchEvent( 'dragStart', event, [ pointer ] );\n};\n\nproto.pointerMove = function( event, pointer ) {\n  var moveVector = this._dragPointerMove( event, pointer );\n  this.dispatchEvent( 'pointerMove', event, [ pointer, moveVector ] );\n  this._dragMove( event, pointer, moveVector );\n};\n\nproto.dragMove = function( event, pointer, moveVector ) {\n  if ( !this.isDraggable ) {\n    return;\n  }\n  event.preventDefault();\n\n  this.previousDragX = this.dragX;\n  // reverse if right-to-left\n  var direction = this.options.rightToLeft ? -1 : 1;\n  if ( this.options.wrapAround ) {\n    // wrap around move. #589\n    moveVector.x %= this.slideableWidth;\n  }\n  var dragX = this.dragStartPosition + moveVector.x * direction;\n\n  if ( !this.options.wrapAround && this.slides.length ) {\n    // slow drag\n    var originBound = Math.max( -this.slides[0].target, this.dragStartPosition );\n    dragX = dragX > originBound ? ( dragX + originBound ) * 0.5 : dragX;\n    var endBound = Math.min( -this.getLastSlide().target, this.dragStartPosition );\n    dragX = dragX < endBound ? ( dragX + endBound ) * 0.5 : dragX;\n  }\n\n  this.dragX = dragX;\n\n  this.dragMoveTime = new Date();\n  this.dispatchEvent( 'dragMove', event, [ pointer, moveVector ] );\n};\n\nproto.dragEnd = function( event, pointer ) {\n  if ( !this.isDraggable ) {\n    return;\n  }\n  if ( this.options.freeScroll ) {\n    this.isFreeScrolling = true;\n  }\n  // set selectedIndex based on where flick will end up\n  var index = this.dragEndRestingSelect();\n\n  if ( this.options.freeScroll && !this.options.wrapAround ) {\n    // if free-scroll & not wrap around\n    // do not free-scroll if going outside of bounding slides\n    // so bounding slides can attract slider, and keep it in bounds\n    var restingX = this.getRestingPosition();\n    this.isFreeScrolling = -restingX > this.slides[0].target &&\n      -restingX < this.getLastSlide().target;\n  } else if ( !this.options.freeScroll && index == this.selectedIndex ) {\n    // boost selection if selected index has not changed\n    index += this.dragEndBoostSelect();\n  }\n  delete this.previousDragX;\n  // apply selection\n  // TODO refactor this, selecting here feels weird\n  // HACK, set flag so dragging stays in correct direction\n  this.isDragSelect = this.options.wrapAround;\n  this.select( index );\n  delete this.isDragSelect;\n  this.dispatchEvent( 'dragEnd', event, [ pointer ] );\n};\n\nproto.dragEndRestingSelect = function() {\n  var restingX = this.getRestingPosition();\n  // how far away from selected slide\n  var distance = Math.abs( this.getSlideDistance( -restingX, this.selectedIndex ) );\n  // get closet resting going up and going down\n  var positiveResting = this._getClosestResting( restingX, distance, 1 );\n  var negativeResting = this._getClosestResting( restingX, distance, -1 );\n  // use closer resting for wrap-around\n  var index = positiveResting.distance < negativeResting.distance ?\n    positiveResting.index : negativeResting.index;\n  return index;\n};\n\n/**\n * given resting X and distance to selected cell\n * get the distance and index of the closest cell\n * @param {Number} restingX - estimated post-flick resting position\n * @param {Number} distance - distance to selected cell\n * @param {Integer} increment - +1 or -1, going up or down\n * @returns {Object} - { distance: {Number}, index: {Integer} }\n */\nproto._getClosestResting = function( restingX, distance, increment ) {\n  var index = this.selectedIndex;\n  var minDistance = Infinity;\n  var condition = this.options.contain && !this.options.wrapAround ?\n    // if contain, keep going if distance is equal to minDistance\n    function( dist, minDist ) {\n      return dist <= minDist;\n    } : function( dist, minDist ) {\n      return dist < minDist;\n    };\n  while ( condition( distance, minDistance ) ) {\n    // measure distance to next cell\n    index += increment;\n    minDistance = distance;\n    distance = this.getSlideDistance( -restingX, index );\n    if ( distance === null ) {\n      break;\n    }\n    distance = Math.abs( distance );\n  }\n  return {\n    distance: minDistance,\n    // selected was previous index\n    index: index - increment,\n  };\n};\n\n/**\n * measure distance between x and a slide target\n * @param {Number} x - horizontal position\n * @param {Integer} index - slide index\n * @returns {Number} - slide distance\n */\nproto.getSlideDistance = function( x, index ) {\n  var len = this.slides.length;\n  // wrap around if at least 2 slides\n  var isWrapAround = this.options.wrapAround && len > 1;\n  var slideIndex = isWrapAround ? utils.modulo( index, len ) : index;\n  var slide = this.slides[ slideIndex ];\n  if ( !slide ) {\n    return null;\n  }\n  // add distance for wrap-around slides\n  var wrap = isWrapAround ? this.slideableWidth * Math.floor( index/len ) : 0;\n  return x - ( slide.target + wrap );\n};\n\nproto.dragEndBoostSelect = function() {\n  // do not boost if no previousDragX or dragMoveTime\n  if ( this.previousDragX === undefined || !this.dragMoveTime ||\n    // or if drag was held for 100 ms\n    new Date() - this.dragMoveTime > 100 ) {\n    return 0;\n  }\n\n  var distance = this.getSlideDistance( -this.dragX, this.selectedIndex );\n  var delta = this.previousDragX - this.dragX;\n  if ( distance > 0 && delta > 0 ) {\n    // boost to next if moving towards the right, and positive velocity\n    return 1;\n  } else if ( distance < 0 && delta < 0 ) {\n    // boost to previous if moving towards the left, and negative velocity\n    return -1;\n  }\n  return 0;\n};\n\n// ----- staticClick ----- //\n\nproto.staticClick = function( event, pointer ) {\n  // get clickedCell, if cell was clicked\n  var clickedCell = this.getParentCell( event.target );\n  var cellElem = clickedCell && clickedCell.element;\n  var cellIndex = clickedCell && this.cells.indexOf( clickedCell );\n  this.dispatchEvent( 'staticClick', event, [ pointer, cellElem, cellIndex ] );\n};\n\n// ----- scroll ----- //\n\nproto.onscroll = function() {\n  var scroll = getScrollPosition();\n  var scrollMoveX = this.pointerDownScroll.x - scroll.x;\n  var scrollMoveY = this.pointerDownScroll.y - scroll.y;\n  // cancel click/tap if scroll is too much\n  if ( Math.abs( scrollMoveX ) > 3 || Math.abs( scrollMoveY ) > 3 ) {\n    this._pointerDone();\n  }\n};\n\n// ----- utils ----- //\n\nfunction getScrollPosition() {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset,\n  };\n}\n\n// -----  ----- //\n\nreturn Flickity;\n\n} ) );\n","// Flickity main\n/* eslint-disable max-params */\n( function( window, factory ) {\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'ev-emitter/ev-emitter',\n      'get-size/get-size',\n      'fizzy-ui-utils/utils',\n      './cell',\n      './slide',\n      './animate',\n    ], function( EvEmitter, getSize, utils, Cell, Slide, animatePrototype ) {\n      return factory( window, EvEmitter, getSize, utils, Cell, Slide, animatePrototype );\n    } );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n        window,\n        require('ev-emitter'),\n        require('get-size'),\n        require('fizzy-ui-utils'),\n        require('./cell'),\n        require('./slide'),\n        require('./animate')\n    );\n  } else {\n    // browser global\n    var _Flickity = window.Flickity;\n\n    window.Flickity = factory(\n        window,\n        window.EvEmitter,\n        window.getSize,\n        window.fizzyUIUtils,\n        _Flickity.Cell,\n        _Flickity.Slide,\n        _Flickity.animatePrototype\n    );\n  }\n\n}( window, function factory( window, EvEmitter, getSize,\n    utils, Cell, Slide, animatePrototype ) {\n\n/* eslint-enable max-params */\n'use strict';\n\n// vars\nvar jQuery = window.jQuery;\nvar getComputedStyle = window.getComputedStyle;\nvar console = window.console;\n\nfunction moveElements( elems, toElem ) {\n  elems = utils.makeArray( elems );\n  while ( elems.length ) {\n    toElem.appendChild( elems.shift() );\n  }\n}\n\n// -------------------------- Flickity -------------------------- //\n\n// globally unique identifiers\nvar GUID = 0;\n// internal store of all Flickity intances\nvar instances = {};\n\nfunction Flickity( element, options ) {\n  var queryElement = utils.getQueryElement( element );\n  if ( !queryElement ) {\n    if ( console ) {\n      console.error( 'Bad element for Flickity: ' + ( queryElement || element ) );\n    }\n    return;\n  }\n  this.element = queryElement;\n  // do not initialize twice on same element\n  if ( this.element.flickityGUID ) {\n    var instance = instances[ this.element.flickityGUID ];\n    if ( instance ) instance.option( options );\n    return instance;\n  }\n\n  // add jQuery\n  if ( jQuery ) {\n    this.$element = jQuery( this.element );\n  }\n  // options\n  this.options = utils.extend( {}, this.constructor.defaults );\n  this.option( options );\n\n  // kick things off\n  this._create();\n}\n\nFlickity.defaults = {\n  accessibility: true,\n  // adaptiveHeight: false,\n  cellAlign: 'center',\n  // cellSelector: undefined,\n  // contain: false,\n  freeScrollFriction: 0.075, // friction when free-scrolling\n  friction: 0.28, // friction when selecting\n  namespaceJQueryEvents: true,\n  // initialIndex: 0,\n  percentPosition: true,\n  resize: true,\n  selectedAttraction: 0.025,\n  setGallerySize: true,\n  // watchCSS: false,\n  // wrapAround: false\n};\n\n// hash of methods triggered on _create()\nFlickity.createMethods = [];\n\nvar proto = Flickity.prototype;\n// inherit EventEmitter\nutils.extend( proto, EvEmitter.prototype );\n\nproto._create = function() {\n  // add id for Flickity.data\n  var id = this.guid = ++GUID;\n  this.element.flickityGUID = id; // expando\n  instances[ id ] = this; // associate via id\n  // initial properties\n  this.selectedIndex = 0;\n  // how many frames slider has been in same position\n  this.restingFrames = 0;\n  // initial physics properties\n  this.x = 0;\n  this.velocity = 0;\n  this.originSide = this.options.rightToLeft ? 'right' : 'left';\n  // create viewport & slider\n  this.viewport = document.createElement('div');\n  this.viewport.className = 'flickity-viewport';\n  this._createSlider();\n\n  if ( this.options.resize || this.options.watchCSS ) {\n    window.addEventListener( 'resize', this );\n  }\n\n  // add listeners from on option\n  for ( var eventName in this.options.on ) {\n    var listener = this.options.on[ eventName ];\n    this.on( eventName, listener );\n  }\n\n  Flickity.createMethods.forEach( function( method ) {\n    this[ method ]();\n  }, this );\n\n  if ( this.options.watchCSS ) {\n    this.watchCSS();\n  } else {\n    this.activate();\n  }\n\n};\n\n/**\n * set options\n * @param {Object} opts - options to extend\n */\nproto.option = function( opts ) {\n  utils.extend( this.options, opts );\n};\n\nproto.activate = function() {\n  if ( this.isActive ) {\n    return;\n  }\n  this.isActive = true;\n  this.element.classList.add('flickity-enabled');\n  if ( this.options.rightToLeft ) {\n    this.element.classList.add('flickity-rtl');\n  }\n\n  this.getSize();\n  // move initial cell elements so they can be loaded as cells\n  var cellElems = this._filterFindCellElements( this.element.children );\n  moveElements( cellElems, this.slider );\n  this.viewport.appendChild( this.slider );\n  this.element.appendChild( this.viewport );\n  // get cells from children\n  this.reloadCells();\n\n  if ( this.options.accessibility ) {\n    // allow element to focusable\n    this.element.tabIndex = 0;\n    // listen for key presses\n    this.element.addEventListener( 'keydown', this );\n  }\n\n  this.emitEvent('activate');\n  this.selectInitialIndex();\n  // flag for initial activation, for using initialIndex\n  this.isInitActivated = true;\n  // ready event. #493\n  this.dispatchEvent('ready');\n};\n\n// slider positions the cells\nproto._createSlider = function() {\n  // slider element does all the positioning\n  var slider = document.createElement('div');\n  slider.className = 'flickity-slider';\n  slider.style[ this.originSide ] = 0;\n  this.slider = slider;\n};\n\nproto._filterFindCellElements = function( elems ) {\n  return utils.filterFindElements( elems, this.options.cellSelector );\n};\n\n// goes through all children\nproto.reloadCells = function() {\n  // collection of item elements\n  this.cells = this._makeCells( this.slider.children );\n  this.positionCells();\n  this._getWrapShiftCells();\n  this.setGallerySize();\n};\n\n/**\n * turn elements into Flickity.Cells\n * @param {[Array, NodeList, HTMLElement]} elems - elements to make into cells\n * @returns {Array} items - collection of new Flickity Cells\n */\nproto._makeCells = function( elems ) {\n  var cellElems = this._filterFindCellElements( elems );\n\n  // create new Flickity for collection\n  var cells = cellElems.map( function( cellElem ) {\n    return new Cell( cellElem, this );\n  }, this );\n\n  return cells;\n};\n\nproto.getLastCell = function() {\n  return this.cells[ this.cells.length - 1 ];\n};\n\nproto.getLastSlide = function() {\n  return this.slides[ this.slides.length - 1 ];\n};\n\n// positions all cells\nproto.positionCells = function() {\n  // size all cells\n  this._sizeCells( this.cells );\n  // position all cells\n  this._positionCells( 0 );\n};\n\n/**\n * position certain cells\n * @param {Integer} index - which cell to start with\n */\nproto._positionCells = function( index ) {\n  index = index || 0;\n  // also measure maxCellHeight\n  // start 0 if positioning all cells\n  this.maxCellHeight = index ? this.maxCellHeight || 0 : 0;\n  var cellX = 0;\n  // get cellX\n  if ( index > 0 ) {\n    var startCell = this.cells[ index - 1 ];\n    cellX = startCell.x + startCell.size.outerWidth;\n  }\n  var len = this.cells.length;\n  for ( var i = index; i < len; i++ ) {\n    var cell = this.cells[i];\n    cell.setPosition( cellX );\n    cellX += cell.size.outerWidth;\n    this.maxCellHeight = Math.max( cell.size.outerHeight, this.maxCellHeight );\n  }\n  // keep track of cellX for wrap-around\n  this.slideableWidth = cellX;\n  // slides\n  this.updateSlides();\n  // contain slides target\n  this._containSlides();\n  // update slidesWidth\n  this.slidesWidth = len ? this.getLastSlide().target - this.slides[0].target : 0;\n};\n\n/**\n * cell.getSize() on multiple cells\n * @param {Array} cells - cells to size\n */\nproto._sizeCells = function( cells ) {\n  cells.forEach( function( cell ) {\n    cell.getSize();\n  } );\n};\n\n// --------------------------  -------------------------- //\n\nproto.updateSlides = function() {\n  this.slides = [];\n  if ( !this.cells.length ) {\n    return;\n  }\n\n  var slide = new Slide( this );\n  this.slides.push( slide );\n  var isOriginLeft = this.originSide == 'left';\n  var nextMargin = isOriginLeft ? 'marginRight' : 'marginLeft';\n\n  var canCellFit = this._getCanCellFit();\n\n  this.cells.forEach( function( cell, i ) {\n    // just add cell if first cell in slide\n    if ( !slide.cells.length ) {\n      slide.addCell( cell );\n      return;\n    }\n\n    var slideWidth = ( slide.outerWidth - slide.firstMargin ) +\n      ( cell.size.outerWidth - cell.size[ nextMargin ] );\n\n    if ( canCellFit.call( this, i, slideWidth ) ) {\n      slide.addCell( cell );\n    } else {\n      // doesn't fit, new slide\n      slide.updateTarget();\n\n      slide = new Slide( this );\n      this.slides.push( slide );\n      slide.addCell( cell );\n    }\n  }, this );\n  // last slide\n  slide.updateTarget();\n  // update .selectedSlide\n  this.updateSelectedSlide();\n};\n\nproto._getCanCellFit = function() {\n  var groupCells = this.options.groupCells;\n  if ( !groupCells ) {\n    return function() {\n      return false;\n    };\n  } else if ( typeof groupCells == 'number' ) {\n    // group by number. 3 -> [0,1,2], [3,4,5], ...\n    var number = parseInt( groupCells, 10 );\n    return function( i ) {\n      return ( i % number ) !== 0;\n    };\n  }\n  // default, group by width of slide\n  // parse '75%\n  var percentMatch = typeof groupCells == 'string' &&\n    groupCells.match( /^(\\d+)%$/ );\n  var percent = percentMatch ? parseInt( percentMatch[1], 10 ) / 100 : 1;\n  return function( i, slideWidth ) {\n    /* eslint-disable-next-line no-invalid-this */\n    return slideWidth <= ( this.size.innerWidth + 1 ) * percent;\n  };\n};\n\n// alias _init for jQuery plugin .flickity()\nproto._init =\nproto.reposition = function() {\n  this.positionCells();\n  this.positionSliderAtSelected();\n};\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n  this.setCellAlign();\n  this.cursorPosition = this.size.innerWidth * this.cellAlign;\n};\n\nvar cellAlignShorthands = {\n  // cell align, then based on origin side\n  center: {\n    left: 0.5,\n    right: 0.5,\n  },\n  left: {\n    left: 0,\n    right: 1,\n  },\n  right: {\n    right: 0,\n    left: 1,\n  },\n};\n\nproto.setCellAlign = function() {\n  var shorthand = cellAlignShorthands[ this.options.cellAlign ];\n  this.cellAlign = shorthand ? shorthand[ this.originSide ] : this.options.cellAlign;\n};\n\nproto.setGallerySize = function() {\n  if ( this.options.setGallerySize ) {\n    var height = this.options.adaptiveHeight && this.selectedSlide ?\n      this.selectedSlide.height : this.maxCellHeight;\n    this.viewport.style.height = height + 'px';\n  }\n};\n\nproto._getWrapShiftCells = function() {\n  // only for wrap-around\n  if ( !this.options.wrapAround ) {\n    return;\n  }\n  // unshift previous cells\n  this._unshiftCells( this.beforeShiftCells );\n  this._unshiftCells( this.afterShiftCells );\n  // get before cells\n  // initial gap\n  var gapX = this.cursorPosition;\n  var cellIndex = this.cells.length - 1;\n  this.beforeShiftCells = this._getGapCells( gapX, cellIndex, -1 );\n  // get after cells\n  // ending gap between last cell and end of gallery viewport\n  gapX = this.size.innerWidth - this.cursorPosition;\n  // start cloning at first cell, working forwards\n  this.afterShiftCells = this._getGapCells( gapX, 0, 1 );\n};\n\nproto._getGapCells = function( gapX, cellIndex, increment ) {\n  // keep adding cells until the cover the initial gap\n  var cells = [];\n  while ( gapX > 0 ) {\n    var cell = this.cells[ cellIndex ];\n    if ( !cell ) {\n      break;\n    }\n    cells.push( cell );\n    cellIndex += increment;\n    gapX -= cell.size.outerWidth;\n  }\n  return cells;\n};\n\n// ----- contain ----- //\n\n// contain cell targets so no excess sliding\nproto._containSlides = function() {\n  if ( !this.options.contain || this.options.wrapAround || !this.cells.length ) {\n    return;\n  }\n  var isRightToLeft = this.options.rightToLeft;\n  var beginMargin = isRightToLeft ? 'marginRight' : 'marginLeft';\n  var endMargin = isRightToLeft ? 'marginLeft' : 'marginRight';\n  var contentWidth = this.slideableWidth - this.getLastCell().size[ endMargin ];\n  // content is less than gallery size\n  var isContentSmaller = contentWidth < this.size.innerWidth;\n  // bounds\n  var beginBound = this.cursorPosition + this.cells[0].size[ beginMargin ];\n  var endBound = contentWidth - this.size.innerWidth * ( 1 - this.cellAlign );\n  // contain each cell target\n  this.slides.forEach( function( slide ) {\n    if ( isContentSmaller ) {\n      // all cells fit inside gallery\n      slide.target = contentWidth * this.cellAlign;\n    } else {\n      // contain to bounds\n      slide.target = Math.max( slide.target, beginBound );\n      slide.target = Math.min( slide.target, endBound );\n    }\n  }, this );\n};\n\n// -----  ----- //\n\n/**\n * emits events via eventEmitter and jQuery events\n * @param {String} type - name of event\n * @param {Event} event - original event\n * @param {Array} args - extra arguments\n */\nproto.dispatchEvent = function( type, event, args ) {\n  var emitArgs = event ? [ event ].concat( args ) : args;\n  this.emitEvent( type, emitArgs );\n\n  if ( jQuery && this.$element ) {\n    // default trigger with type if no event\n    type += this.options.namespaceJQueryEvents ? '.flickity' : '';\n    var $event = type;\n    if ( event ) {\n      // create jQuery event\n      var jQEvent = new jQuery.Event( event );\n      jQEvent.type = type;\n      $event = jQEvent;\n    }\n    this.$element.trigger( $event, args );\n  }\n};\n\n// -------------------------- select -------------------------- //\n\n/**\n * @param {Integer} index - index of the slide\n * @param {Boolean} isWrap - will wrap-around to last/first if at the end\n * @param {Boolean} isInstant - will immediately set position at selected cell\n */\nproto.select = function( index, isWrap, isInstant ) {\n  if ( !this.isActive ) {\n    return;\n  }\n  index = parseInt( index, 10 );\n  this._wrapSelect( index );\n\n  if ( this.options.wrapAround || isWrap ) {\n    index = utils.modulo( index, this.slides.length );\n  }\n  // bail if invalid index\n  if ( !this.slides[ index ] ) {\n    return;\n  }\n  var prevIndex = this.selectedIndex;\n  this.selectedIndex = index;\n  this.updateSelectedSlide();\n  if ( isInstant ) {\n    this.positionSliderAtSelected();\n  } else {\n    this.startAnimation();\n  }\n  if ( this.options.adaptiveHeight ) {\n    this.setGallerySize();\n  }\n  // events\n  this.dispatchEvent( 'select', null, [ index ] );\n  // change event if new index\n  if ( index != prevIndex ) {\n    this.dispatchEvent( 'change', null, [ index ] );\n  }\n  // old v1 event name, remove in v3\n  this.dispatchEvent('cellSelect');\n};\n\n// wraps position for wrapAround, to move to closest slide. #113\nproto._wrapSelect = function( index ) {\n  var len = this.slides.length;\n  var isWrapping = this.options.wrapAround && len > 1;\n  if ( !isWrapping ) {\n    return index;\n  }\n  var wrapIndex = utils.modulo( index, len );\n  // go to shortest\n  var delta = Math.abs( wrapIndex - this.selectedIndex );\n  var backWrapDelta = Math.abs( ( wrapIndex + len ) - this.selectedIndex );\n  var forewardWrapDelta = Math.abs( ( wrapIndex - len ) - this.selectedIndex );\n  if ( !this.isDragSelect && backWrapDelta < delta ) {\n    index += len;\n  } else if ( !this.isDragSelect && forewardWrapDelta < delta ) {\n    index -= len;\n  }\n  // wrap position so slider is within normal area\n  if ( index < 0 ) {\n    this.x -= this.slideableWidth;\n  } else if ( index >= len ) {\n    this.x += this.slideableWidth;\n  }\n};\n\nproto.previous = function( isWrap, isInstant ) {\n  this.select( this.selectedIndex - 1, isWrap, isInstant );\n};\n\nproto.next = function( isWrap, isInstant ) {\n  this.select( this.selectedIndex + 1, isWrap, isInstant );\n};\n\nproto.updateSelectedSlide = function() {\n  var slide = this.slides[ this.selectedIndex ];\n  // selectedIndex could be outside of slides, if triggered before resize()\n  if ( !slide ) {\n    return;\n  }\n  // unselect previous selected slide\n  this.unselectSelectedSlide();\n  // update new selected slide\n  this.selectedSlide = slide;\n  slide.select();\n  this.selectedCells = slide.cells;\n  this.selectedElements = slide.getCellElements();\n  // HACK: selectedCell & selectedElement is first cell in slide, backwards compatibility\n  // Remove in v3?\n  this.selectedCell = slide.cells[0];\n  this.selectedElement = this.selectedElements[0];\n};\n\nproto.unselectSelectedSlide = function() {\n  if ( this.selectedSlide ) {\n    this.selectedSlide.unselect();\n  }\n};\n\nproto.selectInitialIndex = function() {\n  var initialIndex = this.options.initialIndex;\n  // already activated, select previous selectedIndex\n  if ( this.isInitActivated ) {\n    this.select( this.selectedIndex, false, true );\n    return;\n  }\n  // select with selector string\n  if ( initialIndex && typeof initialIndex == 'string' ) {\n    var cell = this.queryCell( initialIndex );\n    if ( cell ) {\n      this.selectCell( initialIndex, false, true );\n      return;\n    }\n  }\n\n  var index = 0;\n  // select with number\n  if ( initialIndex && this.slides[ initialIndex ] ) {\n    index = initialIndex;\n  }\n  // select instantly\n  this.select( index, false, true );\n};\n\n/**\n * select slide from number or cell element\n * @param {[Element, Number]} value - zero-based index or element to select\n * @param {Boolean} isWrap - enables wrapping around for extra index\n * @param {Boolean} isInstant - disables slide animation\n */\nproto.selectCell = function( value, isWrap, isInstant ) {\n  // get cell\n  var cell = this.queryCell( value );\n  if ( !cell ) {\n    return;\n  }\n\n  var index = this.getCellSlideIndex( cell );\n  this.select( index, isWrap, isInstant );\n};\n\nproto.getCellSlideIndex = function( cell ) {\n  // get index of slides that has cell\n  for ( var i = 0; i < this.slides.length; i++ ) {\n    var slide = this.slides[i];\n    var index = slide.cells.indexOf( cell );\n    if ( index != -1 ) {\n      return i;\n    }\n  }\n};\n\n// -------------------------- get cells -------------------------- //\n\n/**\n * get Flickity.Cell, given an Element\n * @param {Element} elem - matching cell element\n * @returns {Flickity.Cell} cell - matching cell\n */\nproto.getCell = function( elem ) {\n  // loop through cells to get the one that matches\n  for ( var i = 0; i < this.cells.length; i++ ) {\n    var cell = this.cells[i];\n    if ( cell.element == elem ) {\n      return cell;\n    }\n  }\n};\n\n/**\n * get collection of Flickity.Cells, given Elements\n * @param {[Element, Array, NodeList]} elems - multiple elements\n * @returns {Array} cells - Flickity.Cells\n */\nproto.getCells = function( elems ) {\n  elems = utils.makeArray( elems );\n  var cells = [];\n  elems.forEach( function( elem ) {\n    var cell = this.getCell( elem );\n    if ( cell ) {\n      cells.push( cell );\n    }\n  }, this );\n  return cells;\n};\n\n/**\n * get cell elements\n * @returns {Array} cellElems\n */\nproto.getCellElements = function() {\n  return this.cells.map( function( cell ) {\n    return cell.element;\n  } );\n};\n\n/**\n * get parent cell from an element\n * @param {Element} elem - child element\n * @returns {Flickit.Cell} cell - parent cell\n */\nproto.getParentCell = function( elem ) {\n  // first check if elem is cell\n  var cell = this.getCell( elem );\n  if ( cell ) {\n    return cell;\n  }\n  // try to get parent cell elem\n  elem = utils.getParent( elem, '.flickity-slider > *' );\n  return this.getCell( elem );\n};\n\n/**\n * get cells adjacent to a slide\n * @param {Integer} adjCount - number of adjacent slides\n * @param {Integer} index - index of slide to start\n * @returns {Array} cells - array of Flickity.Cells\n */\nproto.getAdjacentCellElements = function( adjCount, index ) {\n  if ( !adjCount ) {\n    return this.selectedSlide.getCellElements();\n  }\n  index = index === undefined ? this.selectedIndex : index;\n\n  var len = this.slides.length;\n  if ( 1 + ( adjCount * 2 ) >= len ) {\n    return this.getCellElements();\n  }\n\n  var cellElems = [];\n  for ( var i = index - adjCount; i <= index + adjCount; i++ ) {\n    var slideIndex = this.options.wrapAround ? utils.modulo( i, len ) : i;\n    var slide = this.slides[ slideIndex ];\n    if ( slide ) {\n      cellElems = cellElems.concat( slide.getCellElements() );\n    }\n  }\n  return cellElems;\n};\n\n/**\n * select slide from number or cell element\n * @param {[Element, String, Number]} selector - element, selector string, or index\n * @returns {Flickity.Cell} - matching cell\n */\nproto.queryCell = function( selector ) {\n  if ( typeof selector == 'number' ) {\n    // use number as index\n    return this.cells[ selector ];\n  }\n  if ( typeof selector == 'string' ) {\n    // do not select invalid selectors from hash: #123, #/. #791\n    if ( selector.match( /^[#.]?[\\d/]/ ) ) {\n      return;\n    }\n    // use string as selector, get element\n    selector = this.element.querySelector( selector );\n  }\n  // get cell from element\n  return this.getCell( selector );\n};\n\n// -------------------------- events -------------------------- //\n\nproto.uiChange = function() {\n  this.emitEvent('uiChange');\n};\n\n// keep focus on element when child UI elements are clicked\nproto.childUIPointerDown = function( event ) {\n  // HACK iOS does not allow touch events to bubble up?!\n  if ( event.type != 'touchstart' ) {\n    event.preventDefault();\n  }\n  this.focus();\n};\n\n// ----- resize ----- //\n\nproto.onresize = function() {\n  this.watchCSS();\n  this.resize();\n};\n\nutils.debounceMethod( Flickity, 'onresize', 150 );\n\nproto.resize = function() {\n  // #1177 disable resize behavior when animating or dragging for iOS 15\n  if ( !this.isActive || this.isAnimating || this.isDragging ) {\n    return;\n  }\n  this.getSize();\n  // wrap values\n  if ( this.options.wrapAround ) {\n    this.x = utils.modulo( this.x, this.slideableWidth );\n  }\n  this.positionCells();\n  this._getWrapShiftCells();\n  this.setGallerySize();\n  this.emitEvent('resize');\n  // update selected index for group slides, instant\n  // TODO: position can be lost between groups of various numbers\n  var selectedElement = this.selectedElements && this.selectedElements[0];\n  this.selectCell( selectedElement, false, true );\n};\n\n// watches the :after property, activates/deactivates\nproto.watchCSS = function() {\n  var watchOption = this.options.watchCSS;\n  if ( !watchOption ) {\n    return;\n  }\n\n  var afterContent = getComputedStyle( this.element, ':after' ).content;\n  // activate if :after { content: 'flickity' }\n  if ( afterContent.indexOf('flickity') != -1 ) {\n    this.activate();\n  } else {\n    this.deactivate();\n  }\n};\n\n// ----- keydown ----- //\n\n// go previous/next if left/right keys pressed\nproto.onkeydown = function( event ) {\n  // only work if element is in focus\n  var isNotFocused = document.activeElement && document.activeElement != this.element;\n  if ( !this.options.accessibility || isNotFocused ) {\n    return;\n  }\n\n  var handler = Flickity.keyboardHandlers[ event.keyCode ];\n  if ( handler ) {\n    handler.call( this );\n  }\n};\n\nFlickity.keyboardHandlers = {\n  // left arrow\n  37: function() {\n    var leftMethod = this.options.rightToLeft ? 'next' : 'previous';\n    this.uiChange();\n    this[ leftMethod ]();\n  },\n  // right arrow\n  39: function() {\n    var rightMethod = this.options.rightToLeft ? 'previous' : 'next';\n    this.uiChange();\n    this[ rightMethod ]();\n  },\n};\n\n// ----- focus ----- //\n\nproto.focus = function() {\n  // TODO remove scrollTo once focus options gets more support\n  // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/focus ...\n  //    #Browser_compatibility\n  var prevScrollY = window.pageYOffset;\n  this.element.focus({ preventScroll: true });\n  // hack to fix scroll jump after focus, #76\n  if ( window.pageYOffset != prevScrollY ) {\n    window.scrollTo( window.pageXOffset, prevScrollY );\n  }\n};\n\n// -------------------------- destroy -------------------------- //\n\n// deactivate all Flickity functionality, but keep stuff available\nproto.deactivate = function() {\n  if ( !this.isActive ) {\n    return;\n  }\n  this.element.classList.remove('flickity-enabled');\n  this.element.classList.remove('flickity-rtl');\n  this.unselectSelectedSlide();\n  // destroy cells\n  this.cells.forEach( function( cell ) {\n    cell.destroy();\n  } );\n  this.element.removeChild( this.viewport );\n  // move child elements back into element\n  moveElements( this.slider.children, this.element );\n  if ( this.options.accessibility ) {\n    this.element.removeAttribute('tabIndex');\n    this.element.removeEventListener( 'keydown', this );\n  }\n  // set flags\n  this.isActive = false;\n  this.emitEvent('deactivate');\n};\n\nproto.destroy = function() {\n  this.deactivate();\n  window.removeEventListener( 'resize', this );\n  this.allOff();\n  this.emitEvent('destroy');\n  if ( jQuery && this.$element ) {\n    jQuery.removeData( this.element, 'flickity' );\n  }\n  delete this.element.flickityGUID;\n  delete instances[ this.guid ];\n};\n\n// -------------------------- prototype -------------------------- //\n\nutils.extend( proto, animatePrototype );\n\n// -------------------------- extras -------------------------- //\n\n/**\n * get Flickity instance from element\n * @param {[Element, String]} elem - element or selector string\n * @returns {Flickity} - Flickity instance\n */\nFlickity.data = function( elem ) {\n  elem = utils.getQueryElement( elem );\n  var id = elem && elem.flickityGUID;\n  return id && instances[ id ];\n};\n\nutils.htmlInit( Flickity, 'flickity' );\n\nif ( jQuery && jQuery.bridget ) {\n  jQuery.bridget( 'flickity', Flickity );\n}\n\n// set internal jQuery, for Webpack + jQuery v3, #478\nFlickity.setJQuery = function( jq ) {\n  jQuery = jq;\n};\n\nFlickity.Cell = Cell;\nFlickity.Slide = Slide;\n\nreturn Flickity;\n\n} ) );\n","/*!\n * Flickity v2.3.0\n * Touch, responsive, flickable carousels\n *\n * Licensed GPLv3 for open source use\n * or Flickity Commercial License for commercial use\n *\n * https://flickity.metafizzy.co\n * Copyright 2015-2021 Metafizzy\n */\n\n( function( window, factory ) {\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      './flickity',\n      './drag',\n      './prev-next-button',\n      './page-dots',\n      './player',\n      './add-remove-cell',\n      './lazyload',\n    ], factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n        require('./flickity'),\n        require('./drag'),\n        require('./prev-next-button'),\n        require('./page-dots'),\n        require('./player'),\n        require('./add-remove-cell'),\n        require('./lazyload')\n    );\n  }\n\n} )( window, function factory( Flickity ) {\n  return Flickity;\n} );\n","// lazyload\n( function( window, factory ) {\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      './flickity',\n      'fizzy-ui-utils/utils',\n    ], function( Flickity, utils ) {\n      return factory( window, Flickity, utils );\n    } );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n        window,\n        require('./flickity'),\n        require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n        window,\n        window.Flickity,\n        window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, utils ) {\n'use strict';\n\nFlickity.createMethods.push('_createLazyload');\nvar proto = Flickity.prototype;\n\nproto._createLazyload = function() {\n  this.on( 'select', this.lazyLoad );\n};\n\nproto.lazyLoad = function() {\n  var lazyLoad = this.options.lazyLoad;\n  if ( !lazyLoad ) {\n    return;\n  }\n  // get adjacent cells, use lazyLoad option for adjacent count\n  var adjCount = typeof lazyLoad == 'number' ? lazyLoad : 0;\n  var cellElems = this.getAdjacentCellElements( adjCount );\n  // get lazy images in those cells\n  var lazyImages = [];\n  cellElems.forEach( function( cellElem ) {\n    var lazyCellImages = getCellLazyImages( cellElem );\n    lazyImages = lazyImages.concat( lazyCellImages );\n  } );\n  // load lazy images\n  lazyImages.forEach( function( img ) {\n    new LazyLoader( img, this );\n  }, this );\n};\n\nfunction getCellLazyImages( cellElem ) {\n  // check if cell element is lazy image\n  if ( cellElem.nodeName == 'IMG' ) {\n    var lazyloadAttr = cellElem.getAttribute('data-flickity-lazyload');\n    var srcAttr = cellElem.getAttribute('data-flickity-lazyload-src');\n    var srcsetAttr = cellElem.getAttribute('data-flickity-lazyload-srcset');\n    if ( lazyloadAttr || srcAttr || srcsetAttr ) {\n      return [ cellElem ];\n    }\n  }\n  // select lazy images in cell\n  var lazySelector = 'img[data-flickity-lazyload], ' +\n    'img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]';\n  var imgs = cellElem.querySelectorAll( lazySelector );\n  return utils.makeArray( imgs );\n}\n\n// -------------------------- LazyLoader -------------------------- //\n\n/**\n * class to handle loading images\n * @param {Image} img - Image element\n * @param {Flickity} flickity - Flickity instance\n */\nfunction LazyLoader( img, flickity ) {\n  this.img = img;\n  this.flickity = flickity;\n  this.load();\n}\n\nLazyLoader.prototype.handleEvent = utils.handleEvent;\n\nLazyLoader.prototype.load = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  // get src & srcset\n  var src = this.img.getAttribute('data-flickity-lazyload') ||\n    this.img.getAttribute('data-flickity-lazyload-src');\n  var srcset = this.img.getAttribute('data-flickity-lazyload-srcset');\n  // set src & serset\n  this.img.src = src;\n  if ( srcset ) {\n    this.img.setAttribute( 'srcset', srcset );\n  }\n  // remove attr\n  this.img.removeAttribute('data-flickity-lazyload');\n  this.img.removeAttribute('data-flickity-lazyload-src');\n  this.img.removeAttribute('data-flickity-lazyload-srcset');\n};\n\nLazyLoader.prototype.onload = function( event ) {\n  this.complete( event, 'flickity-lazyloaded' );\n};\n\nLazyLoader.prototype.onerror = function( event ) {\n  this.complete( event, 'flickity-lazyerror' );\n};\n\nLazyLoader.prototype.complete = function( event, className ) {\n  // unbind events\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n\n  var cell = this.flickity.getParentCell( this.img );\n  var cellElem = cell && cell.element;\n  this.flickity.cellSizeChange( cellElem );\n\n  this.img.classList.add( className );\n  this.flickity.dispatchEvent( 'lazyLoad', event, cellElem );\n};\n\n// -----  ----- //\n\nFlickity.LazyLoader = LazyLoader;\n\nreturn Flickity;\n\n} ) );\n","// page dots\n( function( window, factory ) {\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      './flickity',\n      'unipointer/unipointer',\n      'fizzy-ui-utils/utils',\n    ], function( Flickity, Unipointer, utils ) {\n      return factory( window, Flickity, Unipointer, utils );\n    } );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n        window,\n        require('./flickity'),\n        require('unipointer'),\n        require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n        window,\n        window.Flickity,\n        window.Unipointer,\n        window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, Unipointer, utils ) {\n\n// -------------------------- PageDots -------------------------- //\n\n'use strict';\n\nfunction PageDots( parent ) {\n  this.parent = parent;\n  this._create();\n}\n\nPageDots.prototype = Object.create( Unipointer.prototype );\n\nPageDots.prototype._create = function() {\n  // create holder element\n  this.holder = document.createElement('ol');\n  this.holder.className = 'flickity-page-dots';\n  // create dots, array of elements\n  this.dots = [];\n  // events\n  this.handleClick = this.onClick.bind( this );\n  this.on( 'pointerDown', this.parent.childUIPointerDown.bind( this.parent ) );\n};\n\nPageDots.prototype.activate = function() {\n  this.setDots();\n  this.holder.addEventListener( 'click', this.handleClick );\n  this.bindStartEvent( this.holder );\n  // add to DOM\n  this.parent.element.appendChild( this.holder );\n};\n\nPageDots.prototype.deactivate = function() {\n  this.holder.removeEventListener( 'click', this.handleClick );\n  this.unbindStartEvent( this.holder );\n  // remove from DOM\n  this.parent.element.removeChild( this.holder );\n};\n\nPageDots.prototype.setDots = function() {\n  // get difference between number of slides and number of dots\n  var delta = this.parent.slides.length - this.dots.length;\n  if ( delta > 0 ) {\n    this.addDots( delta );\n  } else if ( delta < 0 ) {\n    this.removeDots( -delta );\n  }\n};\n\nPageDots.prototype.addDots = function( count ) {\n  var fragment = document.createDocumentFragment();\n  var newDots = [];\n  var length = this.dots.length;\n  var max = length + count;\n\n  for ( var i = length; i < max; i++ ) {\n    var dot = document.createElement('li');\n    dot.className = 'dot';\n    dot.setAttribute( 'aria-label', 'Page dot ' + ( i + 1 ) );\n    fragment.appendChild( dot );\n    newDots.push( dot );\n  }\n\n  this.holder.appendChild( fragment );\n  this.dots = this.dots.concat( newDots );\n};\n\nPageDots.prototype.removeDots = function( count ) {\n  // remove from this.dots collection\n  var removeDots = this.dots.splice( this.dots.length - count, count );\n  // remove from DOM\n  removeDots.forEach( function( dot ) {\n    this.holder.removeChild( dot );\n  }, this );\n};\n\nPageDots.prototype.updateSelected = function() {\n  // remove selected class on previous\n  if ( this.selectedDot ) {\n    this.selectedDot.className = 'dot';\n    this.selectedDot.removeAttribute('aria-current');\n  }\n  // don't proceed if no dots\n  if ( !this.dots.length ) {\n    return;\n  }\n  this.selectedDot = this.dots[ this.parent.selectedIndex ];\n  this.selectedDot.className = 'dot is-selected';\n  this.selectedDot.setAttribute( 'aria-current', 'step' );\n};\n\nPageDots.prototype.onTap = // old method name, backwards-compatible\nPageDots.prototype.onClick = function( event ) {\n  var target = event.target;\n  // only care about dot clicks\n  if ( target.nodeName != 'LI' ) {\n    return;\n  }\n\n  this.parent.uiChange();\n  var index = this.dots.indexOf( target );\n  this.parent.select( index );\n};\n\nPageDots.prototype.destroy = function() {\n  this.deactivate();\n  this.allOff();\n};\n\nFlickity.PageDots = PageDots;\n\n// -------------------------- Flickity -------------------------- //\n\nutils.extend( Flickity.defaults, {\n  pageDots: true,\n} );\n\nFlickity.createMethods.push('_createPageDots');\n\nvar proto = Flickity.prototype;\n\nproto._createPageDots = function() {\n  if ( !this.options.pageDots ) {\n    return;\n  }\n  this.pageDots = new PageDots( this );\n  // events\n  this.on( 'activate', this.activatePageDots );\n  this.on( 'select', this.updateSelectedPageDots );\n  this.on( 'cellChange', this.updatePageDots );\n  this.on( 'resize', this.updatePageDots );\n  this.on( 'deactivate', this.deactivatePageDots );\n};\n\nproto.activatePageDots = function() {\n  this.pageDots.activate();\n};\n\nproto.updateSelectedPageDots = function() {\n  this.pageDots.updateSelected();\n};\n\nproto.updatePageDots = function() {\n  this.pageDots.setDots();\n};\n\nproto.deactivatePageDots = function() {\n  this.pageDots.deactivate();\n};\n\n// -----  ----- //\n\nFlickity.PageDots = PageDots;\n\nreturn Flickity;\n\n} ) );\n","// player & autoPlay\n( function( window, factory ) {\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'ev-emitter/ev-emitter',\n      'fizzy-ui-utils/utils',\n      './flickity',\n    ], function( EvEmitter, utils, Flickity ) {\n      return factory( EvEmitter, utils, Flickity );\n    } );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n        require('ev-emitter'),\n        require('fizzy-ui-utils'),\n        require('./flickity')\n    );\n  } else {\n    // browser global\n    factory(\n        window.EvEmitter,\n        window.fizzyUIUtils,\n        window.Flickity\n    );\n  }\n\n}( window, function factory( EvEmitter, utils, Flickity ) {\n\n'use strict';\n\n// -------------------------- Player -------------------------- //\n\nfunction Player( parent ) {\n  this.parent = parent;\n  this.state = 'stopped';\n  // visibility change event handler\n  this.onVisibilityChange = this.visibilityChange.bind( this );\n  this.onVisibilityPlay = this.visibilityPlay.bind( this );\n}\n\nPlayer.prototype = Object.create( EvEmitter.prototype );\n\n// start play\nPlayer.prototype.play = function() {\n  if ( this.state == 'playing' ) {\n    return;\n  }\n  // do not play if page is hidden, start playing when page is visible\n  var isPageHidden = document.hidden;\n  if ( isPageHidden ) {\n    document.addEventListener( 'visibilitychange', this.onVisibilityPlay );\n    return;\n  }\n\n  this.state = 'playing';\n  // listen to visibility change\n  document.addEventListener( 'visibilitychange', this.onVisibilityChange );\n  // start ticking\n  this.tick();\n};\n\nPlayer.prototype.tick = function() {\n  // do not tick if not playing\n  if ( this.state != 'playing' ) {\n    return;\n  }\n\n  var time = this.parent.options.autoPlay;\n  // default to 3 seconds\n  time = typeof time == 'number' ? time : 3000;\n  var _this = this;\n  // HACK: reset ticks if stopped and started within interval\n  this.clear();\n  this.timeout = setTimeout( function() {\n    _this.parent.next( true );\n    _this.tick();\n  }, time );\n};\n\nPlayer.prototype.stop = function() {\n  this.state = 'stopped';\n  this.clear();\n  // remove visibility change event\n  document.removeEventListener( 'visibilitychange', this.onVisibilityChange );\n};\n\nPlayer.prototype.clear = function() {\n  clearTimeout( this.timeout );\n};\n\nPlayer.prototype.pause = function() {\n  if ( this.state == 'playing' ) {\n    this.state = 'paused';\n    this.clear();\n  }\n};\n\nPlayer.prototype.unpause = function() {\n  // re-start play if paused\n  if ( this.state == 'paused' ) {\n    this.play();\n  }\n};\n\n// pause if page visibility is hidden, unpause if visible\nPlayer.prototype.visibilityChange = function() {\n  var isPageHidden = document.hidden;\n  this[ isPageHidden ? 'pause' : 'unpause' ]();\n};\n\nPlayer.prototype.visibilityPlay = function() {\n  this.play();\n  document.removeEventListener( 'visibilitychange', this.onVisibilityPlay );\n};\n\n// -------------------------- Flickity -------------------------- //\n\nutils.extend( Flickity.defaults, {\n  pauseAutoPlayOnHover: true,\n} );\n\nFlickity.createMethods.push('_createPlayer');\nvar proto = Flickity.prototype;\n\nproto._createPlayer = function() {\n  this.player = new Player( this );\n\n  this.on( 'activate', this.activatePlayer );\n  this.on( 'uiChange', this.stopPlayer );\n  this.on( 'pointerDown', this.stopPlayer );\n  this.on( 'deactivate', this.deactivatePlayer );\n};\n\nproto.activatePlayer = function() {\n  if ( !this.options.autoPlay ) {\n    return;\n  }\n  this.player.play();\n  this.element.addEventListener( 'mouseenter', this );\n};\n\n// Player API, don't hate the ... thanks I know where the door is\n\nproto.playPlayer = function() {\n  this.player.play();\n};\n\nproto.stopPlayer = function() {\n  this.player.stop();\n};\n\nproto.pausePlayer = function() {\n  this.player.pause();\n};\n\nproto.unpausePlayer = function() {\n  this.player.unpause();\n};\n\nproto.deactivatePlayer = function() {\n  this.player.stop();\n  this.element.removeEventListener( 'mouseenter', this );\n};\n\n// ----- mouseenter/leave ----- //\n\n// pause auto-play on hover\nproto.onmouseenter = function() {\n  if ( !this.options.pauseAutoPlayOnHover ) {\n    return;\n  }\n  this.player.pause();\n  this.element.addEventListener( 'mouseleave', this );\n};\n\n// resume auto-play on hover off\nproto.onmouseleave = function() {\n  this.player.unpause();\n  this.element.removeEventListener( 'mouseleave', this );\n};\n\n// -----  ----- //\n\nFlickity.Player = Player;\n\nreturn Flickity;\n\n} ) );\n","// prev/next buttons\n( function( window, factory ) {\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      './flickity',\n      'unipointer/unipointer',\n      'fizzy-ui-utils/utils',\n    ], function( Flickity, Unipointer, utils ) {\n      return factory( window, Flickity, Unipointer, utils );\n    } );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n        window,\n        require('./flickity'),\n        require('unipointer'),\n        require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n        window,\n        window.Flickity,\n        window.Unipointer,\n        window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, Unipointer, utils ) {\n'use strict';\n\nvar svgURI = 'http://www.w3.org/2000/svg';\n\n// -------------------------- PrevNextButton -------------------------- //\n\nfunction PrevNextButton( direction, parent ) {\n  this.direction = direction;\n  this.parent = parent;\n  this._create();\n}\n\nPrevNextButton.prototype = Object.create( Unipointer.prototype );\n\nPrevNextButton.prototype._create = function() {\n  // properties\n  this.isEnabled = true;\n  this.isPrevious = this.direction == -1;\n  var leftDirection = this.parent.options.rightToLeft ? 1 : -1;\n  this.isLeft = this.direction == leftDirection;\n\n  var element = this.element = document.createElement('button');\n  element.className = 'flickity-button flickity-prev-next-button';\n  element.className += this.isPrevious ? ' previous' : ' next';\n  // prevent button from submitting form http://stackoverflow.com/a/10836076/182183\n  element.setAttribute( 'type', 'button' );\n  // init as disabled\n  this.disable();\n\n  element.setAttribute( 'aria-label', this.isPrevious ? 'Previous' : 'Next' );\n\n  // create arrow\n  var svg = this.createSVG();\n  element.appendChild( svg );\n  // events\n  this.parent.on( 'select', this.update.bind( this ) );\n  this.on( 'pointerDown', this.parent.childUIPointerDown.bind( this.parent ) );\n};\n\nPrevNextButton.prototype.activate = function() {\n  this.bindStartEvent( this.element );\n  this.element.addEventListener( 'click', this );\n  // add to DOM\n  this.parent.element.appendChild( this.element );\n};\n\nPrevNextButton.prototype.deactivate = function() {\n  // remove from DOM\n  this.parent.element.removeChild( this.element );\n  // click events\n  this.unbindStartEvent( this.element );\n  this.element.removeEventListener( 'click', this );\n};\n\nPrevNextButton.prototype.createSVG = function() {\n  var svg = document.createElementNS( svgURI, 'svg' );\n  svg.setAttribute( 'class', 'flickity-button-icon' );\n  svg.setAttribute( 'viewBox', '0 0 100 100' );\n  var path = document.createElementNS( svgURI, 'path' );\n  var pathMovements = getArrowMovements( this.parent.options.arrowShape );\n  path.setAttribute( 'd', pathMovements );\n  path.setAttribute( 'class', 'arrow' );\n  // rotate arrow\n  if ( !this.isLeft ) {\n    path.setAttribute( 'transform', 'translate(100, 100) rotate(180) ' );\n  }\n  svg.appendChild( path );\n  return svg;\n};\n\n// get SVG path movmement\nfunction getArrowMovements( shape ) {\n  // use shape as movement if string\n  if ( typeof shape == 'string' ) {\n    return shape;\n  }\n  // create movement string\n  return 'M ' + shape.x0 + ',50' +\n    ' L ' + shape.x1 + ',' + ( shape.y1 + 50 ) +\n    ' L ' + shape.x2 + ',' + ( shape.y2 + 50 ) +\n    ' L ' + shape.x3 + ',50 ' +\n    ' L ' + shape.x2 + ',' + ( 50 - shape.y2 ) +\n    ' L ' + shape.x1 + ',' + ( 50 - shape.y1 ) +\n    ' Z';\n}\n\nPrevNextButton.prototype.handleEvent = utils.handleEvent;\n\nPrevNextButton.prototype.onclick = function() {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  this.parent.uiChange();\n  var method = this.isPrevious ? 'previous' : 'next';\n  this.parent[ method ]();\n};\n\n// -----  ----- //\n\nPrevNextButton.prototype.enable = function() {\n  if ( this.isEnabled ) {\n    return;\n  }\n  this.element.disabled = false;\n  this.isEnabled = true;\n};\n\nPrevNextButton.prototype.disable = function() {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  this.element.disabled = true;\n  this.isEnabled = false;\n};\n\nPrevNextButton.prototype.update = function() {\n  // index of first or last slide, if previous or next\n  var slides = this.parent.slides;\n  // enable is wrapAround and at least 2 slides\n  if ( this.parent.options.wrapAround && slides.length > 1 ) {\n    this.enable();\n    return;\n  }\n  var lastIndex = slides.length ? slides.length - 1 : 0;\n  var boundIndex = this.isPrevious ? 0 : lastIndex;\n  var method = this.parent.selectedIndex == boundIndex ? 'disable' : 'enable';\n  this[ method ]();\n};\n\nPrevNextButton.prototype.destroy = function() {\n  this.deactivate();\n  this.allOff();\n};\n\n// -------------------------- Flickity prototype -------------------------- //\n\nutils.extend( Flickity.defaults, {\n  prevNextButtons: true,\n  arrowShape: {\n    x0: 10,\n    x1: 60, y1: 50,\n    x2: 70, y2: 40,\n    x3: 30,\n  },\n} );\n\nFlickity.createMethods.push('_createPrevNextButtons');\nvar proto = Flickity.prototype;\n\nproto._createPrevNextButtons = function() {\n  if ( !this.options.prevNextButtons ) {\n    return;\n  }\n\n  this.prevButton = new PrevNextButton( -1, this );\n  this.nextButton = new PrevNextButton( 1, this );\n\n  this.on( 'activate', this.activatePrevNextButtons );\n};\n\nproto.activatePrevNextButtons = function() {\n  this.prevButton.activate();\n  this.nextButton.activate();\n  this.on( 'deactivate', this.deactivatePrevNextButtons );\n};\n\nproto.deactivatePrevNextButtons = function() {\n  this.prevButton.deactivate();\n  this.nextButton.deactivate();\n  this.off( 'deactivate', this.deactivatePrevNextButtons );\n};\n\n// --------------------------  -------------------------- //\n\nFlickity.PrevNextButton = PrevNextButton;\n\nreturn Flickity;\n\n} ) );\n","// slide\n( function( window, factory ) {\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.Slide = factory();\n  }\n\n}( window, function factory() {\n'use strict';\n\nfunction Slide( parent ) {\n  this.parent = parent;\n  this.isOriginLeft = parent.originSide == 'left';\n  this.cells = [];\n  this.outerWidth = 0;\n  this.height = 0;\n}\n\nvar proto = Slide.prototype;\n\nproto.addCell = function( cell ) {\n  this.cells.push( cell );\n  this.outerWidth += cell.size.outerWidth;\n  this.height = Math.max( cell.size.outerHeight, this.height );\n  // first cell stuff\n  if ( this.cells.length == 1 ) {\n    this.x = cell.x; // x comes from first cell\n    var beginMargin = this.isOriginLeft ? 'marginLeft' : 'marginRight';\n    this.firstMargin = cell.size[ beginMargin ];\n  }\n};\n\nproto.updateTarget = function() {\n  var endMargin = this.isOriginLeft ? 'marginRight' : 'marginLeft';\n  var lastCell = this.getLastCell();\n  var lastMargin = lastCell ? lastCell.size[ endMargin ] : 0;\n  var slideWidth = this.outerWidth - ( this.firstMargin + lastMargin );\n  this.target = this.x + this.firstMargin + slideWidth * this.parent.cellAlign;\n};\n\nproto.getLastCell = function() {\n  return this.cells[ this.cells.length - 1 ];\n};\n\nproto.select = function() {\n  this.cells.forEach( function( cell ) {\n    cell.select();\n  } );\n};\n\nproto.unselect = function() {\n  this.cells.forEach( function( cell ) {\n    cell.unselect();\n  } );\n};\n\nproto.getCellElements = function() {\n  return this.cells.map( function( cell ) {\n    return cell.element;\n  } );\n};\n\nreturn Slide;\n\n} ) );\n","/*!\n * getSize v2.0.3\n * measure size of elements\n * MIT license\n */\n\n/* jshint browser: true, strict: true, undef: true, unused: true */\n/* globals console: false */\n\n( function( window, factory ) {\n  /* jshint strict: false */ /* globals define, module */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.getSize = factory();\n  }\n\n})( window, function factory() {\n'use strict';\n\n// -------------------------- helpers -------------------------- //\n\n// get a number from a string, not a percentage\nfunction getStyleSize( value ) {\n  var num = parseFloat( value );\n  // not a percent like '100%', and a number\n  var isValid = value.indexOf('%') == -1 && !isNaN( num );\n  return isValid && num;\n}\n\nfunction noop() {}\n\nvar logError = typeof console == 'undefined' ? noop :\n  function( message ) {\n    console.error( message );\n  };\n\n// -------------------------- measurements -------------------------- //\n\nvar measurements = [\n  'paddingLeft',\n  'paddingRight',\n  'paddingTop',\n  'paddingBottom',\n  'marginLeft',\n  'marginRight',\n  'marginTop',\n  'marginBottom',\n  'borderLeftWidth',\n  'borderRightWidth',\n  'borderTopWidth',\n  'borderBottomWidth'\n];\n\nvar measurementsLength = measurements.length;\n\nfunction getZeroSize() {\n  var size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    size[ measurement ] = 0;\n  }\n  return size;\n}\n\n// -------------------------- getStyle -------------------------- //\n\n/**\n * getStyle, get style of element, check for Firefox bug\n * https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n */\nfunction getStyle( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    logError( 'Style returned ' + style +\n      '. Are you running this code in a hidden iframe on Firefox? ' +\n      'See https://bit.ly/getsizebug1' );\n  }\n  return style;\n}\n\n// -------------------------- setup -------------------------- //\n\nvar isSetup = false;\n\nvar isBoxSizeOuter;\n\n/**\n * setup\n * check isBoxSizerOuter\n * do on first getSize() rather than on page load for Firefox bug\n */\nfunction setup() {\n  // setup once\n  if ( isSetup ) {\n    return;\n  }\n  isSetup = true;\n\n  // -------------------------- box sizing -------------------------- //\n\n  /**\n   * Chrome & Safari measure the outer-width on style.width on border-box elems\n   * IE11 & Firefox<29 measures the inner-width\n   */\n  var div = document.createElement('div');\n  div.style.width = '200px';\n  div.style.padding = '1px 2px 3px 4px';\n  div.style.borderStyle = 'solid';\n  div.style.borderWidth = '1px 2px 3px 4px';\n  div.style.boxSizing = 'border-box';\n\n  var body = document.body || document.documentElement;\n  body.appendChild( div );\n  var style = getStyle( div );\n  // round value for browser zoom. desandro/masonry#928\n  isBoxSizeOuter = Math.round( getStyleSize( style.width ) ) == 200;\n  getSize.isBoxSizeOuter = isBoxSizeOuter;\n\n  body.removeChild( div );\n}\n\n// -------------------------- getSize -------------------------- //\n\nfunction getSize( elem ) {\n  setup();\n\n  // use querySeletor if elem is string\n  if ( typeof elem == 'string' ) {\n    elem = document.querySelector( elem );\n  }\n\n  // do not proceed on non-objects\n  if ( !elem || typeof elem != 'object' || !elem.nodeType ) {\n    return;\n  }\n\n  var style = getStyle( elem );\n\n  // if hidden, everything is 0\n  if ( style.display == 'none' ) {\n    return getZeroSize();\n  }\n\n  var size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n\n  var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box';\n\n  // get all measurements\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    var value = style[ measurement ];\n    var num = parseFloat( value );\n    // any 'auto', 'medium' value will be 0\n    size[ measurement ] = !isNaN( num ) ? num : 0;\n  }\n\n  var paddingWidth = size.paddingLeft + size.paddingRight;\n  var paddingHeight = size.paddingTop + size.paddingBottom;\n  var marginWidth = size.marginLeft + size.marginRight;\n  var marginHeight = size.marginTop + size.marginBottom;\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n\n  var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;\n\n  // overwrite width and height if we can get it from style\n  var styleWidth = getStyleSize( style.width );\n  if ( styleWidth !== false ) {\n    size.width = styleWidth +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth );\n  }\n\n  var styleHeight = getStyleSize( style.height );\n  if ( styleHeight !== false ) {\n    size.height = styleHeight +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight );\n  }\n\n  size.innerWidth = size.width - ( paddingWidth + borderWidth );\n  size.innerHeight = size.height - ( paddingHeight + borderHeight );\n\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n\n  return size;\n}\n\nreturn getSize;\n\n});\n","/*!\n * imagesLoaded v4.1.4\n * JavaScript is all like \"You images are done yet or what?\"\n * MIT License\n */\n\n( function( window, factory ) { 'use strict';\n  // universal module definition\n\n  /*global define: false, module: false, require: false */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'ev-emitter/ev-emitter'\n    ], function( EvEmitter ) {\n      return factory( window, EvEmitter );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter')\n    );\n  } else {\n    // browser global\n    window.imagesLoaded = factory(\n      window,\n      window.EvEmitter\n    );\n  }\n\n})( typeof window !== 'undefined' ? window : this,\n\n// --------------------------  factory -------------------------- //\n\nfunction factory( window, EvEmitter ) {\n\n'use strict';\n\nvar $ = window.jQuery;\nvar console = window.console;\n\n// -------------------------- helpers -------------------------- //\n\n// extend objects\nfunction extend( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n}\n\nvar arraySlice = Array.prototype.slice;\n\n// turn element or nodeList into an array\nfunction makeArray( obj ) {\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    return obj;\n  }\n\n  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  if ( isArrayLike ) {\n    // convert nodeList to array\n    return arraySlice.call( obj );\n  }\n\n  // array of single index\n  return [ obj ];\n}\n\n// -------------------------- imagesLoaded -------------------------- //\n\n/**\n * @param {Array, Element, NodeList, String} elem\n * @param {Object or Function} options - if function, use as callback\n * @param {Function} onAlways - callback function\n */\nfunction ImagesLoaded( elem, options, onAlways ) {\n  // coerce ImagesLoaded() without new, to be new ImagesLoaded()\n  if ( !( this instanceof ImagesLoaded ) ) {\n    return new ImagesLoaded( elem, options, onAlways );\n  }\n  // use elem as selector string\n  var queryElem = elem;\n  if ( typeof elem == 'string' ) {\n    queryElem = document.querySelectorAll( elem );\n  }\n  // bail if bad element\n  if ( !queryElem ) {\n    console.error( 'Bad element for imagesLoaded ' + ( queryElem || elem ) );\n    return;\n  }\n\n  this.elements = makeArray( queryElem );\n  this.options = extend( {}, this.options );\n  // shift arguments if no options set\n  if ( typeof options == 'function' ) {\n    onAlways = options;\n  } else {\n    extend( this.options, options );\n  }\n\n  if ( onAlways ) {\n    this.on( 'always', onAlways );\n  }\n\n  this.getImages();\n\n  if ( $ ) {\n    // add jQuery Deferred object\n    this.jqDeferred = new $.Deferred();\n  }\n\n  // HACK check async to allow time to bind listeners\n  setTimeout( this.check.bind( this ) );\n}\n\nImagesLoaded.prototype = Object.create( EvEmitter.prototype );\n\nImagesLoaded.prototype.options = {};\n\nImagesLoaded.prototype.getImages = function() {\n  this.images = [];\n\n  // filter & find items if we have an item selector\n  this.elements.forEach( this.addElementImages, this );\n};\n\n/**\n * @param {Node} element\n */\nImagesLoaded.prototype.addElementImages = function( elem ) {\n  // filter siblings\n  if ( elem.nodeName == 'IMG' ) {\n    this.addImage( elem );\n  }\n  // get background image on element\n  if ( this.options.background === true ) {\n    this.addElementBackgroundImages( elem );\n  }\n\n  // find children\n  // no non-element nodes, #143\n  var nodeType = elem.nodeType;\n  if ( !nodeType || !elementNodeTypes[ nodeType ] ) {\n    return;\n  }\n  var childImgs = elem.querySelectorAll('img');\n  // concat childElems to filterFound array\n  for ( var i=0; i < childImgs.length; i++ ) {\n    var img = childImgs[i];\n    this.addImage( img );\n  }\n\n  // get child background images\n  if ( typeof this.options.background == 'string' ) {\n    var children = elem.querySelectorAll( this.options.background );\n    for ( i=0; i < children.length; i++ ) {\n      var child = children[i];\n      this.addElementBackgroundImages( child );\n    }\n  }\n};\n\nvar elementNodeTypes = {\n  1: true,\n  9: true,\n  11: true\n};\n\nImagesLoaded.prototype.addElementBackgroundImages = function( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    // Firefox returns null if in a hidden iframe https://bugzil.la/548397\n    return;\n  }\n  // get url inside url(\"...\")\n  var reURL = /url\\((['\"])?(.*?)\\1\\)/gi;\n  var matches = reURL.exec( style.backgroundImage );\n  while ( matches !== null ) {\n    var url = matches && matches[2];\n    if ( url ) {\n      this.addBackground( url, elem );\n    }\n    matches = reURL.exec( style.backgroundImage );\n  }\n};\n\n/**\n * @param {Image} img\n */\nImagesLoaded.prototype.addImage = function( img ) {\n  var loadingImage = new LoadingImage( img );\n  this.images.push( loadingImage );\n};\n\nImagesLoaded.prototype.addBackground = function( url, elem ) {\n  var background = new Background( url, elem );\n  this.images.push( background );\n};\n\nImagesLoaded.prototype.check = function() {\n  var _this = this;\n  this.progressedCount = 0;\n  this.hasAnyBroken = false;\n  // complete if no images\n  if ( !this.images.length ) {\n    this.complete();\n    return;\n  }\n\n  function onProgress( image, elem, message ) {\n    // HACK - Chrome triggers event before object properties have changed. #83\n    setTimeout( function() {\n      _this.progress( image, elem, message );\n    });\n  }\n\n  this.images.forEach( function( loadingImage ) {\n    loadingImage.once( 'progress', onProgress );\n    loadingImage.check();\n  });\n};\n\nImagesLoaded.prototype.progress = function( image, elem, message ) {\n  this.progressedCount++;\n  this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded;\n  // progress event\n  this.emitEvent( 'progress', [ this, image, elem ] );\n  if ( this.jqDeferred && this.jqDeferred.notify ) {\n    this.jqDeferred.notify( this, image );\n  }\n  // check if completed\n  if ( this.progressedCount == this.images.length ) {\n    this.complete();\n  }\n\n  if ( this.options.debug && console ) {\n    console.log( 'progress: ' + message, image, elem );\n  }\n};\n\nImagesLoaded.prototype.complete = function() {\n  var eventName = this.hasAnyBroken ? 'fail' : 'done';\n  this.isComplete = true;\n  this.emitEvent( eventName, [ this ] );\n  this.emitEvent( 'always', [ this ] );\n  if ( this.jqDeferred ) {\n    var jqMethod = this.hasAnyBroken ? 'reject' : 'resolve';\n    this.jqDeferred[ jqMethod ]( this );\n  }\n};\n\n// --------------------------  -------------------------- //\n\nfunction LoadingImage( img ) {\n  this.img = img;\n}\n\nLoadingImage.prototype = Object.create( EvEmitter.prototype );\n\nLoadingImage.prototype.check = function() {\n  // If complete is true and browser supports natural sizes,\n  // try to check for image status manually.\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    // report based on naturalWidth\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    return;\n  }\n\n  // If none of the checks above matched, simulate loading on detached element.\n  this.proxyImage = new Image();\n  this.proxyImage.addEventListener( 'load', this );\n  this.proxyImage.addEventListener( 'error', this );\n  // bind to image as well for Firefox. #191\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.proxyImage.src = this.img.src;\n};\n\nLoadingImage.prototype.getIsImageComplete = function() {\n  // check for non-zero, non-undefined naturalWidth\n  // fixes Safari+InfiniteScroll+Masonry bug infinite-scroll#671\n  return this.img.complete && this.img.naturalWidth;\n};\n\nLoadingImage.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.img, message ] );\n};\n\n// ----- events ----- //\n\n// trigger specified handler for event type\nLoadingImage.prototype.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\nLoadingImage.prototype.onload = function() {\n  this.confirm( true, 'onload' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.onerror = function() {\n  this.confirm( false, 'onerror' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.unbindEvents = function() {\n  this.proxyImage.removeEventListener( 'load', this );\n  this.proxyImage.removeEventListener( 'error', this );\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\n// -------------------------- Background -------------------------- //\n\nfunction Background( url, element ) {\n  this.url = url;\n  this.element = element;\n  this.img = new Image();\n}\n\n// inherit LoadingImage prototype\nBackground.prototype = Object.create( LoadingImage.prototype );\n\nBackground.prototype.check = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.img.src = this.url;\n  // check if image is already complete\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    this.unbindEvents();\n  }\n};\n\nBackground.prototype.unbindEvents = function() {\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\nBackground.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.element, message ] );\n};\n\n// -------------------------- jQuery -------------------------- //\n\nImagesLoaded.makeJQueryPlugin = function( jQuery ) {\n  jQuery = jQuery || window.jQuery;\n  if ( !jQuery ) {\n    return;\n  }\n  // set local variable\n  $ = jQuery;\n  // $().imagesLoaded()\n  $.fn.imagesLoaded = function( options, callback ) {\n    var instance = new ImagesLoaded( this, options, callback );\n    return instance.jqDeferred.promise( $(this) );\n  };\n};\n// try making plugin\nImagesLoaded.makeJQueryPlugin();\n\n// --------------------------  -------------------------- //\n\nreturn ImagesLoaded;\n\n});\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n  var has = Function.call.bind(Object.prototype.hasOwnProperty);\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          );\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\ncheckPropTypes.resetWarningCache = function() {\n  if (process.env.NODE_ENV !== 'production') {\n    loggedTypeFailures = {};\n  }\n}\n\nmodule.exports = checkPropTypes;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactIs = require('react-is');\nvar assign = require('object-assign');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar checkPropTypes = require('./checkPropTypes');\n\nvar has = Function.call.bind(Object.prototype.hasOwnProperty);\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error(\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            printWarning(\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `' + propFullName + '` prop on `' + componentName  + '`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!ReactIs.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (arguments.length > 1) {\n          printWarning(\n            'Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' +\n            'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).'\n          );\n        } else {\n          printWarning('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n        if (type === 'symbol') {\n          return String(value);\n        }\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (has(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        printWarning(\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'\n        );\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from\n      // props.\n      var allKeys = assign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // falsy value can't be a Symbol\n    if (!propValue) {\n      return false;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactDom = require(\"react-dom\");\n\nvar _imagesloaded = _interopRequireDefault(require(\"imagesloaded\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nvar FlickityComponent = /*#__PURE__*/function (_Component) {\n  _inherits(FlickityComponent, _Component);\n\n  var _super = _createSuper(FlickityComponent);\n\n  function FlickityComponent(props) {\n    var _this;\n\n    _classCallCheck(this, FlickityComponent);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      flickityReady: false,\n      flickityCreated: false,\n      cellCount: 0\n    };\n    _this.carousel = null;\n    _this.flkty = null;\n    return _this;\n  }\n\n  _createClass(FlickityComponent, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          children = _this$props.children,\n          _this$props$options = _this$props.options,\n          draggable = _this$props$options.draggable,\n          initialIndex = _this$props$options.initialIndex,\n          reloadOnUpdate = _this$props.reloadOnUpdate,\n          disableImagesLoaded = _this$props.disableImagesLoaded;\n      var flickityReady = this.state.flickityReady;\n\n      if (reloadOnUpdate || !prevState.flickityReady && flickityReady) {\n        var isActive = this.flkty.isActive;\n        this.flkty.deactivate();\n        this.flkty.selectedIndex = initialIndex || 0;\n        this.flkty.options.draggable = draggable === undefined ? children ? children.length > 1 : false : draggable;\n        if (isActive) this.flkty.activate();\n\n        if (!disableImagesLoaded && this.carousel) {\n          (0, _imagesloaded[\"default\"])(this.carousel, function () {\n            _this2.flkty.reloadCells();\n          });\n        }\n      } else {\n        this.flkty.reloadCells();\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (!canUseDOM) return null;\n\n      var Flickity = require('flickity');\n\n      var _this$props2 = this.props,\n          flickityRef = _this$props2.flickityRef,\n          options = _this$props2.options;\n      this.flkty = new Flickity(this.carousel, options);\n      if (flickityRef) flickityRef(this.flkty);\n\n      if (this.props[\"static\"]) {\n        this.setReady();\n      } else {\n        this.setState({\n          flickityCreated: true\n        });\n      }\n    }\n  }, {\n    key: \"setReady\",\n    value: function setReady() {\n      var _this3 = this;\n\n      if (this.state.flickityReady) return;\n\n      var setFlickityToReady = function setFlickityToReady() {\n        return _this3.setState({\n          flickityReady: true\n        });\n      };\n\n      if (this.props.disableImagesLoaded) setFlickityToReady();else (0, _imagesloaded[\"default\"])(this.carousel, setFlickityToReady);\n    }\n  }, {\n    key: \"renderPortal\",\n    value: function renderPortal() {\n      var _this4 = this;\n\n      if (!this.carousel) return null;\n      var mountNode = this.carousel.querySelector('.flickity-slider');\n\n      if (mountNode) {\n        var element = /*#__PURE__*/(0, _reactDom.createPortal)(this.props.children, mountNode);\n        setTimeout(function () {\n          return _this4.setReady();\n        }, 0);\n        return element;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(this.props.elementType, {\n        className: this.props.className,\n        ref: function ref(c) {\n          _this5.carousel = c;\n        }\n      }, this.props[\"static\"] ? this.props.children : this.renderPortal());\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      var cellCount = _react[\"default\"].Children.count(props.children);\n\n      if (cellCount !== state.cellCount) return {\n        flickityReady: false,\n        cellCount: cellCount\n      };\n      return null;\n    }\n  }]);\n\n  return FlickityComponent;\n}(_react.Component);\n\nFlickityComponent.propTypes = {\n  children: _propTypes[\"default\"].array,\n  className: _propTypes[\"default\"].string,\n  disableImagesLoaded: _propTypes[\"default\"].bool,\n  elementType: _propTypes[\"default\"].string,\n  flickityRef: _propTypes[\"default\"].func,\n  options: _propTypes[\"default\"].object,\n  reloadOnUpdate: _propTypes[\"default\"].bool,\n  \"static\": _propTypes[\"default\"].bool\n};\nFlickityComponent.defaultProps = {\n  className: '',\n  disableImagesLoaded: false,\n  elementType: 'div',\n  options: {},\n  reloadOnUpdate: false,\n  \"static\": false\n};\nvar _default = FlickityComponent;\nexports[\"default\"] = _default;\nmodule.exports = exports.default;\n//# sourceMappingURL=index.js.map","/** @license React v16.13.1\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n// (unstable) APIs that have been removed. Can we remove the symbols?\n\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\nvar REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\nvar REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\nvar REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\nvar REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n}\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n\n              default:\n                return $$typeof;\n            }\n\n        }\n\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n} // AsyncMode is deprecated along with isAsyncMode\n\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\nvar hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n      console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\nexports.isValidElementType = isValidElementType;\nexports.typeOf = typeOf;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","/*!\n * Unidragger v2.4.0\n * Draggable base class\n * MIT license\n */\n\n/*jshint browser: true, unused: true, undef: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'unipointer/unipointer'\n    ], function( Unipointer ) {\n      return factory( window, Unipointer );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('unipointer')\n    );\n  } else {\n    // browser global\n    window.Unidragger = factory(\n      window,\n      window.Unipointer\n    );\n  }\n\n}( window, function factory( window, Unipointer ) {\n\n'use strict';\n\n// -------------------------- Unidragger -------------------------- //\n\nfunction Unidragger() {}\n\n// inherit Unipointer & EvEmitter\nvar proto = Unidragger.prototype = Object.create( Unipointer.prototype );\n\n// ----- bind start ----- //\n\nproto.bindHandles = function() {\n  this._bindHandles( true );\n};\n\nproto.unbindHandles = function() {\n  this._bindHandles( false );\n};\n\n/**\n * Add or remove start event\n * @param {Boolean} isAdd\n */\nproto._bindHandles = function( isAdd ) {\n  // munge isAdd, default to true\n  isAdd = isAdd === undefined ? true : isAdd;\n  // bind each handle\n  var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n  var touchAction = isAdd ? this._touchActionValue : '';\n  for ( var i=0; i < this.handles.length; i++ ) {\n    var handle = this.handles[i];\n    this._bindStartEvent( handle, isAdd );\n    handle[ bindMethod ]( 'click', this );\n    // touch-action: none to override browser touch gestures. metafizzy/flickity#540\n    if ( window.PointerEvent ) {\n      handle.style.touchAction = touchAction;\n    }\n  }\n};\n\n// prototype so it can be overwriteable by Flickity\nproto._touchActionValue = 'none';\n\n// ----- start event ----- //\n\n/**\n * pointer start\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerDown = function( event, pointer ) {\n  var isOkay = this.okayPointerDown( event );\n  if ( !isOkay ) {\n    return;\n  }\n  // track start event position\n  // Safari 9 overrides pageX and pageY. These values needs to be copied. flickity#842\n  this.pointerDownPointer = {\n    pageX: pointer.pageX,\n    pageY: pointer.pageY,\n  };\n\n  event.preventDefault();\n  this.pointerDownBlur();\n  // bind move and end events\n  this._bindPostStartEvents( event );\n  this.emitEvent( 'pointerDown', [ event, pointer ] );\n};\n\n// nodes that have text fields\nvar cursorNodes = {\n  TEXTAREA: true,\n  INPUT: true,\n  SELECT: true,\n  OPTION: true,\n};\n\n// input types that do not have text fields\nvar clickTypes = {\n  radio: true,\n  checkbox: true,\n  button: true,\n  submit: true,\n  image: true,\n  file: true,\n};\n\n// dismiss inputs with text fields. flickity#403, flickity#404\nproto.okayPointerDown = function( event ) {\n  var isCursorNode = cursorNodes[ event.target.nodeName ];\n  var isClickType = clickTypes[ event.target.type ];\n  var isOkay = !isCursorNode || isClickType;\n  if ( !isOkay ) {\n    this._pointerReset();\n  }\n  return isOkay;\n};\n\n// kludge to blur previously focused input\nproto.pointerDownBlur = function() {\n  var focused = document.activeElement;\n  // do not blur body for IE10, metafizzy/flickity#117\n  var canBlur = focused && focused.blur && focused != document.body;\n  if ( canBlur ) {\n    focused.blur();\n  }\n};\n\n// ----- move event ----- //\n\n/**\n * drag move\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerMove = function( event, pointer ) {\n  var moveVector = this._dragPointerMove( event, pointer );\n  this.emitEvent( 'pointerMove', [ event, pointer, moveVector ] );\n  this._dragMove( event, pointer, moveVector );\n};\n\n// base pointer move logic\nproto._dragPointerMove = function( event, pointer ) {\n  var moveVector = {\n    x: pointer.pageX - this.pointerDownPointer.pageX,\n    y: pointer.pageY - this.pointerDownPointer.pageY\n  };\n  // start drag if pointer has moved far enough to start drag\n  if ( !this.isDragging && this.hasDragStarted( moveVector ) ) {\n    this._dragStart( event, pointer );\n  }\n  return moveVector;\n};\n\n// condition if pointer has moved far enough to start drag\nproto.hasDragStarted = function( moveVector ) {\n  return Math.abs( moveVector.x ) > 3 || Math.abs( moveVector.y ) > 3;\n};\n\n// ----- end event ----- //\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerUp = function( event, pointer ) {\n  this.emitEvent( 'pointerUp', [ event, pointer ] );\n  this._dragPointerUp( event, pointer );\n};\n\nproto._dragPointerUp = function( event, pointer ) {\n  if ( this.isDragging ) {\n    this._dragEnd( event, pointer );\n  } else {\n    // pointer didn't move enough for drag to start\n    this._staticClick( event, pointer );\n  }\n};\n\n// -------------------------- drag -------------------------- //\n\n// dragStart\nproto._dragStart = function( event, pointer ) {\n  this.isDragging = true;\n  // prevent clicks\n  this.isPreventingClicks = true;\n  this.dragStart( event, pointer );\n};\n\nproto.dragStart = function( event, pointer ) {\n  this.emitEvent( 'dragStart', [ event, pointer ] );\n};\n\n// dragMove\nproto._dragMove = function( event, pointer, moveVector ) {\n  // do not drag if not dragging yet\n  if ( !this.isDragging ) {\n    return;\n  }\n\n  this.dragMove( event, pointer, moveVector );\n};\n\nproto.dragMove = function( event, pointer, moveVector ) {\n  event.preventDefault();\n  this.emitEvent( 'dragMove', [ event, pointer, moveVector ] );\n};\n\n// dragEnd\nproto._dragEnd = function( event, pointer ) {\n  // set flags\n  this.isDragging = false;\n  // re-enable clicking async\n  setTimeout( function() {\n    delete this.isPreventingClicks;\n  }.bind( this ) );\n\n  this.dragEnd( event, pointer );\n};\n\nproto.dragEnd = function( event, pointer ) {\n  this.emitEvent( 'dragEnd', [ event, pointer ] );\n};\n\n// ----- onclick ----- //\n\n// handle all clicks and prevent clicks when dragging\nproto.onclick = function( event ) {\n  if ( this.isPreventingClicks ) {\n    event.preventDefault();\n  }\n};\n\n// ----- staticClick ----- //\n\n// triggered after pointer down & up with no/tiny movement\nproto._staticClick = function( event, pointer ) {\n  // ignore emulated mouse up clicks\n  if ( this.isIgnoringMouseUp && event.type == 'mouseup' ) {\n    return;\n  }\n\n  this.staticClick( event, pointer );\n\n  // set flag for emulated clicks 300ms after touchend\n  if ( event.type != 'mouseup' ) {\n    this.isIgnoringMouseUp = true;\n    // reset flag after 300ms\n    setTimeout( function() {\n      delete this.isIgnoringMouseUp;\n    }.bind( this ), 400 );\n  }\n};\n\nproto.staticClick = function( event, pointer ) {\n  this.emitEvent( 'staticClick', [ event, pointer ] );\n};\n\n// ----- utils ----- //\n\nUnidragger.getPointerPoint = Unipointer.getPointerPoint;\n\n// -----  ----- //\n\nreturn Unidragger;\n\n}));\n","/*!\n * Unipointer v2.4.0\n * base class for doing one thing with pointer event\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*global define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'ev-emitter/ev-emitter'\n    ], function( EvEmitter ) {\n      return factory( window, EvEmitter );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter')\n    );\n  } else {\n    // browser global\n    window.Unipointer = factory(\n      window,\n      window.EvEmitter\n    );\n  }\n\n}( window, function factory( window, EvEmitter ) {\n\n'use strict';\n\nfunction noop() {}\n\nfunction Unipointer() {}\n\n// inherit EvEmitter\nvar proto = Unipointer.prototype = Object.create( EvEmitter.prototype );\n\nproto.bindStartEvent = function( elem ) {\n  this._bindStartEvent( elem, true );\n};\n\nproto.unbindStartEvent = function( elem ) {\n  this._bindStartEvent( elem, false );\n};\n\n/**\n * Add or remove start event\n * @param {Boolean} isAdd - remove if falsey\n */\nproto._bindStartEvent = function( elem, isAdd ) {\n  // munge isAdd, default to true\n  isAdd = isAdd === undefined ? true : isAdd;\n  var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n\n  // default to mouse events\n  var startEvent = 'mousedown';\n  if ( 'ontouchstart' in window ) {\n    // HACK prefer Touch Events as you can preventDefault on touchstart to\n    // disable scroll in iOS & mobile Chrome metafizzy/flickity#1177\n    startEvent = 'touchstart';\n  } else if ( window.PointerEvent ) {\n    // Pointer Events\n    startEvent = 'pointerdown';\n  }\n  elem[ bindMethod ]( startEvent, this );\n};\n\n// trigger handler methods for events\nproto.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// returns the touch that we're keeping track of\nproto.getTouch = function( touches ) {\n  for ( var i=0; i < touches.length; i++ ) {\n    var touch = touches[i];\n    if ( touch.identifier == this.pointerIdentifier ) {\n      return touch;\n    }\n  }\n};\n\n// ----- start event ----- //\n\nproto.onmousedown = function( event ) {\n  // dismiss clicks from right or middle buttons\n  var button = event.button;\n  if ( button && ( button !== 0 && button !== 1 ) ) {\n    return;\n  }\n  this._pointerDown( event, event );\n};\n\nproto.ontouchstart = function( event ) {\n  this._pointerDown( event, event.changedTouches[0] );\n};\n\nproto.onpointerdown = function( event ) {\n  this._pointerDown( event, event );\n};\n\n/**\n * pointer start\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto._pointerDown = function( event, pointer ) {\n  // dismiss right click and other pointers\n  // button = 0 is okay, 1-4 not\n  if ( event.button || this.isPointerDown ) {\n    return;\n  }\n\n  this.isPointerDown = true;\n  // save pointer identifier to match up touch events\n  this.pointerIdentifier = pointer.pointerId !== undefined ?\n    // pointerId for pointer events, touch.indentifier for touch events\n    pointer.pointerId : pointer.identifier;\n\n  this.pointerDown( event, pointer );\n};\n\nproto.pointerDown = function( event, pointer ) {\n  this._bindPostStartEvents( event );\n  this.emitEvent( 'pointerDown', [ event, pointer ] );\n};\n\n// hash of events to be bound after start event\nvar postStartEvents = {\n  mousedown: [ 'mousemove', 'mouseup' ],\n  touchstart: [ 'touchmove', 'touchend', 'touchcancel' ],\n  pointerdown: [ 'pointermove', 'pointerup', 'pointercancel' ],\n};\n\nproto._bindPostStartEvents = function( event ) {\n  if ( !event ) {\n    return;\n  }\n  // get proper events to match start event\n  var events = postStartEvents[ event.type ];\n  // bind events to node\n  events.forEach( function( eventName ) {\n    window.addEventListener( eventName, this );\n  }, this );\n  // save these arguments\n  this._boundPointerEvents = events;\n};\n\nproto._unbindPostStartEvents = function() {\n  // check for _boundEvents, in case dragEnd triggered twice (old IE8 bug)\n  if ( !this._boundPointerEvents ) {\n    return;\n  }\n  this._boundPointerEvents.forEach( function( eventName ) {\n    window.removeEventListener( eventName, this );\n  }, this );\n\n  delete this._boundPointerEvents;\n};\n\n// ----- move event ----- //\n\nproto.onmousemove = function( event ) {\n  this._pointerMove( event, event );\n};\n\nproto.onpointermove = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerMove( event, event );\n  }\n};\n\nproto.ontouchmove = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerMove( event, touch );\n  }\n};\n\n/**\n * pointer move\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerMove = function( event, pointer ) {\n  this.pointerMove( event, pointer );\n};\n\n// public\nproto.pointerMove = function( event, pointer ) {\n  this.emitEvent( 'pointerMove', [ event, pointer ] );\n};\n\n// ----- end event ----- //\n\n\nproto.onmouseup = function( event ) {\n  this._pointerUp( event, event );\n};\n\nproto.onpointerup = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerUp( event, event );\n  }\n};\n\nproto.ontouchend = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerUp( event, touch );\n  }\n};\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerUp = function( event, pointer ) {\n  this._pointerDone();\n  this.pointerUp( event, pointer );\n};\n\n// public\nproto.pointerUp = function( event, pointer ) {\n  this.emitEvent( 'pointerUp', [ event, pointer ] );\n};\n\n// ----- pointer done ----- //\n\n// triggered on pointer up & pointer cancel\nproto._pointerDone = function() {\n  this._pointerReset();\n  this._unbindPostStartEvents();\n  this.pointerDone();\n};\n\nproto._pointerReset = function() {\n  // reset properties\n  this.isPointerDown = false;\n  delete this.pointerIdentifier;\n};\n\nproto.pointerDone = noop;\n\n// ----- pointer cancel ----- //\n\nproto.onpointercancel = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerCancel( event, event );\n  }\n};\n\nproto.ontouchcancel = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerCancel( event, touch );\n  }\n};\n\n/**\n * pointer cancel\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerCancel = function( event, pointer ) {\n  this._pointerDone();\n  this.pointerCancel( event, pointer );\n};\n\n// public\nproto.pointerCancel = function( event, pointer ) {\n  this.emitEvent( 'pointerCancel', [ event, pointer ] );\n};\n\n// -----  ----- //\n\n// utility function for getting x/y coords from event\nUnipointer.getPointerPoint = function( pointer ) {\n  return {\n    x: pointer.pageX,\n    y: pointer.pageY\n  };\n};\n\n// -----  ----- //\n\nreturn Unipointer;\n\n}));\n","module.exports = window[\"React\"];","module.exports = window[\"ReactDOM\"];","module.exports = window[\"jQuery\"];","module.exports = window[\"wp\"][\"blob\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"index\": 0,\n\t\"style-index\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkimage_list\"] = self[\"webpackChunkimage_list\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"style-index\"], function() { return __webpack_require__(\"./src/index.js\"); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["window","factory","define","amd","jQuery","module","exports","require","jQueryBridget","arraySlice","Array","prototype","slice","console","logError","message","error","namespace","PluginClass","$","option","opts","isPlainObject","options","extend","fn","arg0","args","call","arguments","methodCall","plainCall","$elems","methodName","returnValue","pluginMethodStr","each","i","elem","instance","data","method","charAt","value","apply","undefined","_init","updateJQuery","bridget","global","EvEmitter","proto","on","eventName","listener","events","_events","listeners","indexOf","push","once","onceEvents","_onceEvents","onceListeners","off","length","index","splice","emitEvent","isOnce","allOff","getSize","getStyleSize","num","parseFloat","isValid","isNaN","noop","measurements","measurementsLength","getZeroSize","size","width","height","innerWidth","innerHeight","outerWidth","outerHeight","measurement","getStyle","style","getComputedStyle","isSetup","isBoxSizeOuter","setup","div","document","createElement","padding","borderStyle","borderWidth","boxSizing","body","documentElement","appendChild","Math","round","removeChild","querySelector","nodeType","display","offsetWidth","offsetHeight","isBorderBox","paddingWidth","paddingLeft","paddingRight","paddingHeight","paddingTop","paddingBottom","marginWidth","marginLeft","marginRight","marginHeight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderHeight","borderTopWidth","borderBottomWidth","isBorderBoxSizeOuter","styleWidth","styleHeight","matchesSelector","matchesMethod","ElemProto","Element","matches","prefixes","prefix","selector","fizzyUIUtils","utils","a","b","prop","modulo","makeArray","obj","isArray","isArrayLike","removeFrom","ary","getParent","parentNode","getQueryElement","handleEvent","event","type","filterFindElements","elems","ffElems","forEach","HTMLElement","childElems","querySelectorAll","debounceMethod","_class","threshold","timeoutName","timeout","clearTimeout","_this","setTimeout","docReady","callback","readyState","addEventListener","toDashed","str","replace","match","$1","$2","toLowerCase","htmlInit","WidgetClass","dashedNamespace","dataAttr","dataAttrElems","jsDashElems","concat","dataOptionsAttr","attr","getAttribute","JSON","parse","className","Flickity","Cell","parent","element","create","position","setAttribute","x","shift","originSide","destroy","unselect","side","transform","removeAttribute","setPosition","updateTarget","renderPosition","setDefaultTarget","marginProperty","target","cellAlign","sideOffset","adjustedX","percentPosition","getPositionValue","select","classList","add","remove","wrapShift","slideableWidth","Slide","isOriginLeft","cells","addCell","cell","max","beginMargin","firstMargin","endMargin","lastCell","getLastCell","lastMargin","slideWidth","getCellElements","map","animatePrototype","startAnimation","isAnimating","restingFrames","animate","applyDragForce","applySelectedAttraction","previousX","integratePhysics","positionSlider","settle","requestAnimationFrame","animateFrame","wrapAround","shiftWrapCells","setTranslateX","dispatchScrollEvent","is3d","cursorPosition","rightToLeft","translateX","slider","firstSlide","slides","positionX","progress","slidesWidth","dispatchEvent","positionSliderAtSelected","selectedSlide","velocity","isResting","isPointerDown","isFreeScrolling","selectedIndex","beforeGap","_shiftCells","beforeShiftCells","afterGap","afterShiftCells","gap","cellShift","_unshiftCells","getFrictionFactor","applyForce","force","getRestingPosition","isDraggable","dragVelocity","dragX","dragForce","dragDown","distance","selectedAttraction","_Flickity","moveElements","toElem","GUID","instances","queryElement","flickityGUID","$element","constructor","defaults","_create","accessibility","freeScrollFriction","friction","namespaceJQueryEvents","resize","setGallerySize","createMethods","id","guid","viewport","_createSlider","watchCSS","activate","isActive","cellElems","_filterFindCellElements","children","reloadCells","tabIndex","selectInitialIndex","isInitActivated","cellSelector","_makeCells","positionCells","_getWrapShiftCells","cellElem","getLastSlide","_sizeCells","_positionCells","maxCellHeight","cellX","startCell","len","updateSlides","_containSlides","slide","nextMargin","canCellFit","_getCanCellFit","updateSelectedSlide","groupCells","number","parseInt","percentMatch","percent","reposition","setCellAlign","cellAlignShorthands","center","left","right","shorthand","adaptiveHeight","gapX","cellIndex","_getGapCells","increment","contain","isRightToLeft","contentWidth","isContentSmaller","beginBound","endBound","min","emitArgs","$event","jQEvent","Event","trigger","isWrap","isInstant","_wrapSelect","prevIndex","isWrapping","wrapIndex","delta","abs","backWrapDelta","forewardWrapDelta","isDragSelect","previous","next","unselectSelectedSlide","selectedCells","selectedElements","selectedCell","selectedElement","initialIndex","queryCell","selectCell","getCellSlideIndex","getCell","getCells","getParentCell","getAdjacentCellElements","adjCount","slideIndex","uiChange","childUIPointerDown","preventDefault","focus","onresize","isDragging","watchOption","afterContent","content","deactivate","onkeydown","isNotFocused","activeElement","handler","keyboardHandlers","keyCode","leftMethod","rightMethod","prevScrollY","pageYOffset","preventScroll","scrollTo","pageXOffset","removeEventListener","removeData","setJQuery","jq","Unipointer","Object","bindStartEvent","_bindStartEvent","unbindStartEvent","isAdd","bindMethod","startEvent","PointerEvent","getTouch","touches","touch","identifier","pointerIdentifier","onmousedown","button","_pointerDown","ontouchstart","changedTouches","onpointerdown","pointer","pointerId","pointerDown","_bindPostStartEvents","postStartEvents","mousedown","touchstart","pointerdown","_boundPointerEvents","_unbindPostStartEvents","onmousemove","_pointerMove","onpointermove","ontouchmove","pointerMove","onmouseup","_pointerUp","onpointerup","ontouchend","_pointerDone","pointerUp","_pointerReset","pointerDone","onpointercancel","_pointerCancel","ontouchcancel","pointerCancel","getPointerPoint","pageX","y","pageY","Unidragger","bindHandles","_bindHandles","unbindHandles","touchAction","_touchActionValue","handles","handle","isOkay","okayPointerDown","pointerDownPointer","pointerDownBlur","cursorNodes","TEXTAREA","INPUT","SELECT","OPTION","clickTypes","radio","checkbox","submit","image","file","isCursorNode","nodeName","isClickType","focused","canBlur","blur","moveVector","_dragPointerMove","_dragMove","hasDragStarted","_dragStart","_dragPointerUp","_dragEnd","_staticClick","isPreventingClicks","dragStart","dragMove","bind","dragEnd","onclick","isIgnoringMouseUp","staticClick","draggable","dragThreshold","_createDrag","onActivateDrag","_uiChangeDrag","onDeactivateDrag","updateDraggable","bindDrag","unbindDrag","_pointerDownDefault","_pointerDownPreventDefault","pointerDownFocus","pointerDownScroll","getScrollPosition","focusNodes","isFocusNode","isTouchStart","isTouchPointer","pointerType","isTouchScrolling","dragStartPosition","previousDragX","direction","originBound","dragMoveTime","Date","freeScroll","dragEndRestingSelect","restingX","dragEndBoostSelect","getSlideDistance","positiveResting","_getClosestResting","negativeResting","minDistance","Infinity","condition","dist","minDist","isWrapAround","wrap","floor","clickedCell","onscroll","scroll","scrollMoveX","scrollMoveY","svgURI","PrevNextButton","isEnabled","isPrevious","leftDirection","isLeft","disable","svg","createSVG","update","createElementNS","path","pathMovements","getArrowMovements","arrowShape","shape","x0","x1","y1","x2","y2","x3","enable","disabled","lastIndex","boundIndex","prevNextButtons","_createPrevNextButtons","prevButton","nextButton","activatePrevNextButtons","deactivatePrevNextButtons","PageDots","holder","dots","handleClick","onClick","setDots","addDots","removeDots","count","fragment","createDocumentFragment","newDots","dot","updateSelected","selectedDot","onTap","pageDots","_createPageDots","activatePageDots","updateSelectedPageDots","updatePageDots","deactivatePageDots","Player","state","onVisibilityChange","visibilityChange","onVisibilityPlay","visibilityPlay","play","isPageHidden","hidden","tick","time","autoPlay","clear","stop","pause","unpause","pauseAutoPlayOnHover","_createPlayer","player","activatePlayer","stopPlayer","deactivatePlayer","playPlayer","pausePlayer","unpausePlayer","onmouseenter","onmouseleave","getCellsFragment","insert","isAppend","insertCellElement","insertBefore","endCells","cellChange","append","prepend","minCellIndex","cellSizeChange","changedCellIndex","isPositioningSlider","prevSelectedElem","_createLazyload","lazyLoad","lazyImages","lazyCellImages","getCellLazyImages","img","LazyLoader","lazyloadAttr","srcAttr","srcsetAttr","lazySelector","imgs","flickity","load","src","srcset","onload","complete","onerror","_createAsNavFor","activateAsNavFor","deactivateAsNavFor","destroyAsNavFor","asNavForOption","asNavFor","initNavCompanion","setNavCompanion","companion","navCompanion","onNavCompanionSelect","navCompanionSelect","onNavStaticClick","companionCells","firstIndex","selectIndex","lerp","removeNavSelectedElements","navSelectedElements","changeNavSelectedClass","t","navElem","cellElement","imagesLoaded","ImagesLoaded","onAlways","queryElem","elements","getImages","jqDeferred","Deferred","check","images","addElementImages","addImage","background","addElementBackgroundImages","elementNodeTypes","childImgs","child","reURL","exec","backgroundImage","url","addBackground","loadingImage","LoadingImage","Background","progressedCount","hasAnyBroken","onProgress","isLoaded","notify","debug","log","isComplete","jqMethod","getIsImageComplete","confirm","naturalWidth","proxyImage","Image","unbindEvents","makeJQueryPlugin","promise","_createImagesLoaded","onImagesLoadedProgress","__","useBlockProps","BlockControls","MediaUpload","InspectorControls","MediaPlaceholder","Spinner","PanelBody","ToolbarButton","ToggleControl","Button","isBlobURL","Edit","attributes","setAttributes","noticeOperations","noticeUI","gallery","displayImageList","ids","onSelectImage","media","alt","removeImage","onUploadError","removeAllNotices","createErrorNotice","flickityOptions","boolean","open","title","instructions","registerBlockType","save","edit","Save"],"sourceRoot":""}